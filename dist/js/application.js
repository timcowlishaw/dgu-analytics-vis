!function t(n,e,r){function i(u,a){if(!e[u]){if(!n[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var c=e[u]={exports:{}};n[u][0].call(c.exports,function(t){var e=n[u][1][t];return i(e?e:t)},c,c.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n){function e(t){return t||0===t?t:""}function r(t,n){return t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className)}function i(t){return"true"===s.getAttribute(t,"data-anddom-hidden")}function o(t){s.setAttribute(t,"data-anddom-display",t.style.display)}function u(t){t.style.display=s.getAttribute(t,"data-anddom-display")||"",s.removeAttribute(t,"data-anddom-hidden")}function a(t){s.setAttribute(t,"data-anddom-hidden","true"),t.style.display="none"}var s=n.exports={text:function(t,n){t.textContent=e(n)},addClass:function(t,n){n=e(n),n&&(t.classList?t.classList.add(n):r(t,n)||(t.classList?t.classList.add(n):t.className+=" "+n))},removeClass:function(t,n){t.classList?t.classList.remove(e(n)):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:r,switchClass:function(t,n,e){n&&this.removeClass(t,n),this.addClass(t,e)},addAttribute:function(t,n){t.setAttribute(n,"")},removeAttribute:function(t,n){t.removeAttribute(n)},setAttribute:function(t,n,r){t.setAttribute(n,e(r))},getAttribute:function(t,n){return t.getAttribute(n)},hide:function(t){i(t)||(o(t),a(t))},show:function(t){u(t)},html:function(t,n){t.innerHTML=n}}},{}],2:[function(t,n){"use strict";n.exports=function(t){function n(t){var n=new e(t),r=n.promise();return r.isRejected()?r:(n.setHowMany(1),n.setUnwrap(),n.init(),r)}var e=t._SomePromiseArray;t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],3:[function(t,n){(function(e){"use strict";function r(){this._isTickUsed=!1,this._schedule=i,this._length=0,this._lateBuffer=new o(16),this._functionBuffer=new o(65536);var t=this;this.consumeFunctionBuffer=function(){t._consumeFunctionBuffer()}}var i=t("./schedule.js"),o=t("./queue.js"),u=t("./util.js").errorObj,a=t("./util.js").tryCatch1,s="undefined"!=typeof e?e:void 0;r.prototype.haveItemsQueued=function(){return this._length>0},r.prototype.invokeLater=function(t,n,e){void 0===s||null==s.domain||t.domain||(t=s.domain.bind(t)),this._lateBuffer.push(t,n,e),this._queueTick()},r.prototype.invoke=function(t,n,e){void 0===s||null==s.domain||t.domain||(t=s.domain.bind(t));var r=this._functionBuffer;r.push(t,n,e),this._length=r.length(),this._queueTick()},r.prototype._consumeFunctionBuffer=function(){for(var t=this._functionBuffer;t.length()>0;){var n=t.shift(),e=t.shift(),r=t.shift();n.call(e,r)}this._reset(),this._consumeLateBuffer()},r.prototype._consumeLateBuffer=function(){for(var t=this._lateBuffer;t.length()>0;){var n=t.shift(),e=t.shift(),r=t.shift(),i=a(n,e,r);if(i===u){if(this._queueTick(),null==n.domain)throw i.e;n.domain.emit("error",i.e)}}},r.prototype._queueTick=function(){this._isTickUsed||(this._schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)},r.prototype._reset=function(){this._isTickUsed=!1,this._length=0},n.exports=new r}).call(this,t("FWaASH"))},{"./queue.js":26,"./schedule.js":29,"./util.js":36,FWaASH:37}],4:[function(t,n){"use strict";var e=t("./promise.js")();n.exports=e},{"./promise.js":21}],5:[function(t,n){"use strict";var e=Object.create;if(e){var r=e(null),i=e(null);r[" size"]=i[" size"]=0}n.exports=function(n){function e(t){return new Function("obj","                                             \n        'use strict'                                                         \n        var len = this.length;                                               \n        switch(len) {                                                        \n            case 1: return obj.methodName(this[0]);                          \n            case 2: return obj.methodName(this[0], this[1]);                 \n            case 3: return obj.methodName(this[0], this[1], this[2]);        \n            case 0: return obj.methodName();                                 \n            default: return obj.methodName.apply(obj, this);                 \n        }                                                                    \n        ".replace(/methodName/g,t))}function o(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))}function u(t,n,e){var r=e[t];if("function"!=typeof r){if(!d(t))return null;if(r=n(t),e[t]=r,e[" size"]++,e[" size"]>512){for(var i=Object.keys(e),o=0;256>o;++o)delete e[i[o]];e[" size"]=i.length-256}}return r}function a(t){return u(t,e,r)}function s(t){return u(t,o,i)}function c(t){return t[this.pop()].apply(t,this)}function l(t){return t[this]}function f(t){return t[this]}var h=t("./util.js"),p=h.canEvaluate,d=h.isIdentifier;n.prototype.call=function(t){for(var n=arguments.length,e=new Array(n-1),r=1;n>r;++r)e[r-1]=arguments[r];if(p){var i=a(t);if(null!==i)return this._then(i,void 0,void 0,e,void 0)}return e.push(t),this._then(c,void 0,void 0,e,void 0)},n.prototype.get=function(t){var n,e="number"==typeof t;if(e)n=f;else if(p){var r=s(t);n=null!==r?r:l}else n=l;return this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":36}],6:[function(t,n){"use strict";n.exports=function(n,e){var r=t("./errors.js"),i=r.canAttach,o=t("./async.js"),u=r.CancellationError;n.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var n,e=this;void 0!==(n=e._cancellationParent)&&n.isCancellable();)e=n;e._attachExtraTrace(t),e._rejectUnchecked(t)},n.prototype.cancel=function(t){return this.isCancellable()?(t=void 0!==t?i(t)?t:new Error(t+""):new u,o.invokeLater(this._cancel,this,t),this):this},n.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},n.prototype.uncancellable=function(){var t=new n(e);return t._propagateFrom(this,6),t._follow(this),t._unsetCancellable(),t},n.prototype.fork=function(t,n,e){var r=this._then(t,n,e,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":3,"./errors.js":11}],7:[function(t,n){"use strict";n.exports=function(){function n(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{n=t.toString();var r=/\[object [a-zA-Z0-9$_]+\]/;if(r.test(n))try{var i=JSON.stringify(t);n=i}catch(o){}0===n.length&&(n="(empty array)")}return"(<"+e(n)+">, no stack trace)"}function e(t){var n=41;return t.length<n?t:t.substr(0,n-3)+"..."}function r(t,n){this.captureStackTrace(r,n)}var i=t("./util.js").inherits,o=t("./es5.js").defineProperty,u=new RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|3|4|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),a=null,s=null;i(r,Error),r.prototype.captureStackTrace=function(t,n){c(this,t,n)},r.possiblyUnhandledRejection=function(t){if("object"==typeof console){var n;if("object"==typeof t||"function"==typeof t){var e=t.stack;n="Possibly unhandled "+s(e,t)}else n="Possibly unhandled "+String(t);"function"==typeof console.error||"object"==typeof console.error?console.error(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},r.combine=function(t,n){for(var e=t.length-1,r=n.length-1;r>=0;--r){var i=n[r];if(t[e]!==i)break;t.pop(),e--}t.push("From previous event:");for(var o=t.concat(n),s=[],r=0,c=o.length;c>r;++r)u.test(o[r])&&a.test(o[r])||r>0&&!a.test(o[r])&&"From previous event:"!==o[r]||s.push(o[r]);return s},r.protectErrorMessageNewlines=function(t){for(var n=0;n<t.length&&!a.test(t[n]);++n);if(!(1>=n)){for(var e=[],r=0;n>r;++r)e.push(t.shift());t.unshift(e.join("\x00"))}},r.isSupported=function(){return"function"==typeof c};var c=function l(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){a=/^\s*at\s*/,s=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.name+". "+e.message:n(e)};var t=Error.captureStackTrace;return function(n,e){t(n,e)}}var e=new Error;if("string"==typeof e.stack&&"function"==typeof"".startsWith&&e.stack.startsWith("stackDetection@")&&"stackDetection"===l.name){o(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),a=/@/;var r=/[@\n]/;return s=function(t,e){return"string"==typeof t?e.name+". "+e.message+"\n"+t:void 0!==e.name&&void 0!==e.message?e.name+". "+e.message:n(e)},function(t){for(var n=(new Error).stack,e=n.split(r),i=e.length,o="",u=0;i>u;u+=2)o+=e[u],o+="@",o+=e[u+1],o+="\n";t.stack=o}}return s=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?n(e):e.name+". "+e.message},null}();return r}},{"./es5.js":13,"./util.js":36}],8:[function(t,n){"use strict";n.exports=function(n){function e(t,n,e){this._instances=t,this._callback=n,this._promise=e}function r(t,n){var e={},r=u(t,e,n);if(r===a)return r;var i=s(e);return i.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function"),a):r}var i=t("./util.js"),o=t("./errors.js"),u=i.tryCatch1,a=i.errorObj,s=t("./es5.js").keys,c=o.TypeError;return e.prototype.doFilter=function(t){for(var e=this._callback,i=this._promise,s=i._boundTo,c=0,l=this._instances.length;l>c;++c){var f=this._instances[c],h=f===Error||null!=f&&f.prototype instanceof Error;if(h&&t instanceof f){var p=u(e,s,t);return p===a?(n.e=p.e,n):p}if("function"==typeof f&&!h){var d=r(f,t);if(d===a){var g=o.canAttach(a.e)?a.e:new Error(a.e+"");this._promise._attachExtraTrace(g),t=a.e;break}if(d){var p=u(e,s,t);return p===a?(n.e=p.e,n):p}}}return n.e=t,n},e}},{"./errors.js":11,"./es5.js":13,"./util.js":36}],9:[function(t,n){"use strict";var e=t("./util.js"),r=e.isPrimitive,i=e.wrapsPrimitiveReceiver;n.exports=function(t){var n=function(){return this},e=function(){throw this},o=function(t,n){return 1===n?function(){throw t}:2===n?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return i&&r(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return i&&r(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":36}],10:[function(t,n){"use strict";n.exports=function(t,n){var e=t.reduce;t.prototype.each=function(t){return e(this,t,null,n)},t.each=function(t,r){return e(t,r,null,n)}}},{}],11:[function(t,n){"use strict";function e(t){try{p(t,"isOperational",!0)}catch(n){}}function r(t){return null==t?!1:t instanceof a||t.isOperational===!0}function i(t){return t instanceof Error}function o(t){return i(t)}function u(t,n){function e(r){return this instanceof e?(this.message="string"==typeof r?r:n,this.name=t,void(Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new e(r)}return h(e,Error),e}function a(t){this.name="OperationalError",this.message=t,this.cause=t,this.isOperational=!0,t instanceof Error?(this.message=t.message,this.stack=t.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var s,c,l=t("./es5.js").freeze,f=t("./util.js"),h=f.inherits,p=f.notEnumerableProp,d=u("CancellationError","cancellation error"),g=u("TimeoutError","timeout error"),v=u("AggregateError","aggregate error");try{s=TypeError,c=RangeError}catch(y){s=u("TypeError","type error"),c=u("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<m.length;++_)"function"==typeof Array.prototype[m[_]]&&(v.prototype[m[_]]=Array.prototype[m[_]]);v.prototype.length=0,v.prototype.isOperational=!0;var b=0;v.prototype.toString=function(){var t=Array(4*b+1).join(" "),n="\n"+t+"AggregateError of:\n";b++,t=Array(4*b+1).join(" ");for(var e=0;e<this.length;++e){for(var r=this[e]===this?"[Circular AggregateError]":this[e]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),n+=r+"\n"}return b--,n},h(a,Error);var x="__BluebirdErrorTypes__",w=Error[x];w||(w=l({CancellationError:d,TimeoutError:g,OperationalError:a,RejectionError:a,AggregateError:v}),p(Error,x,w)),n.exports={Error:Error,TypeError:s,RangeError:c,CancellationError:w.CancellationError,OperationalError:w.OperationalError,TimeoutError:w.TimeoutError,AggregateError:w.AggregateError,originatesFromRejection:r,markAsOriginatingFromRejection:e,canAttach:o}},{"./es5.js":13,"./util.js":36}],12:[function(t,n){"use strict";n.exports=function(n){function e(t){var e=new r(t),i=n.rejected(e),o=i._peekContext();return null!=o&&o._attachExtraTrace(e),i}var r=t("./errors.js").TypeError;return e}},{"./errors.js":11}],13:[function(t,n){var e=function(){"use strict";return void 0===this}();if(e)n.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,u=function(t){var n=[];for(var e in t)r.call(t,e)&&n.push(e);return n},a=function(t,n,e){return t[n]=e.value,t},s=function(t){return t},c=function(t){try{return Object(t).constructor.prototype}catch(n){return o}},l=function(t){try{return"[object Array]"===i.call(t)}catch(n){return!1}};n.exports={isArray:l,keys:u,defineProperty:a,freeze:s,getPrototypeOf:c,isES5:e}}},{}],14:[function(t,n){"use strict";n.exports=function(t,n){var e=t.map;t.prototype.filter=function(t,r){return e(this,t,r,n)},t.filter=function(t,r,i){return e(t,r,i,n)}}},{}],15:[function(t,n){"use strict";n.exports=function(n,e,r){function i(){return this}function o(){throw this}function u(t){return function(){return t}}function a(t){return function(){throw t}}function s(t,n,e){var r;return r=h&&p(n)?e?u(n):a(n):e?i:o,t._then(r,d,void 0,n,void 0)}function c(t){var i=this.promise,o=this.handler,u=i._isBound()?o.call(i._boundTo):o();if(void 0!==u){var a=r(u,void 0);if(a instanceof n)return s(a,t,i.isFulfilled())}return i.isRejected()?(e.e=t,e):t}function l(t){var e=this.promise,i=this.handler,o=e._isBound()?i.call(e._boundTo,t):i(t);if(void 0!==o){var u=r(o,void 0);if(u instanceof n)return s(u,t,!0)}return t}var f=t("./util.js"),h=f.wrapsPrimitiveReceiver,p=f.isPrimitive,d=f.thrower;n.prototype._passThroughHandler=function(t,n){if("function"!=typeof t)return this.then();var e={promise:this,handler:t};return this._then(n?c:l,n?c:void 0,void 0,e,void 0)},n.prototype.lastly=n.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},n.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":36}],16:[function(t,n){"use strict";n.exports=function(n,e,r,i){function o(t,e){for(var r=f,u=n,a=e.length,s=0;a>s;++s){var c=h(e[s],void 0,t);if(c===r)return u.reject(r.e);var l=i(c,o);if(l instanceof u)return l}return null}function u(t,e,i){var o=this._promise=new n(r);o._setTrace(void 0),this._generatorFunction=t,this._receiver=e,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p}var a=t("./errors.js"),s=a.TypeError,c=t("./util.js").deprecated,l=t("./util.js"),f=l.errorObj,h=l.tryCatch1,p=[];u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},u.prototype._continue=function(t){if(t===f){this._generator=void 0;var e=a.canAttach(t.e)?t.e:new Error(t.e+"");return this._promise._attachExtraTrace(e),void this._promise._reject(t.e,e)}var r=t.value;if(t.done===!0)this._generator=void 0,this._promise._tryFollow(r)||this._promise._fulfill(r);else{var u=i(r,void 0);if(!(u instanceof n)&&(u=o(u,this._yieldHandlers),null===u))return void this._throw(new s("A value was yielded that could not be treated as a promise"));u._then(this._next,this._throw,void 0,this,null)}},u.prototype._throw=function(t){a.canAttach(t)&&this._promise._attachExtraTrace(t),this._continue(h(this._generator["throw"],this._generator,t))},u.prototype._next=function(t){this._continue(h(this._generator.next,this._generator,t))},n.coroutine=function(t,n){if("function"!=typeof t)throw new s("generatorFunction must be a function");var e=Object(n).yieldHandler,r=u;return function(){var n=t.apply(this,arguments),i=new r(void 0,void 0,e);return i._generator=n,i._next(void 0),i.promise()}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new s("fn must be a function");p.push(t)},n.spawn=function(t){if(c("Promise.spawn is deprecated. Use Promise.coroutine instead."),"function"!=typeof t)return e("generatorFunction must be a function");var r=new u(t,this),i=r.promise();return r._run(n.spawn),i}}},{"./errors.js":11,"./util.js":36}],17:[function(t,n){"use strict";n.exports=function(n,e,r,i){var o=t("./util.js"),u=o.canEvaluate,a=o.tryCatch1,s=o.errorObj;if(u){for(var c=function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))},l=function(t){for(var n=[],e=1;t>=e;++e)n.push("holder.p"+e);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,n.join(", ")))},f=[],h=[void 0],p=1;5>=p;++p)f.push(c(p)),h.push(l(p));var d=function(t,n){this.p1=this.p2=this.p3=this.p4=this.p5=null,this.fn=n,this.total=t,this.now=0};d.prototype.callers=h,d.prototype.checkFulfillment=function(t){var n=this.now;n++;var e=this.total;if(n>=e){var r=this.callers[e],i=a(r,void 0,this);i===s?t._rejectUnchecked(i.e):t._tryFollow(i)||t._fulfillUnchecked(i)}else this.now=n}}n.join=function(){var t,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(t=arguments[o],6>o&&u)){var a=new n(i);a._setTrace(void 0);for(var s=new d(o,t),c=a._reject,l=f,h=0;o>h;++h){var p=r(arguments[h],void 0);p instanceof n?p.isPending()?p._then(l[h],c,void 0,a,s):p.isFulfilled()?l[h].call(a,p._settledValue,s):(a._reject(p._settledValue),p._unsetRejectionIsUnhandled()):l[h].call(a,p,s)}return a}for(var g=arguments.length,v=new Array(g),y=0;g>y;++y)v[y]=arguments[y];var a=new e(v).promise();return void 0!==t?a.spread(t):a}}},{"./util.js":36}],18:[function(t,n){"use strict";n.exports=function(n,e,r,i,o){function u(t,n,e,r){this.constructor$(t),this._callback=n,this._preservedValues=r===o?new Array(this.length()):null,this._limit=e,this._inFlight=0,this._queue=e>=1?[]:h,this._init$(void 0,-2)}function a(t,n,e,r){var i="object"==typeof e&&null!==e?e.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new u(t,n,i,r)}var s=t("./util.js"),c=s.tryCatch3,l=s.errorObj,f={},h=[];s.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(t,e){var r=this._values;if(null!==r){var o=this.length(),u=this._preservedValues,a=this._limit;if(r[e]===f){if(r[e]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return r[e]=t,void this._queue.push(e);null!==u&&(u[e]=t);var s=this._callback,h=this._promise._boundTo,p=c(s,h,t,e,o);if(p===l)return this._reject(p.e);var d=i(p,void 0);if(d instanceof n){if(d.isPending())return a>=1&&this._inFlight++,r[e]=f,d._proxyPromiseArray(this,e);if(!d.isFulfilled())return d._unsetRejectionIsUnhandled(),this._reject(d.reason());p=d.value()}r[e]=p}var g=++this._totalResolved;g>=o&&(null!==u?this._filter(r,u):this._resolve(r))}},u.prototype._drainQueue=function(){for(var t=this._queue,n=this._limit,e=this._values;t.length>0&&this._inFlight<n;){var r=t.pop();this._promiseFulfilled(e[r],r)}},u.prototype._filter=function(t,n){for(var e=n.length,r=new Array(e),i=0,o=0;e>o;++o)t[o]&&(r[i++]=n[o]);r.length=i,this._resolve(r)},u.prototype.preservedValues=function(){return this._preservedValues},n.prototype.map=function(t,n){return"function"!=typeof t?r("fn must be a function"):a(this,t,n,null).promise()},n.map=function(t,n,e,i){return"function"!=typeof n?r("fn must be a function"):a(t,n,e,i).promise()}}},{"./util.js":36}],19:[function(t,n){"use strict";n.exports=function(n){function e(t){throw t}function r(t,n){if(!u.isArray(t))return i(t,n);var r=u.tryCatchApply(this,[null].concat(t),n);r===l&&a.invokeLater(e,void 0,r.e)}function i(t,n){var r=this,i=void 0===t?c(r,n,null):s(r,n,null,t);i===l&&a.invokeLater(e,void 0,i.e)}function o(t,n){var r=this,i=c(r,n,t);i===l&&a.invokeLater(e,void 0,i.e)}var u=t("./util.js"),a=t("./async.js"),s=u.tryCatch2,c=u.tryCatch1,l=u.errorObj;n.prototype.nodeify=function(t,n){if("function"==typeof t){var e=i;void 0!==n&&Object(n).spread&&(e=r),this._then(e,o,void 0,t,this._boundTo)}return this}}},{"./async.js":3,"./util.js":36}],20:[function(t,n){"use strict";n.exports=function(n,e){var r=t("./util.js"),i=t("./async.js"),o=t("./errors.js"),u=r.tryCatch1,a=r.errorObj;n.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},n.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(t)},n.prototype._clearFirstHandlerData$Base=n.prototype._clearFirstHandlerData,n.prototype._clearFirstHandlerData=function(){this._clearFirstHandlerData$Base(),this._progressHandler0=void 0},n.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},n.prototype._doProgressWith=function(t){var e=t.value,r=t.handler,i=t.promise,s=t.receiver,c=u(r,s,e);if(c===a){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var l=o.canAttach(c.e)?c.e:new Error(c.e+"");i._attachExtraTrace(l),i._progress(c.e)}}else c instanceof n?c._then(i._progress,null,null,i,void 0):i._progress(c)},n.prototype._progressUnchecked=function(t){if(this.isPending())for(var r=this._length(),o=this._progress,u=0;r>u;u++){var a=this._progressHandlerAt(u),s=this._promiseAt(u);if(s instanceof n)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:s,receiver:this._receiverAt(u),value:t}):i.invoke(o,s,t);else{var c=this._receiverAt(u);"function"==typeof a?a.call(c,t,s):c instanceof n&&c._isProxied()?c._progressUnchecked(t):c instanceof e&&c._promiseProgressed(t,s)}}}}},{"./async.js":3,"./errors.js":11,"./util.js":36}],21:[function(t,n){(function(e){"use strict";function r(t){try{Promise===t&&(Promise=i)}catch(n){}return t}var i;"undefined"!=typeof Promise&&(i=Promise),n.exports=function(){function n(t){if("function"!=typeof t)throw new w("the promise constructor requires a resolver function");if(this.constructor!==n)throw new w("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,t!==s&&this._resolveFromResolver(t)}function i(t){return t[0]}var o=t("./util.js"),u=t("./async.js"),a=t("./errors.js"),s=function(){},c={},l={e:null},f=t("./thenables.js")(n,s),h=t("./promise_array.js")(n,s,f),p=t("./captured_trace.js")(),d=t("./catch_filter.js")(l),g=t("./promise_resolver.js"),v=o.isArray,y=o.errorObj,m=o.tryCatch1,_=o.tryCatch2,b=o.tryCatchApply,x=a.RangeError,w=a.TypeError,M=a.CancellationError,j=a.TimeoutError,E=a.OperationalError,k=a.originatesFromRejection,A=a.markAsOriginatingFromRejection,S=a.canAttach,C=o.thrower,T=t("./errors_api_rejection")(n),F=function(){return new w("circular promise resolution chain")};n.prototype.bind=function(t){var e=f(t,void 0),r=new n(s);if(e instanceof n){var o=e.then(function(t){r._setBoundTo(t)}),u=n.all([this,o]).then(i);r._follow(u)}else r._follow(this),r._setBoundTo(t);return r._propagateFrom(this,3),r},n.prototype.toString=function(){return"[object Promise]"},n.prototype.caught=n.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var r,i=new Array(e-1),o=0;for(r=0;e-1>r;++r){var u=arguments[r];if("function"!=typeof u){var a=new w("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(a),n.reject(a)}i[o++]=u}i.length=o,t=arguments[r],this._resetTrace();var s=new d(i,t,this);return this._then(void 0,s.doFilter,void 0,s,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},n.prototype.then=function(t,n,e){return this._then(t,n,e,void 0,void 0)},n.prototype.done=function(t,n,e){var r=this._then(t,n,e,void 0,void 0);r._setIsFinal()},n.prototype.spread=function(t,n){return this._then(t,n,void 0,c,void 0)},n.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},n.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this._settledValue,t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this._settledValue,t.isRejected=!0),t},n.prototype.all=function(){return new h(this).promise()},n.is=function(t){return t instanceof n},n.all=function(t){return new h(t).promise()},n.prototype.error=function(t){return this.caught(k,t)},n.prototype._resolveFromSyncValue=function(t){if(t===y)this._cleanValues(),this._setRejected(),this._settledValue=t.e,this._ensurePossibleRejectionHandled();else{var e=f(t,void 0);e instanceof n?this._follow(e):(this._cleanValues(),this._setFulfilled(),this._settledValue=t)}},n.method=function(t){if("function"!=typeof t)throw new w("fn must be a function");return function(){var e;switch(arguments.length){case 0:e=m(t,this,void 0);break;case 1:e=m(t,this,arguments[0]);break;case 2:e=_(t,this,arguments[0],arguments[1]);break;default:for(var r=arguments.length,i=new Array(r),o=0;r>o;++o)i[o]=arguments[o];e=b(t,i,this)}var u=new n(s);return u._setTrace(void 0),u._resolveFromSyncValue(e),u}},n.attempt=n["try"]=function(t,e,r){if("function"!=typeof t)return T("fn must be a function");var i=v(e)?b(t,e,r):m(t,r,e),o=new n(s);return o._setTrace(void 0),o._resolveFromSyncValue(i),o},n.defer=n.pending=function(){var t=new n(s);return t._setTrace(void 0),new g(t)},n.bind=function(t){var e=f(t,void 0),r=new n(s);if(r._setTrace(void 0),e instanceof n){var i=e.then(function(t){r._setBoundTo(t)});r._follow(i)}else r._setBoundTo(t),r._setFulfilled();return r},n.cast=function(t){var e=f(t,void 0);if(!(e instanceof n)){var r=e;e=new n(s),e._setTrace(void 0),e._setFulfilled(),e._cleanValues(),e._settledValue=r}return e},n.resolve=n.fulfilled=n.cast,n.reject=n.rejected=function(t){var e=new n(s);if(e._setTrace(void 0),A(t),e._cleanValues(),e._setRejected(),e._settledValue=t,!S(t)){var r=new Error(t+"");e._setCarriedStackTrace(r)}return e._ensurePossibleRejectionHandled(),e},n.onPossiblyUnhandledRejection=function(t){p.possiblyUnhandledRejection="function"==typeof t?t:void 0};var P;n.onUnhandledRejectionHandled=function(t){P="function"==typeof t?t:void 0};var R=!1||!("undefined"==typeof e||"string"!=typeof e.execPath||"object"!=typeof e.env||!e.env.BLUEBIRD_DEBUG&&"development"!==e.env.NODE_ENV);n.longStackTraces=function(){if(u.haveItemsQueued()&&R===!1)throw new Error("cannot enable long stack traces after promises have been created");R=p.isSupported()},n.hasLongStackTraces=function(){return R&&p.isSupported()},n.prototype._then=function(t,e,r,i,o){var a=void 0!==o,c=a?o:new n(s);if(!a){if(R){var l=this._peekContext()===this._traceParent;c._traceParent=l?this._traceParent:this}c._propagateFrom(this,7)}var f=this._addCallbacks(t,e,r,c,i);return this.isResolved()&&u.invoke(this._queueSettleAt,this,f),c},n.prototype._length=function(){return 262143&this._bitField},n.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},n.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},n.prototype._setLength=function(t){this._bitField=-262144&this._bitField|262143&t},n.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},n.prototype._setRejected=function(){this._bitField=134217728|this._bitField},n.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},n.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},n.prototype._isFinal=function(){return(33554432&this._bitField)>0},n.prototype._cancellable=function(){return(67108864&this._bitField)>0},n.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},n.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._unsetCarriedStackTrace=function(){this._bitField=-1048577&this._bitField,this._fulfillmentHandler0=void 0},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._receiverAt=function(t){var n=0===t?this._receiver0:this[(t<<2)+t-5+4];return this._isBound()&&void 0===n?this._boundTo:n},n.prototype._promiseAt=function(t){return 0===t?this._promise0:this[(t<<2)+t-5+3]},n.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[(t<<2)+t-5+0]},n.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[(t<<2)+t-5+1]},n.prototype._addCallbacks=function(t,n,e,r,i){var o=this._length();if(o>=262138&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof n&&(this._rejectionHandler0=n),"function"==typeof e&&(this._progressHandler0=e);else{var u=(o<<2)+o-5;this[u+3]=r,this[u+4]=i,this[u+0]="function"==typeof t?t:void 0,this[u+1]="function"==typeof n?n:void 0,this[u+2]="function"==typeof e?e:void 0}return this._setLength(o+1),o},n.prototype._setProxyHandlers=function(t,n){var e=this._length();if(e>=262138&&(e=0,this._setLength(0)),0===e)this._promise0=n,this._receiver0=t;else{var r=(e<<2)+e-5;this[r+3]=n,this[r+4]=t,this[r+0]=this[r+1]=this[r+2]=void 0}this._setLength(e+1)},n.prototype._proxyPromiseArray=function(t,n){this._setProxyHandlers(t,n)},n.prototype._proxyPromise=function(t){t._setProxied(),this._setProxyHandlers(t,-15)},n.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=8388608|this._bitField,this._boundTo=t):this._bitField=-8388609&this._bitField},n.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},n.prototype._resolveFromResolver=function(t){function n(t){r._tryFollow(t)||r._fulfill(t)}function e(t){var n=S(t)?t:new Error(t+"");r._attachExtraTrace(n),A(t),r._reject(t,n===t?void 0:n)}var r=this;this._setTrace(void 0),this._pushContext();var i=_(t,void 0,n,e);if(this._popContext(),void 0!==i&&i===y){var o=i.e,u=S(o)?o:new Error(o+"");
r._reject(o,u)}},n.prototype._spreadSlowCase=function(t,n,e,r){var i=new h(e).promise(),o=i._then(function(){return t.apply(r,arguments)},void 0,void 0,c,void 0);n._follow(o)},n.prototype._callSpread=function(t,e,r){var i=this._boundTo;if(v(r))for(var o=0,u=r.length;u>o;++o)if(f(r[o],void 0)instanceof n)return void this._spreadSlowCase(t,e,r,i);return e._pushContext(),b(t,r,i)},n.prototype._callHandler=function(t,n,e,r){var i;return n!==c||this.isRejected()?(e._pushContext(),i=m(t,n,r)):i=this._callSpread(t,e,r),e._popContext(),i},n.prototype._settlePromiseFromHandler=function(t,e,r,i){if(!(i instanceof n))return void t.call(e,r,i);var o=this._callHandler(t,e,i,r);if(!i._isFollowing())if(o===y||o===i||o===l){var u=o===i?F():o.e,a=S(u)?u:new Error(u+"");o!==l&&i._attachExtraTrace(a),i._rejectUnchecked(u,a)}else{var s=f(o,i);if(s instanceof n){if(s.isRejected()&&!s._isCarryingStackTrace()&&!S(s._settledValue)){var a=new Error(s._settledValue+"");i._attachExtraTrace(a),s._setCarriedStackTrace(a)}i._follow(s),i._propagateFrom(s,1)}else i._fulfillUnchecked(o)}},n.prototype._follow=function(t){this._setFollowing(),t.isPending()?(this._propagateFrom(t,1),t._proxyPromise(this)):t.isFulfilled()?this._fulfillUnchecked(t._settledValue):this._rejectUnchecked(t._settledValue,t._getCarriedStackTrace()),t._isRejectionUnhandled()&&t._unsetRejectionIsUnhandled(),R&&null==t._traceParent&&(t._traceParent=this)},n.prototype._tryFollow=function(t){if(this._isFollowingOrFulfilledOrRejected()||t===this)return!1;var e=f(t,void 0);return e instanceof n?(this._follow(e),!0):!1},n.prototype._resetTrace=function(){R&&(this._trace=new p(void 0===this._peekContext()))},n.prototype._setTrace=function(t){if(R){var n=this._peekContext();this._traceParent=n;var e=void 0===n;this._trace=void 0!==t&&t._traceParent===n?t._trace:new p(e)}return this},n.prototype._attachExtraTrace=function(t){if(R){var n=this,e=t.stack;e="string"==typeof e?e.split("\n"):[],p.protectErrorMessageNewlines(e);for(var r=1,i=1;null!=n&&null!=n._trace;)e=p.combine(e,n._trace.stack.split("\n")),n=n._traceParent,i++;var o=Error.stackTraceLimit||10,u=(o+r)*i,a=e.length;a>u&&(e.length=u),a>0&&(e[0]=e[0].split("\x00").join("\n")),t.stack=e.length<=r?"(No stack trace)":e.join("\n")}},n.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},n.prototype._propagateFrom=function(t,n){(1&n)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&n)>0&&this._setBoundTo(t._boundTo),(2&n)>0&&this._setTrace(t)},n.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},n.prototype._reject=function(t,n){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,n)},n.prototype._settlePromiseAt=function(t){var e=this.isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),r=this._settledValue,i=this._receiverAt(t),o=this._promiseAt(t);if("function"==typeof e)this._settlePromiseFromHandler(e,i,r,o);else{var u=!1,a=this.isFulfilled();void 0!==i&&(i instanceof n&&i._isProxied()?(i._unsetProxied(),a?i._fulfillUnchecked(r):i._rejectUnchecked(r,this._getCarriedStackTrace()),u=!0):i instanceof h&&(a?i._promiseFulfilled(r,o):i._promiseRejected(r,o),u=!0)),u||(a?o._fulfill(r):o._reject(r,this._getCarriedStackTrace()))}t>=4&&this._queueGC()},n.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},n.prototype._setProxied=function(){this._bitField=4194304|this._bitField},n.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},n.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},n.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},n.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},n.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),u.invokeLater(this._gc,this,void 0))},n.prototype._gc=function(){for(var t=5*this._length()-5,n=0;t>n;n++)delete this[n];this._clearFirstHandlerData(),this._setLength(0),this._unsetGcQueued()},n.prototype._clearFirstHandlerData=function(){this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0},n.prototype._queueSettleAt=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),u.invoke(this._settlePromiseAt,this,t)},n.prototype._fulfillUnchecked=function(t){if(this.isPending()){if(t===this){var n=F();return this._attachExtraTrace(n),this._rejectUnchecked(n,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=t;var e=this._length();e>0&&u.invoke(this._settlePromises,this,e)}},n.prototype._rejectUncheckedCheckError=function(t){var n=S(t)?t:new Error(t+"");this._rejectUnchecked(t,n===t?void 0:n)},n.prototype._rejectUnchecked=function(t,n){if(this.isPending()){if(t===this){var e=F();return this._attachExtraTrace(e),this._rejectUnchecked(e)}if(this._cleanValues(),this._setRejected(),this._settledValue=t,this._isFinal())return void u.invokeLater(C,void 0,void 0===n?t:n);var r=this._length();void 0!==n&&this._setCarriedStackTrace(n),r>0?u.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled()}},n.prototype._rejectPromises=function(){this._settlePromises(),this._unsetCarriedStackTrace()},n.prototype._settlePromises=function(){for(var t=this._length(),n=0;t>n;n++)this._settlePromiseAt(n)},n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==p.possiblyUnhandledRejection&&u.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){"function"==typeof P&&u.invokeLater(P,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue,n=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified(),void 0!==n&&(this._unsetCarriedStackTrace(),t=n),"function"==typeof p.possiblyUnhandledRejection&&p.possiblyUnhandledRejection(t,this)}};var N=[];return n.prototype._peekContext=function(){var t=N.length-1;return t>=0?N[t]:void 0},n.prototype._pushContext=function(){R&&N.push(this)},n.prototype._popContext=function(){R&&N.pop()},n.noConflict=function(){return r(n)},n.setScheduler=function(t){if("function"!=typeof t)throw new w("fn must be a function");u._schedule=t},p.isSupported()||(n.longStackTraces=function(){},R=!1),n._makeSelfResolutionError=F,t("./finally.js")(n,l,f),t("./direct_resolve.js")(n),t("./synchronous_inspection.js")(n),t("./join.js")(n,h,f,s),n.RangeError=x,n.CancellationError=M,n.TimeoutError=j,n.TypeError=w,n.OperationalError=E,n.RejectionError=E,n.AggregateError=a.AggregateError,o.toFastProperties(n),o.toFastProperties(n.prototype),n.Promise=n,t("./timers.js")(n,s,f),t("./race.js")(n,s,f),t("./call_get.js")(n),t("./generators.js")(n,T,s,f),t("./map.js")(n,h,T,f,s),t("./nodeify.js")(n),t("./promisify.js")(n,s),t("./props.js")(n,h,f),t("./reduce.js")(n,h,T,f,s),t("./settle.js")(n,h),t("./some.js")(n,h,T),t("./progress.js")(n,h),t("./cancel.js")(n,s),t("./filter.js")(n,s),t("./any.js")(n,h),t("./each.js")(n,s),t("./using.js")(n,T,f),n.prototype=n.prototype,n}}).call(this,t("FWaASH"))},{"./any.js":2,"./async.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./direct_resolve.js":9,"./each.js":10,"./errors.js":11,"./errors_api_rejection":12,"./filter.js":14,"./finally.js":15,"./generators.js":16,"./join.js":17,"./map.js":18,"./nodeify.js":19,"./progress.js":20,"./promise_array.js":22,"./promise_resolver.js":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection.js":32,"./thenables.js":33,"./timers.js":34,"./using.js":35,"./util.js":36,FWaASH:37}],22:[function(t,n){"use strict";n.exports=function(n,e,r){function i(t){switch(t){case-1:return void 0;case-2:return[];case-3:return{}}}function o(t){var r=this._promise=new n(e),i=void 0;t instanceof n&&(i=t,r._propagateFrom(i,5)),r._setTrace(i),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./errors.js").canAttach,a=t("./util.js"),s=a.isArray;return o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function c(t,e){var o=r(this._values,void 0);if(o instanceof n){if(this._values=o,o._setBoundTo(this._promise._boundTo),!o.isFulfilled())return o.isPending()?void o._then(c,this._reject,void 0,this,e):(o._unsetRejectionIsUnhandled(),void this._reject(o._settledValue));if(o=o._settledValue,!s(o)){var u=new n.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(u)}}else if(!s(o)){var u=new n.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(u)}if(0===o.length)return void(-5===e?this._resolveEmptyArray():this._resolve(i(e)));for(var a=this.getActualLength(o.length),l=a,f=this.shouldCopyValues()?new Array(a):this._values,h=!1,p=0;a>p;++p){var d=r(o[p],void 0);d instanceof n?d.isPending()?d._proxyPromiseArray(this,p):(d._unsetRejectionIsUnhandled(),h=!0):h=!0,f[p]=d}this._values=f,this._length=l,h&&this._scanDirectValues(a)},o.prototype._settlePromiseAt=function(t){var e=this._values[t];e instanceof n?e.isFulfilled()?this._promiseFulfilled(e._settledValue,t):e.isRejected()&&this._promiseRejected(e._settledValue,t):this._promiseFulfilled(e,t)},o.prototype._scanDirectValues=function(t){for(var n=0;t>n&&!this._isResolved();++n)this._settlePromiseAt(n)},o.prototype._isResolved=function(){return null===this._values},o.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},o.prototype.__hardReject__=o.prototype._reject=function(t){this._values=null;var n=u(t)?t:new Error(t+"");this._promise._attachExtraTrace(n),this._promise._reject(t,n)},o.prototype._promiseProgressed=function(t,n){this._isResolved()||this._promise._progress({index:n,value:t})},o.prototype._promiseFulfilled=function(t,n){if(!this._isResolved()){this._values[n]=t;var e=++this._totalResolved;e>=this._length&&this._resolve(this._values)}},o.prototype._promiseRejected=function(t){this._isResolved()||(this._totalResolved++,this._reject(t))},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./errors.js":11,"./util.js":36}],23:[function(t,n){"use strict";function e(t){return t instanceof Error&&p.getPrototypeOf(t)===Error.prototype}function r(t){var n;return n=e(t)?new l(t):t,s.markAsOriginatingFromRejection(n),n}function i(t){function n(n,e){if(null!==t){if(n){var i=r(a(n));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var o=arguments.length,u=new Array(o-1),s=1;o>s;++s)u[s-1]=arguments[s];t._fulfill(u)}else t._fulfill(e);t=null}}return n}var o,u=t("./util.js"),a=u.maybeWrapAsError,s=t("./errors.js"),c=s.TimeoutError,l=s.OperationalError,f=t("./async.js"),h=u.haveGetters,p=t("./es5.js");if(o=h?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=i(t),this.callback=this.asCallback},h){var d={get:function(){return i(this.promise)}};p.defineProperty(o.prototype,"asCallback",d),p.defineProperty(o.prototype,"callback",d)}o._nodebackForPromise=i,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var n=this.promise;n._tryFollow(t)||f.invoke(n._fulfill,n,t)},o.prototype.reject=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var n=this.promise;s.markAsOriginatingFromRejection(t);var e=s.canAttach(t)?t:new Error(t+"");n._attachExtraTrace(e),f.invoke(n._reject,n,t),e!==t&&f.invoke(this._setCarriedStackTrace,this,e)},o.prototype.progress=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");f.invoke(this.promise._progress,this.promise,t)},o.prototype.cancel=function(){f.invoke(this.promise.cancel,this.promise,void 0)},o.prototype.timeout=function(){this.reject(new c("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},o.prototype._setCarriedStackTrace=function(t){this.promise.isRejected()&&this.promise._setCarriedStackTrace(t)},n.exports=o},{"./async.js":3,"./errors.js":11,"./es5.js":13,"./util.js":36}],24:[function(t,n){"use strict";n.exports=function(n,e){function r(t){return t.replace(/([$])/,"\\$")}function i(t){try{return t.__isPromisified__===!0}catch(n){return!1}}function o(t,n,e){var r=m.getDataPropertyOrDefault(t,n+e,k);return r?i(r):!1}function u(t,n,e){for(var r=0;r<t.length;r+=2){var i=t[r];if(e.test(i))for(var o=i.replace(e,""),u=0;u<t.length;u+=2)if(t[u]===o)throw new M("Cannot promisify an API that has normal methods with '"+n+"'-suffix")}}function a(t,n,e,r){for(var a=m.inheritedDataKeys(t),s=[],c=0;c<a.length;++c){var l=a[c],f=t[l];"function"!=typeof f||i(f)||o(t,l,n)||!r(l,f,t)||s.push(l,f)}return u(s,n,e),s}function s(t){for(var n=[t],e=Math.max(0,t-1-5),r=t-1;r>=e;--r)r!==t&&n.push(r);for(var r=t+1;5>=r;++r)n.push(r);return n}function c(t){return m.filledRange(t,"arguments[","]")}function l(t){return m.filledRange(t,"_arg","")}function f(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0}function h(t){return m.isIdentifier(t)?"."+t:"['"+t.replace(/(['\\])/g,"\\$1")+"']"}function p(t,r,i,o,u){function a(n){var e,i=c(n).join(", "),o=n>0?", ":"";return e="string"==typeof t?"                                                          \n                this.method(args, fn);                                       \n                break;                                                       \n            ".replace(".method",h(t)):r===y?"                                                         \n                callback.call(this, args, fn);                               \n                break;                                                       \n            ":void 0!==r?"                                                         \n                callback.call(receiver, args, fn);                           \n                break;                                                       \n            ":"                                                         \n                callback(args, fn);                                          \n                break;                                                       \n            ",e.replace("args",i).replace(", ",o)}function p(){for(var n="",e=0;e<g.length;++e)n+="case "+g[e]+":"+a(g[e]);var i;return i="string"==typeof t?"                                                  \n                this.property.apply(this, args);                             \n            ".replace(".property",h(t)):r===y?"                                                  \n                callback.apply(this, args);                                  \n            ":"                                                  \n                callback.apply(receiver, args);                              \n            ",n+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = fn;                                                    \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",i)}var d=Math.max(0,f(o)-1),g=s(d),v="string"==typeof i&&m.isIdentifier(i)?i+u:"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","                                         \n        var ret = function FunctionName(Parameters) {                        \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._setTrace(void 0);                                       \n            var fn = nodebackForPromise(promise);                            \n            try {                                                            \n                switch(len) {                                                \n                    [CodeForSwitchCase]                                      \n                }                                                            \n            } catch (e) {                                                    \n                var wrapped = maybeWrapAsError(e);                           \n                promise._attachExtraTrace(wrapped);                          \n                promise._reject(wrapped);                                    \n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        ret.__isPromisified__ = true;                                        \n        return ret;                                                          \n        ".replace("FunctionName",v).replace("Parameters",l(d)).replace("[CodeForSwitchCase]",p()))(n,t,r,b,x,_,e)}function d(t,r){function i(){var i=r;r===y&&(i=this),"string"==typeof t&&(t=i[t]);var o=new n(e);o._setTrace(void 0);var u=_(o);try{t.apply(i,b(arguments,u))}catch(a){var s=x(a);o._attachExtraTrace(s),o._reject(s)}return o}return i.__isPromisified__=!0,i}function g(t,n,e,i){for(var o=new RegExp(r(n)+"$"),u=a(t,n,o,e),s=0,c=u.length;c>s;s+=2){var l=u[s],f=u[s+1],h=l+n;t[h]=i===A?A(l,y,l,f,n):i(f)}return m.toFastProperties(t),t}function v(t,n){return A(t,n,void 0,t)}var y={},m=t("./util.js"),_=t("./promise_resolver.js")._nodebackForPromise,b=m.withAppended,x=m.maybeWrapAsError,w=m.canEvaluate,M=t("./errors").TypeError,j="Async",E=function(t,n){return m.isIdentifier(t)&&"_"!==t.charAt(0)&&!m.isClass(n)},k={__isPromisified__:!0},A=w?p:d;n.promisify=function(t,n){if("function"!=typeof t)throw new M("fn must be a function");return i(t)?t:v(t,arguments.length<2?y:n)},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new M("the target of promisifyAll must be an object or a function");n=Object(n);var e=n.suffix;"string"!=typeof e&&(e=j);var r=n.filter;"function"!=typeof r&&(r=E);var i=n.promisifier;if("function"!=typeof i&&(i=A),!m.isIdentifier(e))throw new RangeError("suffix must be a valid identifier");for(var o=m.inheritedDataKeys(t,{includeHidden:!0}),u=0;u<o.length;++u){var a=t[o[u]];"constructor"!==o[u]&&m.isClass(a)&&(g(a.prototype,e,r,i),g(a,e,r,i))}return g(t,e,r,i)}}},{"./errors":11,"./promise_resolver.js":23,"./util.js":36}],25:[function(t,n){"use strict";n.exports=function(n,e,r){function i(t){for(var n=c.keys(t),e=n.length,r=new Array(2*e),i=0;e>i;++i){var o=n[i];r[i]=t[o],r[i+e]=o}this.constructor$(r)}function o(t){var e,o=r(t,void 0);return s(o)?(e=o instanceof n?o._then(n.props,void 0,void 0,void 0,void 0):new i(o).promise(),o instanceof n&&e._propagateFrom(o,4),e):a("cannot await properties of a non-object")}var u=t("./util.js"),a=t("./errors_api_rejection")(n),s=u.isObject,c=t("./es5.js");u.inherits(i,e),i.prototype._init=function(){this._init$(void 0,-3)},i.prototype._promiseFulfilled=function(t,n){if(!this._isResolved()){this._values[n]=t;var e=++this._totalResolved;if(e>=this._length){for(var r={},i=this.length(),o=0,u=this.length();u>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}}},i.prototype._promiseProgressed=function(t,n){this._isResolved()||this._promise._progress({key:this._values[n+this.length()],value:t})},i.prototype.shouldCopyValues=function(){return!1},i.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return o(this)},n.props=function(t){return o(t)}}},{"./errors_api_rejection":12,"./es5.js":13,"./util.js":36}],26:[function(t,n){"use strict";function e(t,n,e,r,i){for(var o=0;i>o;++o)e[o+r]=t[o+n]}function r(t){this._capacity=t,this._length=0,this._front=0,this._makeCapacity()}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var n=this.length();this._checkCapacity(n+1);var e=this._front+n&this._capacity-1;this[e]=t,this._length=n+1},r.prototype.push=function(t,n,e){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(n),void this._pushOne(e);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=n,this[i+2&o]=e,this._length=r},r.prototype.shift=function(){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,n},r.prototype.length=function(){return this._length},r.prototype._makeCapacity=function(){for(var t=this._capacity,n=0;t>n;++n)this[n]=void 0},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<3)},r.prototype._resizeTo=function(t){var n=this._front,r=this._capacity,i=new Array(r),o=this.length();if(e(this,0,i,0,r),this._capacity=t,this._makeCapacity(),this._front=0,r>=n+o)e(i,n,this,0,o);else{var u=o-(n+o&r-1);e(i,n,this,0,u),e(i,0,this,u,o-u)}},n.exports=r},{}],27:[function(t,n){"use strict";n.exports=function(n,e,r){function i(t,i){var c=r(t,void 0);if(c instanceof n)return a(c);if(!u(t))return o("expecting an array, a promise or a thenable");var l=new n(e);void 0!==i?l._propagateFrom(i,7):l._setTrace(void 0);for(var f=l._fulfill,h=l._reject,p=0,d=t.length;d>p;++p){var g=t[p];(void 0!==g||s.call(t,p))&&n.cast(g)._then(f,h,void 0,l,null)}return l}var o=t("./errors_api_rejection.js")(n),u=t("./util.js").isArray,a=function(t){return t.then(function(n){return i(n,t)})},s={}.hasOwnProperty;n.race=function(t){return i(t,void 0)},n.prototype.race=function(){return i(this,void 0)}}},{"./errors_api_rejection.js":12,"./util.js":36}],28:[function(t,n){"use strict";n.exports=function(n,e,r,i,o){function u(t,e,r,u){this.constructor$(t),this._preservedValues=u===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var a=i(r,void 0),s=!1,c=a instanceof n;c&&(a.isPending()?a._proxyPromiseArray(this,-1):a.isFulfilled()?(r=a.value(),this._gotAccum=!0):(a._unsetRejectionIsUnhandled(),this._reject(a.reason()),s=!0)),c||this._zerothIsAccum||(this._gotAccum=!0),this._callback=e,this._accum=r,s||this._init$(void 0,-5)}function a(t,n,e,i){if("function"!=typeof n)return r("fn must be a function");var o=new u(t,n,e,i);return o.promise()}var s=t("./util.js"),c=s.tryCatch4,l=s.tryCatch3,f=s.errorObj;s.inherits(u,e),u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},u.prototype._promiseFulfilled=function(t,e){var r=this._values;if(null!==r){var o,u=this.length(),a=this._preservedValues,s=null!==a,h=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=Array(u),o=0;u>o;++o)p[o]=0;if(o=p[e],0===e&&this._zerothIsAccum?(h||(this._accum=t,this._gotAccum=h=!0),p[e]=0===o?1:2):-1===e?h||(this._accum=t,this._gotAccum=h=!0):0===o?p[e]=1:(p[e]=2,h&&(this._accum=t)),h){for(var d,g=this._callback,v=this._promise._boundTo,y=this._reducingIndex;u>y;++y)if(o=p[y],2!==o){if(1!==o)return;if(t=r[y],t instanceof n){if(!t.isFulfilled())return t.isPending()?void 0:(t._unsetRejectionIsUnhandled(),this._reject(t.reason()));t=t._settledValue}if(s?(a.push(t),d=l(g,v,t,y,u)):d=c(g,v,this._accum,t,y,u),d===f)return this._reject(d.e);var m=i(d,void 0);if(m instanceof n){if(m.isPending())return p[y]=4,m._proxyPromiseArray(this,y);if(!m.isFulfilled())return m._unsetRejectionIsUnhandled(),this._reject(m.reason());d=m.value()}this._reducingIndex=y+1,this._accum=d}else this._reducingIndex=y+1;this._reducingIndex<u||this._resolve(s?a:this._accum)}}},n.prototype.reduce=function(t,n){return a(this,t,n,null)},n.reduce=function(t,n,e,r){return a(t,n,e,r)}}},{"./util.js":36}],29:[function(t,n){(function(t){"use strict";var e,r;if("object"==typeof t&&"string"==typeof t.version)e=function(n){t.nextTick(n)};else if("undefined"!=typeof MutationObserver&&(r=MutationObserver)||"undefined"!=typeof WebKitMutationObserver&&(r=WebKitMutationObserver))e=function(){var t=document.createElement("div"),n=void 0,e=new r(function(){var t=n;n=void 0,t()});return e.observe(t,{attributes:!0}),function(e){n=e,t.classList.toggle("foo")}}();else{if("undefined"==typeof setTimeout)throw new Error("no async scheduler available");e=function(t){setTimeout(t,0)}}n.exports=e}).call(this,t("FWaASH"))},{FWaASH:37}],30:[function(t,n){"use strict";n.exports=function(n,e){function r(t){this.constructor$(t)}var i=n.PromiseInspection,o=t("./util.js");o.inherits(r,e),r.prototype._promiseResolved=function(t,n){this._values[t]=n;var e=++this._totalResolved;e>=this._length&&this._resolve(this._values)},r.prototype._promiseFulfilled=function(t,n){if(!this._isResolved()){var e=new i;e._bitField=268435456,e._settledValue=t,this._promiseResolved(n,e)}},r.prototype._promiseRejected=function(t,n){if(!this._isResolved()){var e=new i;e._bitField=134217728,e._settledValue=t,this._promiseResolved(n,e)}},n.settle=function(t){return new r(t).promise()},n.prototype.settle=function(){return new r(this).promise()}}},{"./util.js":36}],31:[function(t,n){"use strict";n.exports=function(n,e,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,n){if((0|n)!==n||0>n)return r("expecting a positive integer");var e=new i(t),o=e.promise();return o.isRejected()?o:(e.setHowMany(n),e.init(),o)}var u=t("./util.js"),a=t("./errors.js").RangeError,s=t("./errors.js").AggregateError,c=u.isArray;u.inherits(i,e),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._isResolved()||(this._howMany=t)},i.prototype._promiseFulfilled=function(t){this._isResolved()||(this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values)))},i.prototype._promiseRejected=function(t){if(!this._isResolved()&&(this._addRejected(t),this.howMany()>this._canPossiblyFulfill())){for(var n=new s,e=this.length();e<this._values.length;++e)n.push(this._values[e]);this._reject(n)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var n="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(n)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},n.some=function(t,n){return o(t,n)},n.prototype.some=function(t){return o(this,t)},n._SomePromiseArray=i}},{"./errors.js":11,"./util.js":36}],32:[function(t,n){"use strict";n.exports=function(t){function n(t){void 0!==t?(this._bitField=t._bitField,this._settledValue=t.isResolved()?t._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}n.prototype.isFulfilled=t.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},n.prototype.isRejected=t.prototype.isRejected=function(){return(134217728&this._bitField)>0},n.prototype.isPending=t.prototype.isPending=function(){return 0===(402653184&this._bitField)},n.prototype.value=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},n.prototype.error=n.prototype.reason=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue},n.prototype.isResolved=t.prototype.isResolved=function(){return(402653184&this._bitField)>0},t.PromiseInspection=n}},{}],33:[function(t,n){"use strict";n.exports=function(n,e){function r(t){try{return t.then}catch(n){return c.e=n,c}}function i(t,i){if(l(t)){if(t instanceof n)return t;if(o(t)){var a=new n(e);return a._setTrace(void 0),t._then(a._fulfillUnchecked,a._rejectUncheckedCheckError,a._progressUnchecked,a,null),a._setFollowing(),a}var f=r(t);if(f===c)return void 0!==i&&s(f.e)&&i._attachExtraTrace(f.e),n.reject(f.e);if("function"==typeof f)return u(t,f,i)}return t}function o(t){return f.call(t,"_promise0")}function u(t,e,r){function i(e){if(!c){if(c=!0,t===e){var i=n._makeSelfResolutionError();return void 0!==r&&r._attachExtraTrace(i),void a.promise._reject(i,void 0)}a.resolve(e)}}function o(t){if(!c){c=!0;var n=s(t)?t:new Error(t+"");void 0!==r&&r._attachExtraTrace(n),a.promise._reject(t,n)}}function u(t){if(!c){var n=a.promise;"function"==typeof n._progress&&n._progress(t)}}var a=n.defer(),c=!1;try{e.call(t,i,o,u)}catch(l){if(!c){c=!0;var f=s(l)?l:new Error(l+"");void 0!==r&&r._attachExtraTrace(f),a.promise._reject(l,f)}}return a.promise}var a=t("./util.js"),s=t("./errors.js").canAttach,c=a.errorObj,l=a.isObject,f={}.hasOwnProperty;return i}},{"./errors.js":11,"./util.js":36}],34:[function(t,n){"use strict";var e=function(t,n){var e=arguments.length,r=arguments[2],i=arguments[3],o=e>=5?arguments[4]:void 0;setTimeout(function(){t(r,i,o)},0|n)};n.exports=function(n,r,i){var o=(t("./util.js"),t("./errors.js")),u=(t("./errors_api_rejection")(n),n.TimeoutError),a=function(t,n,e){if(t.isPending()){"string"!=typeof n&&(n="operation timed out after "+e+" ms");var r=new u(n);o.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._cancel(r)}},s=function(t,n){n._fulfill(t)},c=n.delay=function(t,o){void 0===o&&(o=t,t=void 0),o=+o;var u=i(t,void 0),a=new n(r);return u instanceof n?(a._propagateFrom(u,7),a._follow(u),a.then(function(t){return n.delay(t,o)})):(a._setTrace(void 0),e(s,o,t,a),a)};n.prototype.delay=function(t){return c(this,t)},n.prototype.timeout=function(t,i){t=+t;var o=new n(r);return o._propagateFrom(this,7),o._follow(this),e(a,t,o,i,t),o.cancellable()}}},{"./errors.js":11,"./errors_api_rejection":12,"./util.js":36}],35:[function(t,n){"use strict";n.exports=function(n,e,r){function i(t){for(var e=t.length,r=0;e>r;++r){var i=t[r];if(i.isRejected())return n.reject(i.error());t[r]=i.value()}return t}function o(t){setTimeout(function(){throw t},0)}function u(t){var n=r(t,void 0);return n!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&n._setDisposable(t._getDisposer()),n}function a(t,e){function i(){if(a>=s)return c.resolve();var l=u(t[a++]);if(l instanceof n&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(e),void 0)}catch(f){return o(f)
}if(l instanceof n)return l._then(i,o,null,null,null)}i()}var a=0,s=t.length,c=n.defer();return i(),c.promise}function s(t){var n=new d;return n._settledValue=t,n._bitField=268435456,a(this,n).thenReturn(t)}function c(t){var n=new d;return n._settledValue=t,n._bitField=134217728,a(this,n).thenThrow(t)}function l(t,n){this._data=t,this._promise=n}function f(t,n){this.constructor$(t,n)}var h=t("./errors.js").TypeError,p=t("./util.js").inherits,d=n.PromiseInspection;l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},l.prototype.tryDispose=function(t){var n=this.resource(),e=null!==n?this.doDispose(n,t):null;return this._promise._unsetDisposable(),this._data=this._promise=null,e},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},p(f,l),f.prototype.doDispose=function(t,n){var e=this.data();return e.call(t,t,n)},n.using=function(){var t=arguments.length;if(2>t)return e("you must pass at least 2 arguments to Promise.using");var r=arguments[t-1];if("function"!=typeof r)return e("fn must be a function");t--;for(var o=new Array(t),u=0;t>u;++u){var a=arguments[u];if(l.isDisposer(a)){var f=a;a=a.promise(),a._setDisposable(f)}o[u]=a}return n.settle(o).then(i).spread(r)._then(s,c,void 0,o,void 0)},n.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},n.prototype._isDisposable=function(){return(262144&this._bitField)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this);throw new h}}},{"./errors.js":11,"./util.js":36}],36:[function(t,n,e){"use strict";function r(t,n,e){try{return t.call(n,e)}catch(r){return M.e=r,M}}function i(t,n,e,r){try{return t.call(n,e,r)}catch(i){return M.e=i,M}}function o(t,n,e,r,i){try{return t.call(n,e,r,i)}catch(o){return M.e=o,M}}function u(t,n,e,r,i,o){try{return t.call(n,e,r,i,o)}catch(u){return M.e=u,M}}function a(t,n,e){try{return t.apply(e,n)}catch(r){return M.e=r,M}}function s(t){return"string"==typeof t?t:""+t}function c(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function l(t){return!c(t)}function f(t){return c(t)?new Error(s(t)):t}function h(t,n){var e,r=t.length,i=new Array(r+1);for(e=0;r>e;++e)i[e]=t[e];return i[e]=n,i}function p(t,n,e){if(!b.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=Object.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:e:void 0}function d(t,n,e){if(c(t))return t;var r={value:e,configurable:!0,enumerable:!1,writable:!0};return b.defineProperty(t,n,r),t}function g(t){throw t}function v(t){try{if("function"==typeof t){var n=b.keys(t.prototype);return n.length>0&&!(1===n.length&&"constructor"===n[0])}return!1}catch(e){return!1}}function y(t){function n(){}return n.prototype=t,n}function m(t){return A.test(t)}function _(t,n,e){for(var r=new Array(t),i=0;t>i;++i)r[i]=n+i+e;return r}var b=t("./es5.js"),x=function(){try{var t={};return b.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(n){return!1}}(),w="undefined"==typeof navigator,M={e:{}},j=function(t,n){function e(){this.constructor=t,this.constructor$=n;for(var e in n.prototype)r.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}var r={}.hasOwnProperty;return e.prototype=n.prototype,t.prototype=new e,t.prototype},E=function(){return"string"!==this}.call("string"),k=function(){return b.isES5?function(t,n){for(var e=[],r=Object.create(null),i=Object(n).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=t;){var o;try{o=i(t)}catch(u){return e}for(var a=0;a<o.length;++a){var s=o[a];if(!r[s]){r[s]=!0;var c=Object.getOwnPropertyDescriptor(t,s);null!=c&&null==c.get&&null==c.set&&e.push(s)}}t=b.getPrototypeOf(t)}return e}:function(t){var n=[];for(var e in t)n.push(e);return n}}(),A=/^[a-z$_][a-z$_0-9]*$/i,S={isClass:v,isIdentifier:m,inheritedDataKeys:k,getDataPropertyOrDefault:p,thrower:g,isArray:b.isArray,haveGetters:x,notEnumerableProp:d,isPrimitive:c,isObject:l,canEvaluate:w,errorObj:M,tryCatch1:r,tryCatch2:i,tryCatch3:o,tryCatch4:u,tryCatchApply:a,inherits:j,withAppended:h,asString:s,maybeWrapAsError:f,wrapsPrimitiveReceiver:E,toFastProperties:y,filledRange:_};n.exports=S},{"./es5.js":13}],37:[function(t,n){function e(){}var r=n.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(n){var e=[];return window.addEventListener("message",function(t){var n=t.source;if((n===window||null===n)&&"process-tick"===t.data&&(t.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(t){e.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=e,r.addListener=e,r.once=e,r.off=e,r.removeListener=e,r.removeAllListeners=e,r.emit=e,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],38:[function(t,n){n.exports=function(){function t(t){return null!=t&&!isNaN(t)}function n(t){return t.length}function e(t){for(var n=1;t*n%1;)n*=10;return n}function r(t,n){try{for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}catch(r){t.prototype=n}}function i(){}function o(){}function u(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function a(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.substring(1);for(var e=0,r=ha.length;r>e;++e){var i=ha[e]+n;if(i in t)return i}}function s(){}function c(){}function l(t){function n(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],r=new i;return n.on=function(n,i){var o,u=r.get(n);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,o=e.indexOf(u)).concat(e.slice(o+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function f(){Zu.event.preventDefault()}function h(){for(var t,n=Zu.event;t=n.sourceEvent;)n=t;return n}function p(t){for(var n=new c,e=0,r=arguments.length;++e<r;)n[arguments[e]]=l(n);return n.of=function(e,r){return function(i){try{var o=i.sourceEvent=Zu.event;i.target=t,Zu.event=i,n[i.type].apply(e,r)}finally{Zu.event=o}}},n}function d(t){return da(t,_a),t}function g(t){return"function"==typeof t?t:function(){return ga(t,this)}}function v(t){return"function"==typeof t?t:function(){return va(t,this)}}function y(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=Zu.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?a:u:t.local?o:i}function m(t){return t.trim().replace(/\s+/g," ")}function _(t){return new RegExp("(?:^|\\s+)"+Zu.requote(t)+"(?:\\s+|$)","g")}function b(t){return t.trim().split(/^|\s+/)}function x(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=b(t).map(w);var i=t.length;return"function"==typeof n?r:e}function w(t){var n=_(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",m(i+" "+t))):e.setAttribute("class",m(i.replace(n," ")))}}function M(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function o(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?o:i}function j(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function E(t){return"function"==typeof t?t:(t=Zu.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function k(t){return{__data__:t}}function A(t){return function(){return ma(this,t)}}function S(t){return arguments.length||(t=Zu.ascending),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function C(t,n){for(var e=0,r=t.length;r>e;e++)for(var i,o=t[e],u=0,a=o.length;a>u;u++)(i=o[u])&&n(i,u,e);return t}function T(t){return da(t,xa),t}function F(t){var n,e;return function(r,i,o){var u,a=t[o].update,s=a.length;for(o!=e&&(e=o,n=0),i>=n&&(n=i+1);!(u=a[n])&&++n<s;);return u}}function P(){var t=this.__transition__;t&&++t.active}function R(t,n,e){function r(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function i(){var i=c(n,Gu(arguments));r.call(this),this.addEventListener(t,this[u]=i,i.$=e),i._=n}function o(){var n,e=new RegExp("^__on([^.]+)"+Zu.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var u="__on"+t,a=t.indexOf("."),c=N;a>0&&(t=t.substring(0,a));var l=Ma.get(t);return l&&(t=l,c=O),a?n?i:r:n?s:o}function N(t,n){return function(e){var r=Zu.event;Zu.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{Zu.event=r}}}function O(t,n){var e=N(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function D(){var t=".dragsuppress-"+ ++Ea,n="click"+t,e=Zu.select(ta).on("touchmove"+t,f).on("dragstart"+t,f).on("selectstart"+t,f);if(ja){var r=Ju.style,i=r[ja];r[ja]="none"}return function(o){function u(){e.on(n,null)}e.on(t,null),ja&&(r[ja]=i),o&&(e.on(n,function(){f(),u()},!0),setTimeout(u,0))}}function L(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>ka&&(ta.scrollX||ta.scrollY)){e=Zu.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=e[0][0].getScreenCTM();ka=!(i.f||i.e),e.remove()}return ka?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}function U(t){return t>0?1:0>t?-1:0}function I(t){return t>1?0:-1>t?Aa:Math.acos(t)}function H(t){return t>1?Ca:-1>t?-Ca:Math.asin(t)}function q(t){return((t=Math.exp(t))-1/t)/2}function z(t){return((t=Math.exp(t))+1/t)/2}function V(t){return((t=Math.exp(2*t))-1)/(t+1)}function B(t){return(t=Math.sin(t/2))*t}function $(){}function K(t,n,e){return new Y(t,n,e)}function Y(t,n,e){this.h=t,this.s=n,this.l=e}function W(t,n,e){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(u-o)*t/60:180>t?u:240>t?o+(u-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,u;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:0>n?0:n>1?1:n,e=0>e?0:e>1?1:e,u=.5>=e?e*(1+n):e+n-e*n,o=2*e-u,sn(i(t+120),i(t),i(t-120))}function Z(t,n,e){return new X(t,n,e)}function X(t,n,e){this.h=t,this.c=n,this.l=e}function G(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),Q(e,Math.cos(t*=Pa)*n,Math.sin(t)*n)}function Q(t,n,e){return new J(t,n,e)}function J(t,n,e){this.l=t,this.a=n,this.b=e}function tn(t,n,e){var r=(t+16)/116,i=r+n/500,o=r-e/200;return i=en(i)*Va,r=en(r)*Ba,o=en(o)*$a,sn(on(3.2404542*i-1.5371385*r-.4985314*o),on(-.969266*i+1.8760108*r+.041556*o),on(.0556434*i-.2040259*r+1.0572252*o))}function nn(t,n,e){return t>0?Z(Math.atan2(e,n)*Ra,Math.sqrt(n*n+e*e),t):Z(0/0,0/0,t)}function en(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function rn(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function on(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function un(t){return sn(t>>16,t>>8&255,255&t)}function an(t){return un(t)+""}function sn(t,n,e){return new cn(t,n,e)}function cn(t,n,e){this.r=t,this.g=n,this.b=e}function ln(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function fn(t,n,e){var r,i,o,u=0,a=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(gn(i[0]),gn(i[1]),gn(i[2]))}return(o=Wa.get(t))?n(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(u=t.charAt(1),u+=u,a=t.charAt(2),a+=a,s=t.charAt(3),s+=s):7===t.length&&(u=t.substring(1,3),a=t.substring(3,5),s=t.substring(5,7)),u=parseInt(u,16),a=parseInt(a,16),s=parseInt(s,16)),n(u,a,s))}function hn(t,n,e){var r,i,o=Math.min(t/=255,n/=255,e/=255),u=Math.max(t,n,e),a=u-o,s=(u+o)/2;return a?(i=.5>s?a/(u+o):a/(2-u-o),r=t==u?(n-e)/a+(e>n?6:0):n==u?(e-t)/a+2:(t-n)/a+4,r*=60):(r=0/0,i=s>0&&1>s?0:r),K(r,i,s)}function pn(t,n,e){t=dn(t),n=dn(n),e=dn(e);var r=rn((.4124564*t+.3575761*n+.1804375*e)/Va),i=rn((.2126729*t+.7151522*n+.072175*e)/Ba),o=rn((.0193339*t+.119192*n+.9503041*e)/$a);return Q(116*i-16,500*(r-i),200*(i-o))}function dn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function gn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function vn(t){return"function"==typeof t?t:function(){return t}}function yn(t){return t}function mn(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),_n(n,e,t,r)}}function _n(t,n,e,r){function i(){var t,n=s.status;if(!n&&s.responseText||n>=200&&300>n||304===n){try{t=e.call(o,s)}catch(r){return void u.error.call(o,r)}u.load.call(o,t)}else u.error.call(o,s)}var o={},u=Zu.dispatch("beforesend","progress","load","error"),a={},s=new XMLHttpRequest,c=null;return!ta.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(t){var n=Zu.event;Zu.event=t;try{u.progress.call(o,s)}finally{Zu.event=n}},o.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==n?delete a[t]:a[t]=n+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return e=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Gu(arguments)))}}),o.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(e,t,!0),null==n||"accept"in a||(a.accept=n+",*/*"),s.setRequestHeader)for(var l in a)s.setRequestHeader(l,a[l]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=c&&(s.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),u.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},Zu.rebind(o,u,"on"),null==r?o:o.get(bn(r))}function bn(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function xn(){var t=wn(),n=Mn()-t;n>24?(isFinite(n)&&(clearTimeout(Qa),Qa=setTimeout(xn,n)),Ga=0):(Ga=1,ts(xn))}function wn(){var t=Date.now();for(Ja=Za;Ja;)t>=Ja.t&&(Ja.f=Ja.c(t-Ja.t)),Ja=Ja.n;return t}function Mn(){for(var t,n=Za,e=1/0;n;)n.f?n=t?t.n=n.n:Za=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return Xa=t,e}function jn(t,n){var e=Math.pow(10,3*ca(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function En(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function kn(t){return t+""}function An(){}function Sn(t,n,e){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}function Cn(t,n){t&&hs.hasOwnProperty(t.type)&&hs[t.type](t,n)}function Tn(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Fn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Tn(t[e],n,1);n.polygonEnd()}function Pn(){function t(t,n){t*=Pa,n=n*Pa/2+Aa/4;var e=t-r,u=Math.cos(n),a=Math.sin(n),s=o*a,c=i*u+s*Math.cos(e),l=s*Math.sin(e);ds.add(Math.atan2(l,c)),r=t,i=u,o=a}var n,e,r,i,o;gs.point=function(u,a){gs.point=t,r=(n=u)*Pa,i=Math.cos(a=(e=a)*Pa/2+Aa/4),o=Math.sin(a)},gs.lineEnd=function(){t(n,e)}}function Rn(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Nn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function On(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Dn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ln(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Un(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function In(t){return[Math.atan2(t[1],t[0]),H(t[2])]}function Hn(t,n){return ca(t[0]-n[0])<Ta&&ca(t[1]-n[1])<Ta}function qn(t,n){t*=Pa;var e=Math.cos(n*=Pa);zn(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function zn(t,n,e){++vs,ms+=(t-ms)/vs,_s+=(n-_s)/vs,bs+=(e-bs)/vs}function Vn(){function t(t,i){t*=Pa;var o=Math.cos(i*=Pa),u=o*Math.cos(t),a=o*Math.sin(t),s=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*s-r*a)*c+(c=r*u-n*s)*c+(c=n*a-e*u)*c),n*u+e*a+r*s);ys+=c,xs+=c*(n+(n=u)),ws+=c*(e+(e=a)),Ms+=c*(r+(r=s)),zn(n,e,r)}var n,e,r;As.point=function(i,o){i*=Pa;var u=Math.cos(o*=Pa);n=u*Math.cos(i),e=u*Math.sin(i),r=Math.sin(o),As.point=t,zn(n,e,r)}}function Bn(){As.point=qn}function $n(){function t(t,n){t*=Pa;var e=Math.cos(n*=Pa),u=e*Math.cos(t),a=e*Math.sin(t),s=Math.sin(n),c=i*s-o*a,l=o*u-r*s,f=r*a-i*u,h=Math.sqrt(c*c+l*l+f*f),p=r*u+i*a+o*s,d=h&&-I(p)/h,g=Math.atan2(h,p);js+=d*c,Es+=d*l,ks+=d*f,ys+=g,xs+=g*(r+(r=u)),ws+=g*(i+(i=a)),Ms+=g*(o+(o=s)),zn(r,i,o)}var n,e,r,i,o;As.point=function(u,a){n=u,e=a,As.point=t,u*=Pa;var s=Math.cos(a*=Pa);r=s*Math.cos(u),i=s*Math.sin(u),o=Math.sin(a),zn(r,i,o)},As.lineEnd=function(){t(n,e),As.lineEnd=Bn,As.point=qn}}function Kn(){return!0}function Yn(t,n,e,r,i){var o=[],u=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Hn(e,r)){i.lineStart();for(var a=0;n>a;++a)i.point((e=t[a])[0],e[1]);return void i.lineEnd()}var s=new Zn(e,t,null,!0),c=new Zn(e,null,s,!1);s.o=c,o.push(s),u.push(c),s=new Zn(r,t,null,!1),c=new Zn(r,null,s,!0),s.o=c,o.push(s),u.push(c)}}),u.sort(n),Wn(o),Wn(u),o.length){for(var a=0,s=e,c=u.length;c>a;++a)u[a].e=s=!s;for(var l,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var a=0,c=l.length;c>a;++a)i.point((f=l[a])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var a=l.length-1;a>=0;--a)i.point((f=l[a])[0],f[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Wn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Zn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Xn(t,n,e,r){return function(i,o){function u(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&o.point(n,e)}function a(t,n){var e=i(t,n);v.point(e[0],e[1])}function s(){m.point=a,v.lineStart()}function c(){m.point=u,v.lineEnd()}function l(t,n){g.push([t,n]);var e=i(t,n);b.point(e[0],e[1])}function f(){b.lineStart(),g=[]}function h(){l(g[0][0],g[0][1]),b.lineEnd();var t,n=b.clean(),e=_.buffer(),r=e.length;if(g.pop(),d.push(g),g=null,r){if(1&n){t=e[0];var i,r=t.length-1,u=-1;for(o.lineStart();++u<r;)o.point((i=t[u])[0],i[1]);return void o.lineEnd()}r>1&&2&n&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Gn))}}var p,d,g,v=n(o),y=i.invert(r[0],r[1]),m={point:u,lineStart:s,lineEnd:c,polygonStart:function(){m.point=l,m.lineStart=f,m.lineEnd=h,p=[],d=[],o.polygonStart()},polygonEnd:function(){m.point=u,m.lineStart=s,m.lineEnd=c,p=Zu.merge(p);var t=te(y,d);p.length?Yn(p,Jn,t,e,o):t&&(o.lineStart(),e(null,null,1,o),o.lineEnd()),o.polygonEnd(),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}},_=Qn(),b=n(_);return m}}function Gn(t){return t.length>1}function Qn(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:s,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function Jn(t,n){return((t=t.x)[0]<0?t[1]-Ca-Ta:Ca-t[1])-((n=n.x)[0]<0?n[1]-Ca-Ta:Ca-n[1])}function te(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],o=0,u=0;ds.reset();for(var a=0,s=n.length;s>a;++a){var c=n[a],l=c.length;if(l)for(var f=c[0],h=f[0],p=f[1]/2+Aa/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===l&&(v=0),t=c[v];var y=t[0],m=t[1]/2+Aa/4,_=Math.sin(m),b=Math.cos(m),x=y-h,w=ca(x)>Aa,M=d*_;if(ds.add(Math.atan2(M*Math.sin(x),g*b+M*Math.cos(x))),o+=w?x+(x>=0?Sa:-Sa):x,w^h>=e^y>=e){var j=On(Rn(f),Rn(t));Un(j);var E=On(i,j);Un(E);var k=(w^x>=0?-1:1)*H(E[2]);(r>k||r===k&&(j[0]||j[1]))&&(u+=w^x>=0?1:-1)}if(!v++)break;h=y,d=_,g=b,f=t}}return(-Ta>o||Ta>o&&0>ds)^1&u}function ne(t){var n,e=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Aa:-Aa,s=ca(o-e);ca(s-Aa)<Ta?(t.point(e,r=(r+u)/2>0?Ca:-Ca),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&s>=Aa&&(ca(e-i)<Ta&&(e-=i*Ta),ca(o-a)<Ta&&(o-=a*Ta),r=ee(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=0/0},clean:function(){return 2-n}}}function ee(t,n,e,r){var i,o,u=Math.sin(t-e);return ca(u)>Ta?Math.atan((Math.sin(n)*(o=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*o*u)):(n+r)/2}function re(t,n,e,r){var i;if(null==t)i=e*Ca,r.point(-Aa,i),r.point(0,i),r.point(Aa,i),r.point(Aa,0),r.point(Aa,-i),r.point(0,-i),r.point(-Aa,-i),r.point(-Aa,0),r.point(-Aa,i);else if(ca(t[0]-n[0])>Ta){var o=t[0]<n[0]?Aa:-Aa;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function ie(t){function n(t,n){return Math.cos(t)*Math.cos(n)>o}function e(t){var e,o,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var p,d=[f,h],g=n(f,h),v=u?g?0:i(f,h):g?i(f+(0>f?Aa:-Aa),h):0;if(!e&&(c=s=g)&&t.lineStart(),g!==s&&(p=r(e,d),(Hn(e,p)||Hn(d,p))&&(d[0]+=Ta,d[1]+=Ta,g=n(d[0],d[1]))),g!==s)l=0,g?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&u^g){var y;v&o||!(y=r(d,e,!0))||(l=0,u?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&Hn(e,d)||t.point(d[0],d[1]),e=d,s=g,o=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return l|(c&&s)<<1}}}function r(t,n,e){var r=Rn(t),i=Rn(n),u=[1,0,0],a=On(r,i),s=Nn(a,a),c=a[0],l=s-c*c;if(!l)return!e&&t;var f=o*s/l,h=-o*c/l,p=On(u,a),d=Ln(u,f),g=Ln(a,h);Dn(d,g);var v=p,y=Nn(d,v),m=Nn(v,v),_=y*y-m*(Nn(d,d)-1);if(!(0>_)){var b=Math.sqrt(_),x=Ln(v,(-y-b)/m);if(Dn(x,d),x=In(x),!e)return x;var w,M=t[0],j=n[0],E=t[1],k=n[1];M>j&&(w=M,M=j,j=w);var A=j-M,S=ca(A-Aa)<Ta,C=S||Ta>A;if(!S&&E>k&&(w=E,E=k,k=w),C?S?E+k>0^x[1]<(ca(x[0]-M)<Ta?E:k):E<=x[1]&&x[1]<=k:A>Aa^(M<=x[0]&&x[0]<=j)){var T=Ln(v,(-y+b)/m);return Dn(T,d),[x,In(T)]}}}function i(n,e){var r=u?t:Aa-t,i=0;return-r>n?i|=1:n>r&&(i|=2),-r>e?i|=4:e>r&&(i|=8),i}var o=Math.cos(t),u=o>0,a=ca(o)>Ta,s=Pe(t,6*Pa);return Xn(n,e,s,u?[0,-t]:[-Aa,t-Aa])}function oe(t,n,e,r){return function(i){var o,u=i.a,a=i.b,s=u.x,c=u.y,l=a.x,f=a.y,h=0,p=1,d=l-s,g=f-c;if(o=t-s,d||!(o>0)){if(o/=d,0>d){if(h>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=e-s,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>h&&(h=o)}else if(d>0){if(h>o)return;p>o&&(p=o)}if(o=n-c,g||!(o>0)){if(o/=g,0>g){if(h>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>h&&(h=o)}else if(g>0){if(h>o)return;p>o&&(p=o)}return h>0&&(i.a={x:s+h*d,y:c+h*g}),1>p&&(i.b={x:s+p*d,y:c+p*g}),i}}}}}}function ue(t,n,e,r){function i(r,i){return ca(r[0]-t)<Ta?i>0?0:3:ca(r[0]-e)<Ta?i>0?2:1:ca(r[1]-n)<Ta?i>0?1:0:i>0?3:2}function o(t,n){return u(t.x,n.x)}function u(t,n){var e=i(t,1),r=i(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){function s(t){for(var n=0,e=y.length,r=t[1],i=0;e>i;++i)for(var o,u=1,a=y[i],s=a.length,l=a[0];s>u;++u)o=a[u],l[1]<=r?o[1]>r&&c(l,o,t)>0&&++n:o[1]<=r&&c(l,o,t)<0&&--n,l=o;return 0!==n}function c(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(n[1]-t[1])}function l(o,a,s,c){var l=0,f=0;if(null==o||(l=i(o,s))!==(f=i(a,s))||u(o,a)<0^s>0){do c.point(0===l||3===l?t:e,l>1?r:n);while((l=(l+s+4)%4)!==f)}else c.point(a[0],a[1])}function f(i,o){return i>=t&&e>=i&&o>=n&&r>=o}function h(t,n){f(t,n)&&a.point(t,n)}function p(){T.point=g,y&&y.push(m=[]),E=!0,j=!1,w=M=0/0}function d(){v&&(g(_,b),x&&j&&S.rejoin(),v.push(S.buffer())),T.point=h,j&&a.lineEnd()}function g(t,n){t=Math.max(-Cs,Math.min(Cs,t)),n=Math.max(-Cs,Math.min(Cs,n));var e=f(t,n);if(y&&m.push([t,n]),E)_=t,b=n,x=e,E=!1,e&&(a.lineStart(),a.point(t,n));else if(e&&j)a.point(t,n);else{var r={a:{x:w,y:M},b:{x:t,y:n}};C(r)?(j||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(t,n),k=!1)}w=t,M=n,j=e}var v,y,m,_,b,x,w,M,j,E,k,A=a,S=Qn(),C=oe(t,n,e,r),T={point:h,lineStart:p,lineEnd:d,polygonStart:function(){a=S,v=[],y=[],k=!0},polygonEnd:function(){a=A,v=Zu.merge(v);var n=s([t,r]),e=k&&n,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),i&&Yn(v,o,n,l,a),a.polygonEnd()),v=y=m=null}};return T}}function ae(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function se(t){var n=0,e=Aa/3,r=je(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Aa/180,e=t[1]*Aa/180):[n/Aa*180,e/Aa*180]},i}function ce(t,n){function e(t,n){var e=Math.sqrt(o-2*i*Math.sin(n))/i;return[e*Math.sin(t*=i),u-e*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(n))/2,o=1+r*(2*i-r),u=Math.sqrt(o)/i;return e.invert=function(t,n){var e=u-n;return[Math.atan2(t,e)/i,H((o-(t*t+e*e)*i*i)/(2*i))]},e}function le(){function t(t,n){Fs+=i*t-r*n,r=t,i=n}var n,e,r,i;Ds.point=function(o,u){Ds.point=t,n=r=o,e=i=u},Ds.lineEnd=function(){t(n,e)}}function fe(t,n){Ps>t&&(Ps=t),t>Ns&&(Ns=t),Rs>n&&(Rs=n),n>Os&&(Os=n)}function he(){function t(t,n){u.push("M",t,",",n,o)}function n(t,n){u.push("M",t,",",n),a.point=e}function e(t,n){u.push("L",t,",",n)}function r(){a.point=t}function i(){u.push("Z")}var o=pe(4.5),u=[],a={point:t,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=t},pointRadius:function(t){return o=pe(t),a},result:function(){if(u.length){var t=u.join("");return u=[],t}}};return a}function pe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function de(t,n){ms+=t,_s+=n,++bs}function ge(){function t(t,r){var i=t-n,o=r-e,u=Math.sqrt(i*i+o*o);xs+=u*(n+t)/2,ws+=u*(e+r)/2,Ms+=u,de(n=t,e=r)}var n,e;Us.point=function(r,i){Us.point=t,de(n=r,e=i)}}function ve(){Us.point=de}function ye(){function t(t,n){var e=t-r,o=n-i,u=Math.sqrt(e*e+o*o);xs+=u*(r+t)/2,ws+=u*(i+n)/2,Ms+=u,u=i*t-r*n,js+=u*(r+t),Es+=u*(i+n),ks+=3*u,de(r=t,i=n)}var n,e,r,i;Us.point=function(o,u){Us.point=t,de(n=r=o,e=i=u)},Us.lineEnd=function(){t(n,e)}}function me(t){function n(n,e){t.moveTo(n,e),t.arc(n,e,u,0,Sa)}function e(n,e){t.moveTo(n,e),a.point=r}function r(n,e){t.lineTo(n,e)}function i(){a.point=n}function o(){t.closePath()}var u=4.5,a={point:n,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=i,a.point=n},pointRadius:function(t){return u=t,a},result:s};return a}function _e(t){function n(t){return(a?r:e)(t)}function e(n){return we(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})}function r(n){function e(e,r){e=t(e,r),n.point(e[0],e[1])}function r(){_=0/0,j.point=o,n.lineStart()}function o(e,r){var o=Rn([e,r]),u=t(e,r);i(_,b,m,x,w,M,_=u[0],b=u[1],m=e,x=o[0],w=o[1],M=o[2],a,n),n.point(_,b)}function u(){j.point=e,n.lineEnd()}function s(){r(),j.point=c,j.lineEnd=l}function c(t,n){o(f=t,h=n),p=_,d=b,g=x,v=w,y=M,j.point=o}function l(){i(_,b,m,x,w,M,p,d,f,g,v,y,a,n),j.lineEnd=u,u()}var f,h,p,d,g,v,y,m,_,b,x,w,M,j={point:e,lineStart:r,lineEnd:u,polygonStart:function(){n.polygonStart(),j.lineStart=s},polygonEnd:function(){n.polygonEnd(),j.lineStart=r}};return j}function i(n,e,r,a,s,c,l,f,h,p,d,g,v,y){var m=l-n,_=f-e,b=m*m+_*_;if(b>4*o&&v--){var x=a+p,w=s+d,M=c+g,j=Math.sqrt(x*x+w*w+M*M),E=Math.asin(M/=j),k=ca(ca(M)-1)<Ta||ca(r-h)<Ta?(r+h)/2:Math.atan2(w,x),A=t(k,E),S=A[0],C=A[1],T=S-n,F=C-e,P=_*T-m*F;(P*P/b>o||ca((m*T+_*F)/b-.5)>.3||u>a*p+s*d+c*g)&&(i(n,e,r,a,s,c,S,C,k,x/=j,w/=j,M,v,y),y.point(S,C),i(S,C,k,x,w,M,l,f,h,p,d,g,v,y))}}var o=.5,u=Math.cos(30*Pa),a=16;return n.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,n):Math.sqrt(o)},n}function be(t){var n=_e(function(n,e){return t([n*Ra,e*Ra])});return function(t){return Ee(n(t))}}function xe(t){this.stream=t}function we(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Me(t){return je(function(){return t})()}function je(t){function n(t){return t=a(t[0]*Pa,t[1]*Pa),[t[0]*h+s,c-t[1]*h]}function e(t){return t=a.invert((t[0]-s)/h,(c-t[1])/h),t&&[t[0]*Ra,t[1]*Ra]}function r(){a=ae(u=Se(y,m,_),o);var t=o(g,v);return s=p-t[0]*h,c=d+t[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),n}var o,u,a,s,c,l,f=_e(function(t,n){return t=o(t,n),[t[0]*h+s,c-t[1]*h]}),h=150,p=480,d=250,g=0,v=0,y=0,m=0,_=0,b=Ss,x=yn,w=null,M=null;return n.stream=function(t){return l&&(l.valid=!1),l=Ee(b(u,f(x(t)))),l.valid=!0,l},n.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Ss):ie((w=+t)*Pa),i()):w},n.clipExtent=function(t){return arguments.length?(M=t,x=t?ue(t[0][0],t[0][1],t[1][0],t[1][1]):yn,i()):M},n.scale=function(t){return arguments.length?(h=+t,r()):h},n.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},n.center=function(t){return arguments.length?(g=t[0]%360*Pa,v=t[1]%360*Pa,r()):[g*Ra,v*Ra]},n.rotate=function(t){return arguments.length?(y=t[0]%360*Pa,m=t[1]%360*Pa,_=t.length>2?t[2]%360*Pa:0,r()):[y*Ra,m*Ra,_*Ra]},Zu.rebind(n,f,"precision"),function(){return o=t.apply(this,arguments),n.invert=o.invert&&e,r()}}function Ee(t){return we(t,function(n,e){t.point(n*Pa,e*Pa)})}function ke(t,n){return[t,n]}function Ae(t,n){return[t>Aa?t-Sa:-Aa>t?t+Sa:t,n]}function Se(t,n,e){return t?n||e?ae(Te(t),Fe(n,e)):Te(t):n||e?Fe(n,e):Ae}function Ce(t){return function(n,e){return n+=t,[n>Aa?n-Sa:-Aa>n?n+Sa:n,e]}}function Te(t){var n=Ce(t);return n.invert=Ce(-t),n}function Fe(t,n){function e(t,n){var e=Math.cos(n),a=Math.cos(t)*e,s=Math.sin(t)*e,c=Math.sin(n),l=c*r+a*i;return[Math.atan2(s*o-l*u,a*r-c*i),H(l*o+s*u)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(n),u=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),a=Math.cos(t)*e,s=Math.sin(t)*e,c=Math.sin(n),l=c*o-s*u;return[Math.atan2(s*o+c*u,a*r+l*i),H(l*r-a*i)]},e}function Pe(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,o,u,a){var s=u*n;null!=i?(i=Re(e,i),o=Re(e,o),(u>0?o>i:i>o)&&(i+=u*Sa)):(i=t+u*Sa,o=t-.5*s);for(var c,l=i;u>0?l>o:o>l;l-=s)a.point((c=In([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function Re(t,n){var e=Rn(n);e[0]-=t,Un(e);var r=I(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ta)%(2*Math.PI)}function Ne(t,n,e){var r=Zu.range(t,n-Ta,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Oe(t,n,e){var r=Zu.range(t,n-Ta,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function De(t){return t.source}function Le(t){return t.target}function Ue(t,n,e,r){var i=Math.cos(n),o=Math.sin(n),u=Math.cos(r),a=Math.sin(r),s=i*Math.cos(t),c=i*Math.sin(t),l=u*Math.cos(e),f=u*Math.sin(e),h=2*Math.asin(Math.sqrt(B(r-n)+i*u*B(e-t))),p=1/Math.sin(h),d=h?function(t){var n=Math.sin(t*=h)*p,e=Math.sin(h-t)*p,r=e*s+n*l,i=e*c+n*f,u=e*o+n*a;
return[Math.atan2(i,r)*Ra,Math.atan2(u,Math.sqrt(r*r+i*i))*Ra]}:function(){return[t*Ra,n*Ra]};return d.distance=h,d}function Ie(){function t(t,i){var o=Math.sin(i*=Pa),u=Math.cos(i),a=ca((t*=Pa)-n),s=Math.cos(a);Is+=Math.atan2(Math.sqrt((a=u*Math.sin(a))*a+(a=r*o-e*u*s)*a),e*o+r*u*s),n=t,e=o,r=u}var n,e,r;Hs.point=function(i,o){n=i*Pa,e=Math.sin(o*=Pa),r=Math.cos(o),Hs.point=t},Hs.lineEnd=function(){Hs.point=Hs.lineEnd=s}}function He(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),o=t(r*i);return[o*i*Math.sin(n),o*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),o=Math.sin(i),u=Math.cos(i);return[Math.atan2(t*o,r*u),Math.asin(r&&e*o/r)]},e}function qe(t,n){function e(t,n){var e=ca(ca(n)-Ca)<Ta?0:u/Math.pow(i(n),o);return[e*Math.sin(o*t),u-e*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Aa/4+t/2)},o=t===n?Math.sin(t):Math.log(r/Math.cos(n))/Math.log(i(n)/i(t)),u=r*Math.pow(i(t),o)/o;return o?(e.invert=function(t,n){var e=u-n,r=U(o)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/o,2*Math.atan(Math.pow(u/r,1/o))-Ca]},e):Ve}function ze(t,n){function e(t,n){var e=o-n;return[e*Math.sin(i*t),o-e*Math.cos(i*t)]}var r=Math.cos(t),i=t===n?Math.sin(t):(r-Math.cos(n))/(n-t),o=r/i+t;return ca(i)<Ta?ke:(e.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/i,o-U(i)*Math.sqrt(t*t+e*e)]},e)}function Ve(t,n){return[t,Math.log(Math.tan(Aa/4+n/2))]}function Be(t){var n,e=Me(t),r=e.scale,i=e.translate,o=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=i.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var u=o.apply(e,arguments);if(u===e){if(n=null==t){var a=Aa*r(),s=i();o([[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]])}}else n&&(u=null);return u},e.clipExtent(null)}function $e(t,n){return[Math.log(Math.tan(Aa/4+n/2)),-t]}function Ke(t){return t[0]}function Ye(t){return t[1]}function We(t,n,e,r){var i,o,u,a,s,c,l;return i=r[t],o=i[0],u=i[1],i=r[n],a=i[0],s=i[1],i=r[e],c=i[0],l=i[1],(l-u)*(a-o)-(s-u)*(c-o)>0}function Ze(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Xe(t,n,e,r){var i=t[0],o=e[0],u=n[0]-i,a=r[0]-o,s=t[1],c=e[1],l=n[1]-s,f=r[1]-c,h=(a*(s-c)-f*(i-o))/(f*u-a*l);return[i+h*u,s+h*l]}function Ge(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}function Qe(){_r(this),this.edge=this.site=this.circle=null}function Je(t){var n=Qs.pop()||new Qe;return n.site=t,n}function tr(t){lr(t),Zs.remove(t),Qs.push(t),_r(t)}function nr(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},o=t.P,u=t.N,a=[t];tr(t);for(var s=o;s.circle&&ca(e-s.circle.x)<Ta&&ca(r-s.circle.cy)<Ta;)o=s.P,a.unshift(s),tr(s),s=o;a.unshift(s),lr(s);for(var c=u;c.circle&&ca(e-c.circle.x)<Ta&&ca(r-c.circle.cy)<Ta;)u=c.N,a.push(c),tr(c),c=u;a.push(c),lr(c);var l,f=a.length;for(l=1;f>l;++l)c=a[l],s=a[l-1],vr(c.edge,s.site,c.site,i);s=a[0],c=a[f-1],c.edge=dr(s.site,c.site,null,i),cr(s),cr(c)}function er(t){for(var n,e,r,i,o=t.x,u=t.y,a=Zs._;a;)if(r=rr(a,u)-o,r>Ta)a=a.L;else{if(i=o-ir(a,u),!(i>Ta)){r>-Ta?(n=a.P,e=a):i>-Ta?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}var s=Je(t);if(Zs.insert(n,s),n||e){if(n===e)return lr(n),e=Je(n.site),Zs.insert(s,e),s.edge=e.edge=dr(n.site,s.site),cr(n),void cr(e);if(!e)return void(s.edge=dr(n.site,s.site));lr(n),lr(e);var c=n.site,l=c.x,f=c.y,h=t.x-l,p=t.y-f,d=e.site,g=d.x-l,v=d.y-f,y=2*(h*v-p*g),m=h*h+p*p,_=g*g+v*v,b={x:(v*m-p*_)/y+l,y:(h*_-g*m)/y+f};vr(e.edge,c,d,b),s.edge=dr(c,t,null,b),e.edge=dr(t,d,null,b),cr(n),cr(e)}}function rr(t,n){var e=t.site,r=e.x,i=e.y,o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;e=u.site;var a=e.x,s=e.y,c=s-n;if(!c)return a;var l=a-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+a)/2}function ir(t,n){var e=t.N;if(e)return rr(e,n);var r=t.site;return r.y===n?r.x:1/0}function or(t){this.site=t,this.edges=[]}function ur(t){for(var n,e,r,i,o,u,a,s,c,l,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=Ws,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(a=o.edges,s=a.length,u=0;s>u;)l=a[u].end(),r=l.x,i=l.y,c=a[++u%s].start(),n=c.x,e=c.y,(ca(r-n)>Ta||ca(i-e)>Ta)&&(a.splice(u,0,new yr(gr(o.site,l,ca(r-f)<Ta&&d-i>Ta?{x:f,y:ca(n-f)<Ta?e:d}:ca(i-d)<Ta&&h-r>Ta?{x:ca(e-d)<Ta?n:h,y:d}:ca(r-h)<Ta&&i-p>Ta?{x:h,y:ca(n-h)<Ta?e:p}:ca(i-p)<Ta&&r-f>Ta?{x:ca(e-p)<Ta?n:f,y:p}:null),o.site,null)),++s)}function ar(t,n){return n.angle-t.angle}function sr(){_r(this),this.x=this.y=this.arc=this.site=this.cy=null}function cr(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i.x,a=i.y,s=r.x-u,c=r.y-a,l=o.x-u,f=o.y-a,h=2*(s*f-c*l);if(!(h>=-Fa)){var p=s*s+c*c,d=l*l+f*f,g=(f*p-c*d)/h,v=(s*d-l*p)/h,f=v+a,y=Js.pop()||new sr;y.arc=t,y.site=i,y.x=g+u,y.y=f+Math.sqrt(g*g+v*v),y.cy=f,t.circle=y;for(var m=null,_=Gs._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}Gs.insert(m,y),m||(Xs=y)}}}}function lr(t){var n=t.circle;n&&(n.P||(Xs=n.N),Gs.remove(n),Js.push(n),_r(n),t.circle=null)}function fr(t){for(var n,e=Ys,r=oe(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)n=e[i],(!hr(n,t)||!r(n)||ca(n.a.x-n.b.x)<Ta&&ca(n.a.y-n.b.y)<Ta)&&(n.a=n.b=null,e.splice(i,1))}function hr(t,n){var e=t.b;if(e)return!0;var r,i,o=t.a,u=n[0][0],a=n[1][0],s=n[0][1],c=n[1][1],l=t.l,f=t.r,h=l.x,p=l.y,d=f.x,g=f.y,v=(h+d)/2,y=(p+g)/2;if(g===p){if(u>v||v>=a)return;if(h>d){if(o){if(o.y>=c)return}else o={x:v,y:s};e={x:v,y:c}}else{if(o){if(o.y<s)return}else o={x:v,y:c};e={x:v,y:s}}}else if(r=(h-d)/(g-p),i=y-r*v,-1>r||r>1)if(h>d){if(o){if(o.y>=c)return}else o={x:(s-i)/r,y:s};e={x:(c-i)/r,y:c}}else{if(o){if(o.y<s)return}else o={x:(c-i)/r,y:c};e={x:(s-i)/r,y:s}}else if(g>p){if(o){if(o.x>=a)return}else o={x:u,y:r*u+i};e={x:a,y:r*a+i}}else{if(o){if(o.x<u)return}else o={x:a,y:r*a+i};e={x:u,y:r*u+i}}return t.a=o,t.b=e,!0}function pr(t,n){this.l=t,this.r=n,this.a=this.b=null}function dr(t,n,e,r){var i=new pr(t,n);return Ys.push(i),e&&vr(i,t,n,e),r&&vr(i,n,t,r),Ws[t.i].edges.push(new yr(i,t,n)),Ws[n.i].edges.push(new yr(i,n,t)),i}function gr(t,n,e){var r=new pr(t,null);return r.a=n,r.b=e,Ys.push(r),r}function vr(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function yr(t,n,e){var r=t.a,i=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function mr(){this._=null}function _r(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function br(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function xr(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function wr(t){for(;t.L;)t=t.L;return t}function Mr(t,n){var e,r,i,o=t.sort(jr).pop();for(Ys=[],Ws=new Array(t.length),Zs=new mr,Gs=new mr;;)if(i=Xs,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==e||o.y!==r)&&(Ws[o.i]=new or(o),er(o),e=o.x,r=o.y),o=t.pop();else{if(!i)break;nr(i.arc)}n&&(fr(n),ur(n));var u={cells:Ws,edges:Ys};return Zs=Gs=Ys=Ws=null,u}function jr(t,n){return n.y-t.y||n.x-t.x}function Er(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}function kr(t){return t.x}function Ar(t){return t.y}function Sr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Cr(t,n,e,r,i,o){if(!t(n,e,r,i,o)){var u=.5*(e+i),a=.5*(r+o),s=n.nodes;s[0]&&Cr(t,s[0],e,r,u,a),s[1]&&Cr(t,s[1],u,r,i,a),s[2]&&Cr(t,s[2],e,a,u,o),s[3]&&Cr(t,s[3],u,a,i,o)}}function Tr(t,n){t=Zu.rgb(t),n=Zu.rgb(n);var e=t.r,r=t.g,i=t.b,o=n.r-e,u=n.g-r,a=n.b-i;return function(t){return"#"+ln(Math.round(e+o*t))+ln(Math.round(r+u*t))+ln(Math.round(i+a*t))}}function Fr(t,n){var e,r={},i={};for(e in t)e in n?r[e]=Nr(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function Pr(t,n){return n-=t=+t,function(e){return t+n*e}}function Rr(t,n){var e,r,i,o,u,a=0,s=0,c=[],l=[];for(t+="",n+="",nc.lastIndex=0,r=0;e=nc.exec(n);++r)e.index&&c.push(n.substring(a,s=e.index)),l.push({i:c.length,x:e[0]}),c.push(null),a=nc.lastIndex;for(a<n.length&&c.push(n.substring(a)),r=0,o=l.length;(e=nc.exec(t))&&o>r;++r)if(u=l[r],u.x==e[0]){if(u.i)if(null==c[u.i+1])for(c[u.i-1]+=u.x,c.splice(u.i,1),i=r+1;o>i;++i)l[i].i--;else for(c[u.i-1]+=u.x+c[u.i+1],c.splice(u.i,2),i=r+1;o>i;++i)l[i].i-=2;else if(null==c[u.i+1])c[u.i]=u.x;else for(c[u.i]=u.x+c[u.i+1],c.splice(u.i+1,1),i=r+1;o>i;++i)l[i].i--;l.splice(r,1),o--,r--}else u.x=Pr(parseFloat(e[0]),parseFloat(u.x));for(;o>r;)u=l.pop(),null==c[u.i+1]?c[u.i]=u.x:(c[u.i]=u.x+c[u.i+1],c.splice(u.i+1,1)),o--;return 1===c.length?null==c[0]?(u=l[0].x,function(t){return u(t)+""}):function(){return n}:function(t){for(r=0;o>r;++r)c[(u=l[r]).i]=u.x(t);return c.join("")}}function Nr(t,n){for(var e,r=Zu.interpolators.length;--r>=0&&!(e=Zu.interpolators[r](t,n)););return e}function Or(t,n){var e,r=[],i=[],o=t.length,u=n.length,a=Math.min(t.length,n.length);for(e=0;a>e;++e)r.push(Nr(t[e],n[e]));for(;o>e;++e)i[e]=t[e];for(;u>e;++e)i[e]=n[e];return function(t){for(e=0;a>e;++e)i[e]=r[e](t);return i}}function Dr(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function Lr(t){return function(n){return 1-t(1-n)}}function Ur(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function Ir(t){return t*t}function Hr(t){return t*t*t}function qr(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(.5>t?e:3*(t-n)+e-.75)}function zr(t){return function(n){return Math.pow(n,t)}}function Vr(t){return 1-Math.cos(t*Ca)}function Br(t){return Math.pow(2,10*(t-1))}function $r(t){return 1-Math.sqrt(1-t*t)}function Kr(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/Sa*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*Sa/n)}}function Yr(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function Wr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Zr(t,n){t=Zu.hcl(t),n=Zu.hcl(n);var e=t.h,r=t.c,i=t.l,o=n.h-e,u=n.c-r,a=n.l-i;return isNaN(u)&&(u=0,r=isNaN(r)?n.c:r),isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:-180>o&&(o+=360),function(t){return G(e+o*t,r+u*t,i+a*t)+""}}function Xr(t,n){t=Zu.hsl(t),n=Zu.hsl(n);var e=t.h,r=t.s,i=t.l,o=n.h-e,u=n.s-r,a=n.l-i;return isNaN(u)&&(u=0,r=isNaN(r)?n.s:r),isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:-180>o&&(o+=360),function(t){return W(e+o*t,r+u*t,i+a*t)+""}}function Gr(t,n){t=Zu.lab(t),n=Zu.lab(n);var e=t.l,r=t.a,i=t.b,o=n.l-e,u=n.a-r,a=n.b-i;return function(t){return tn(e+o*t,r+u*t,i+a*t)+""}}function Qr(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function Jr(t){var n=[t.a,t.b],e=[t.c,t.d],r=ni(n),i=ti(n,e),o=ni(ei(e,n,-i))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*Ra,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ra:0}function ti(t,n){return t[0]*n[0]+t[1]*n[1]}function ni(t){var n=Math.sqrt(ti(t,t));return n&&(t[0]/=n,t[1]/=n),n}function ei(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function ri(t,n){var e,r=[],i=[],o=Zu.transform(t),u=Zu.transform(n),a=o.translate,s=u.translate,c=o.rotate,l=u.rotate,f=o.skew,h=u.skew,p=o.scale,d=u.scale;return a[0]!=s[0]||a[1]!=s[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:Pr(a[0],s[0])},{i:3,x:Pr(a[1],s[1])})):r.push(s[0]||s[1]?"translate("+s+")":""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Pr(c,l)})):l&&r.push(r.pop()+"rotate("+l+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Pr(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:Pr(p[0],d[0])},{i:e-2,x:Pr(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),e=i.length,function(t){for(var n,o=-1;++o<e;)r[(n=i[o]).i]=n.x(t);return r.join("")}}function ii(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return(e-t)*n}}function oi(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return Math.max(0,Math.min(1,(e-t)*n))}}function ui(t){for(var n=t.source,e=t.target,r=si(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function ai(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function si(t,n){if(t===n)return t;for(var e=ai(t),r=ai(n),i=e.pop(),o=r.pop(),u=null;i===o;)u=i,i=e.pop(),o=r.pop();return u}function ci(t){t.fixed|=2}function li(t){t.fixed&=-7}function fi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function hi(t){t.fixed&=-5}function pi(t,n,e){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,u=t.nodes,a=u.length,s=-1;++s<a;)o=u[s],null!=o&&(pi(o,n,e),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*e[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function di(t,n){return Zu.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=mi,t}function gi(t){return t.children}function vi(t){return t.value}function yi(t,n){return n.value-t.value}function mi(t){return Zu.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function _i(t){return t.x}function bi(t){return t.y}function xi(t,n,e){t.y0=n,t.y=e}function wi(t){return Zu.range(t.length)}function Mi(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function ji(t){for(var n,e=1,r=0,i=t[0][1],o=t.length;o>e;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function Ei(t){return t.reduce(ki,0)}function ki(t,n){return t+n[1]}function Ai(t,n){return Si(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function Si(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,o=[];++e<=n;)o[e]=i*e+r;return o}function Ci(t){return[Zu.min(t),Zu.max(t)]}function Ti(t,n){return t.parent==n.parent?1:2}function Fi(t){var n=t.children;return n&&n.length?n[0]:t._tree.thread}function Pi(t){var n,e=t.children;return e&&(n=e.length)?e[n-1]:t._tree.thread}function Ri(t,n){var e=t.children;if(e&&(i=e.length))for(var r,i,o=-1;++o<i;)n(r=Ri(e[o],n),t)>0&&(t=r);return t}function Ni(t,n){return t.x-n.x}function Oi(t,n){return n.x-t.x}function Di(t,n){return t.depth-n.depth}function Li(t,n){function e(t,r){var i=t.children;if(i&&(u=i.length))for(var o,u,a=null,s=-1;++s<u;)o=i[s],e(o,a),a=o;n(t,r)}e(t,null)}function Ui(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)n=i[o]._tree,n.prelim+=e,n.mod+=e,e+=n.shift+(r+=n.change)}function Ii(t,n,e){t=t._tree,n=n._tree;var r=e/(n.number-t.number);t.change+=r,n.change-=r,n.shift+=e,n.prelim+=e,n.mod+=e}function Hi(t,n,e){return t._tree.ancestor.parent==n.parent?t._tree.ancestor:e}function qi(t,n){return t.value-n.value}function zi(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function Vi(t,n){t._pack_next=n,n._pack_prev=t}function Bi(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.999*i*i>e*e+r*r}function $i(t){function n(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((e=t.children)&&(c=e.length)){var e,r,i,o,u,a,s,c,l=1/0,f=-1/0,h=1/0,p=-1/0;if(e.forEach(Ki),r=e[0],r.x=-r.r,r.y=0,n(r),c>1&&(i=e[1],i.x=i.r,i.y=0,n(i),c>2))for(o=e[2],Zi(r,i,o),n(o),zi(r,o),r._pack_prev=o,zi(o,i),i=r._pack_next,u=3;c>u;u++){Zi(r,i,o=e[u]);var d=0,g=1,v=1;for(a=i._pack_next;a!==i;a=a._pack_next,g++)if(Bi(a,o)){d=1;break}if(1==d)for(s=r._pack_prev;s!==a._pack_prev&&!Bi(s,o);s=s._pack_prev,v++);d?(v>g||g==v&&i.r<r.r?Vi(r,i=a):Vi(r=s,i),u--):(zi(r,o),i=o,n(o))}var y=(l+f)/2,m=(h+p)/2,_=0;for(u=0;c>u;u++)o=e[u],o.x-=y,o.y-=m,_=Math.max(_,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=_,e.forEach(Yi)}}function Ki(t){t._pack_next=t._pack_prev=t}function Yi(t){delete t._pack_next,delete t._pack_prev}function Wi(t,n,e,r){var i=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,i)for(var o=-1,u=i.length;++o<u;)Wi(i[o],n,e,r)}function Zi(t,n,e){var r=t.r+e.r,i=n.x-t.x,o=n.y-t.y;if(r&&(i||o)){var u=n.r+e.r,a=i*i+o*o;u*=u,r*=r;var s=.5+(r-u)/(2*a),c=Math.sqrt(Math.max(0,2*u*(r+a)-(r-=a)*r-u*u))/(2*a);e.x=t.x+s*i+c*o,e.y=t.y+s*o-c*i}else e.x=t.x+r,e.y=t.y}function Xi(t){return 1+Zu.max(t,function(t){return t.y})}function Gi(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Qi(t){var n=t.children;return n&&n.length?Qi(n[0]):t}function Ji(t){var n,e=t.children;return e&&(n=e.length)?Ji(e[n-1]):t}function to(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function no(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],o=t.dy-n[0]-n[2];return 0>i&&(e+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:e,y:r,dx:i,dy:o}}function eo(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function ro(t){return t.rangeExtent?t.rangeExtent():eo(t.range())}function io(t,n,e,r){var i=e(t[0],t[1]),o=r(n[0],n[1]);return function(t){return o(i(t))}}function oo(t,n){var e,r=0,i=t.length-1,o=t[r],u=t[i];return o>u&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function uo(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:fc}function ao(t,n,e,r){var i=[],o=[],u=0,a=Math.min(t.length,n.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<=a;)i.push(e(t[u-1],t[u])),o.push(r(n[u-1],n[u]));return function(n){var e=Zu.bisect(t,n,1,a)-1;return o[e](i[e](n))}}function so(t,n,e,r){function i(){var i=Math.min(t.length,n.length)>2?ao:io,s=r?oi:ii;return u=i(t,n,s,e),a=i(n,t,s,Nr),o}function o(t){return u(t)}var u,a;return o.invert=function(t){return a(t)},o.domain=function(n){return arguments.length?(t=n.map(Number),i()):t},o.range=function(t){return arguments.length?(n=t,i()):n},o.rangeRound=function(t){return o.range(t).interpolate(Qr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(e=t,i()):e},o.ticks=function(n){return ho(t,n)},o.tickFormat=function(n,e){return po(t,n,e)},o.nice=function(n){return lo(t,n),i()},o.copy=function(){return so(t,n,e,r)},i()}function co(t,n){return Zu.rebind(t,n,"range","rangeRound","interpolate","clamp")}function lo(t,n){return oo(t,uo(fo(t,n)[2]))}function fo(t,n){null==n&&(n=10);var e=eo(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),o=n/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function ho(t,n){return Zu.range.apply(Zu,fo(t,n))}function po(t,n,e){var r=fo(t,n);return Zu.format(e?e.replace(us,function(t,n,e,i,o,u,a,s,c,l){return[n,e,i,o,u,a,s,c||"."+vo(l,r),l].join("")}):",."+go(r[2])+"f")}function go(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function vo(t,n){var e=go(n[2]);return t in hc?Math.abs(e-go(Math.max(Math.abs(n[0]),Math.abs(n[1]))))+ +("e"!==t):e-2*("%"===t)}function yo(t,n,e,r){function i(t){return(e?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function o(t){return e?Math.pow(n,t):-Math.pow(n,-t)}function u(n){return t(i(n))}return u.invert=function(n){return o(t.invert(n))},u.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((r=n.map(Number)).map(i)),u):r},u.base=function(e){return arguments.length?(n=+e,t.domain(r.map(i)),u):n},u.nice=function(){var n=oo(r.map(i),e?Math:dc);return t.domain(n),r=n.map(o),u},u.ticks=function(){var t=eo(r),u=[],a=t[0],s=t[1],c=Math.floor(i(a)),l=Math.ceil(i(s)),f=n%1?2:n;if(isFinite(l-c)){if(e){for(;l>c;c++)for(var h=1;f>h;h++)u.push(o(c)*h);u.push(o(c))}else for(u.push(o(c));c++<l;)for(var h=f-1;h>0;h--)u.push(o(c)*h);for(c=0;u[c]<a;c++);for(l=u.length;u[l-1]>s;l--);u=u.slice(c,l)}return u},u.tickFormat=function(t,n){if(!arguments.length)return pc;arguments.length<2?n=pc:"function"!=typeof n&&(n=Zu.format(n));var r,a=Math.max(.1,t/u.ticks().length),s=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(s(i(t)+r))<=a?n(t):""}},u.copy=function(){return yo(t.copy(),n,e,r)},co(u,t)}function mo(t,n,e){function r(n){return t(i(n))}var i=_o(n),o=_o(1/n);return r.invert=function(n){return o(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(i)),r):e},r.ticks=function(t){return ho(e,t)},r.tickFormat=function(t,n){return po(e,t,n)},r.nice=function(t){return r.domain(lo(e,t))},r.exponent=function(u){return arguments.length?(i=_o(n=u),o=_o(1/n),t.domain(e.map(i)),r):n},r.copy=function(){return mo(t.copy(),n,e)},co(r,t)}function _o(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function bo(t,n){function e(e){return u[((o.get(e)||"range"===n.t&&o.set(e,t.push(e)))-1)%u.length]}function r(n,e){return Zu.range(t.length).map(function(t){return n+e*t})}var o,u,a;return e.domain=function(r){if(!arguments.length)return t;t=[],o=new i;for(var u,a=-1,s=r.length;++a<s;)o.has(u=r[a])||o.set(u,t.push(u));return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(u=t,a=0,n={t:"range",a:arguments},e):u},e.rangePoints=function(i,o){arguments.length<2&&(o=0);var s=i[0],c=i[1],l=(c-s)/(Math.max(1,t.length-1)+o);return u=r(t.length<2?(s+c)/2:s+l*o/2,l),a=0,n={t:"rangePoints",a:arguments},e},e.rangeBands=function(i,o,s){arguments.length<2&&(o=0),arguments.length<3&&(s=o);var c=i[1]<i[0],l=i[c-0],f=i[1-c],h=(f-l)/(t.length-o+2*s);return u=r(l+h*s,h),c&&u.reverse(),a=h*(1-o),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,o,s){arguments.length<2&&(o=0),arguments.length<3&&(s=o);var c=i[1]<i[0],l=i[c-0],f=i[1-c],h=Math.floor((f-l)/(t.length-o+2*s)),p=f-l-(t.length-o)*h;return u=r(l+Math.round(p/2),h),c&&u.reverse(),a=Math.round(h*(1-o)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return eo(n.a[0])},e.copy=function(){return bo(t,n)},e.domain(t)}function xo(t,n){function e(){var e=0,o=n.length;for(i=[];++e<o;)i[e-1]=Zu.quantile(t,e/o);return r}function r(t){return isNaN(t=+t)?void 0:n[Zu.bisect(i,t)]}var i;return r.domain=function(n){return arguments.length?(t=n.filter(function(t){return!isNaN(t)}).sort(Zu.ascending),e()):t},r.range=function(t){return arguments.length?(n=t,e()):n},r.quantiles=function(){return i},r.invertExtent=function(e){return e=n.indexOf(e),0>e?[0/0,0/0]:[e>0?i[e-1]:t[0],e<i.length?i[e]:t[t.length-1]]},r.copy=function(){return xo(t,n)},e()}function wo(t,n,e){function r(n){return e[Math.max(0,Math.min(u,Math.floor(o*(n-t))))]}function i(){return o=e.length/(n-t),u=e.length-1,r}var o,u;return r.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],i()):[t,n]},r.range=function(t){return arguments.length?(e=t,i()):e},r.invertExtent=function(n){return n=e.indexOf(n),n=0>n?0/0:n/o+t,[n,n+1/o]},r.copy=function(){return wo(t,n,e)},i()}function Mo(t,n){function e(e){return e>=e?n[Zu.bisect(t,e)]:void 0}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},e.copy=function(){return Mo(t,n)},e}function jo(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return ho(t,n)},n.tickFormat=function(n,e){return po(t,n,e)},n.copy=function(){return jo(t)},n}function Eo(t){return t.innerRadius}function ko(t){return t.outerRadius}function Ao(t){return t.startAngle}function So(t){return t.endAngle}function Co(t){function n(n){function u(){c.push("M",o(t(l),a))}for(var s,c=[],l=[],f=-1,h=n.length,p=vn(e),d=vn(r);++f<h;)i.call(this,s=n[f],f)?l.push([+p.call(this,s,f),+d.call(this,s,f)]):l.length&&(u(),l=[]);return l.length&&u(),c.length?c.join(""):null}var e=Ke,r=Ye,i=Kn,o=To,u=o.key,a=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(i=t,n):i},n.interpolate=function(t){return arguments.length?(u="function"==typeof t?o=t:(o=xc.get(t)||To).key,n):u},n.tension=function(t){return arguments.length?(a=t,n):a},n}function To(t){return t.join("L")}function Fo(t){return To(t)+"Z"}function Po(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function Ro(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function No(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function Oo(t,n){return t.length<4?To(t):t[1]+Uo(t.slice(1,t.length-1),Io(t,n))}function Do(t,n){return t.length<3?To(t):t[0]+Uo((t.push(t[0]),t),Io([t[t.length-2]].concat(t,[t[1]]),n))}function Lo(t,n){return t.length<3?To(t):t[0]+Uo(t,Io(t,n))}function Uo(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return To(t);var e=t.length!=n.length,r="",i=t[0],o=t[1],u=n[0],a=u,s=1;if(e&&(r+="Q"+(o[0]-2*u[0]/3)+","+(o[1]-2*u[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),n.length>1){a=n[1],o=t[s],s++,r+="C"+(i[0]+u[0])+","+(i[1]+u[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<n.length;c++,s++)o=t[s],a=n[c],r+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(e){var l=t[s];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+l[0]+","+l[1]}return r}function Io(t,n){for(var e,r=[],i=(1-n)/2,o=t[0],u=t[1],a=1,s=t.length;++a<s;)e=o,o=u,u=t[a],r.push([i*(u[0]-e[0]),i*(u[1]-e[1])]);return r}function Ho(t){if(t.length<3)return To(t);var n=1,e=t.length,r=t[0],i=r[0],o=r[1],u=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],s=[i,",",o,"L",Bo(jc,u),",",Bo(jc,a)];for(t.push(t[e-1]);++n<=e;)r=t[n],u.shift(),u.push(r[0]),a.shift(),a.push(r[1]),$o(s,u,a);return t.pop(),s.push("L",r),s.join("")}function qo(t){if(t.length<4)return To(t);for(var n,e=[],r=-1,i=t.length,o=[0],u=[0];++r<3;)n=t[r],o.push(n[0]),u.push(n[1]);for(e.push(Bo(jc,o)+","+Bo(jc,u)),--r;++r<i;)n=t[r],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),$o(e,o,u);return e.join("")}function zo(t){for(var n,e,r=-1,i=t.length,o=i+4,u=[],a=[];++r<4;)e=t[r%i],u.push(e[0]),a.push(e[1]);for(n=[Bo(jc,u),",",Bo(jc,a)],--r;++r<o;)e=t[r%i],u.shift(),u.push(e[0]),a.shift(),a.push(e[1]),$o(n,u,a);return n.join("")}function Vo(t,n){var e=t.length-1;if(e)for(var r,i,o=t[0][0],u=t[0][1],a=t[e][0]-o,s=t[e][1]-u,c=-1;++c<=e;)r=t[c],i=c/e,r[0]=n*r[0]+(1-n)*(o+i*a),r[1]=n*r[1]+(1-n)*(u+i*s);return Ho(t)}function Bo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function $o(t,n,e){t.push("C",Bo(wc,n),",",Bo(wc,e),",",Bo(Mc,n),",",Bo(Mc,e),",",Bo(jc,n),",",Bo(jc,e))}function Ko(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Yo(t){for(var n=0,e=t.length-1,r=[],i=t[0],o=t[1],u=r[0]=Ko(i,o);++n<e;)r[n]=(u+(u=Ko(i=o,o=t[n+1])))/2;return r[n]=u,r}function Wo(t){for(var n,e,r,i,o=[],u=Yo(t),a=-1,s=t.length-1;++a<s;)n=Ko(t[a],t[a+1]),ca(n)<Ta?u[a]=u[a+1]=0:(e=u[a]/n,r=u[a+1]/n,i=e*e+r*r,i>9&&(i=3*n/Math.sqrt(i),u[a]=i*e,u[a+1]=i*r));for(a=-1;++a<=s;)i=(t[Math.min(s,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+u[a]*u[a])),o.push([i||0,u[a]*i||0]);return o}function Zo(t){return t.length<3?To(t):t[0]+Uo(t,Wo(t))}function Xo(t){for(var n,e,r,i=-1,o=t.length;++i<o;)n=t[i],e=n[0],r=n[1]+_c,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Go(t){function n(n){function s(){g.push("M",a(t(y),f),l,c(t(v.reverse()),f),"Z")}for(var h,p,d,g=[],v=[],y=[],m=-1,_=n.length,b=vn(e),x=vn(i),w=e===r?function(){return p}:vn(r),M=i===o?function(){return d}:vn(o);++m<_;)u.call(this,h=n[m],m)?(v.push([p=+b.call(this,h,m),d=+x.call(this,h,m)]),y.push([+w.call(this,h,m),+M.call(this,h,m)])):v.length&&(s(),v=[],y=[]);return v.length&&s(),g.length?g.join(""):null}var e=Ke,r=Ke,i=0,o=Ye,u=Kn,a=To,s=a.key,c=a,l="L",f=.7;return n.x=function(t){return arguments.length?(e=r=t,n):r},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(i=o=t,n):o},n.y0=function(t){return arguments.length?(i=t,n):i},n.y1=function(t){return arguments.length?(o=t,n):o},n.defined=function(t){return arguments.length?(u=t,n):u},n.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=xc.get(t)||To).key,c=a.reverse||a,l=a.closed?"M":"L",n):s},n.tension=function(t){return arguments.length?(f=t,n):f},n}function Qo(t){return t.radius}function Jo(t){return[t.x,t.y]}function tu(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]+_c;return[e*Math.cos(r),e*Math.sin(r)]}}function nu(){return 64}function eu(){return"circle"}function ru(t){var n=Math.sqrt(t/Aa);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function iu(t,n){return da(t,Tc),t.id=n,t}function ou(t,n,e,r){var i=t.id;return C(t,"function"==typeof e?function(t,o,u){t.__transition__[i].tween.set(n,r(e.call(t,t.__data__,o,u)))}:(e=r(e),function(t){t.__transition__[i].tween.set(n,e)}))}function uu(t){return null==t&&(t=""),function(){this.textContent=t}}function au(t,n,e,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),u=o[e];if(!u){var a=r.time;u=o[e]={tween:new i,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,Zu.timer(function(r){function i(r){return o.active>e?c():(o.active=e,u.event&&u.event.start.call(t,l,n),u.tween.forEach(function(e,r){(r=r.call(t,l,n))&&g.push(r)}),void Zu.timer(function(){return d.c=s(r||1)?Kn:s,1},0,a))}function s(r){if(o.active!==e)return c();for(var i=r/p,a=f(i),s=g.length;s>0;)g[--s].call(t,a);return i>=1?(u.event&&u.event.end.call(t,l,n),c()):void 0}function c(){return--o.count?delete o[e]:delete t.__transition__,1}var l=t.__data__,f=u.ease,h=u.delay,p=u.duration,d=Ja,g=[];return d.t=h+a,r>=h?i(r-h):void(d.c=i)},0,a)}}function su(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function cu(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function lu(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function fu(t,n,e){function r(n){var e=t(n),r=o(e,1);return r-n>n-e?e:r}function i(e){return n(e=t(new Lc(e-1)),1),e}function o(t,e){return n(t=new Lc(+t),e),t}function u(t,r,o){var u=i(t),a=[];if(o>1)for(;r>u;)e(u)%o||a.push(new Date(+u)),n(u,1);else for(;r>u;)a.push(new Date(+u)),n(u,1);return a}function a(t,n,e){try{Lc=lu;var r=new lu;return r._=t,u(r,n,e)}finally{Lc=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=u;var s=t.utc=hu(t);return s.floor=s,s.round=hu(r),s.ceil=hu(i),s.offset=hu(o),s.range=a,t}function hu(t){return function(n,e){try{Lc=lu;var r=new lu;return r._=n,t(r,e)._}finally{Lc=Date}}}function pu(t){function n(n){for(var r,i,o,u=[],a=-1,s=0;++a<e;)37===t.charCodeAt(a)&&(u.push(t.substring(s,a)),null!=(i=el[r=t.charAt(++a)])&&(r=t.charAt(++a)),(o=rl[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),u.push(r),s=a+1);return u.push(t.substring(s,a)),u.join("")}var e=t.length;return n.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=du(e,t,n,0);if(r!=n.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var i=null!=e.Z&&Lc!==lu,o=new(i?lu:Lc);return"j"in e?o.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(o.setFullYear(e.y,0,1),o.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(o.getDay()+5)%7:e.w+7*e.U-(o.getDay()+6)%7)):o.setFullYear(e.y,e.m,e.d),o.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),i?o._:o},n.toString=function(){return t},n}function du(t,n,e,r){for(var i,o,u,a=0,s=n.length,c=e.length;s>a;){if(r>=c)return-1;if(i=n.charCodeAt(a++),37===i){if(u=n.charAt(a++),o=il[u in el?n.charAt(a++):u],!o||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function gu(t){return new RegExp("^(?:"+t.map(Zu.requote).join("|")+")","i")}function vu(t){for(var n=new i,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function yu(t,n,e){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(e>o?new Array(e-o+1).join(n)+i:i)}function mu(t,n,e){Zc.lastIndex=0;var r=Zc.exec(n.substring(e));return r?(t.w=Xc.get(r[0].toLowerCase()),e+r[0].length):-1}function _u(t,n,e){Yc.lastIndex=0;var r=Yc.exec(n.substring(e));return r?(t.w=Wc.get(r[0].toLowerCase()),e+r[0].length):-1}function bu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function xu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e));return r?(t.U=+r[0],e+r[0].length):-1}function wu(t,n,e){ol.lastIndex=0;
var r=ol.exec(n.substring(e));return r?(t.W=+r[0],e+r[0].length):-1}function Mu(t,n,e){Jc.lastIndex=0;var r=Jc.exec(n.substring(e));return r?(t.m=tl.get(r[0].toLowerCase()),e+r[0].length):-1}function ju(t,n,e){Gc.lastIndex=0;var r=Gc.exec(n.substring(e));return r?(t.m=Qc.get(r[0].toLowerCase()),e+r[0].length):-1}function Eu(t,n,e){return du(t,rl.c.toString(),n,e)}function ku(t,n,e){return du(t,rl.x.toString(),n,e)}function Au(t,n,e){return du(t,rl.X.toString(),n,e)}function Su(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Cu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+2));return r?(t.y=Fu(+r[0]),e+r[0].length):-1}function Tu(t,n,e){return/^[+-]\d{4}$/.test(n=n.substring(e,e+5))?(t.Z=+n,e+5):-1}function Fu(t){return t+(t>68?1900:2e3)}function Pu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ru(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Nu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function Ou(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Du(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Lu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Uu(t,n,e){ol.lastIndex=0;var r=ol.exec(n.substring(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Iu(t,n,e){var r=ul.get(n.substring(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)}function Hu(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=~~(ca(n)/60),i=ca(n)%60;return e+yu(r,"0",2)+yu(i,"0",2)}function qu(t,n,e){nl.lastIndex=0;var r=nl.exec(n.substring(e,e+1));return r?e+r[0].length:-1}function zu(t){function n(t){try{Lc=lu;var n=new Lc;return n._=t,e(n)}finally{Lc=Date}}var e=pu(t);return n.parse=function(t){try{Lc=lu;var n=e.parse(t);return n&&n._}finally{Lc=Date}},n.toString=e.toString,n}function Vu(t){return t.toISOString()}function Bu(t,n,e){function r(n){return t(n)}function i(t,e){var r=t[1]-t[0],i=r/e,o=Zu.bisect(sl,i);return o==sl.length?[n.year,fo(t.map(function(t){return t/31536e6}),e)[2]]:o?n[i/sl[o-1]<sl[o]/i?o-1:o]:[hl,fo(t,e)[2]]}return r.invert=function(n){return $u(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map($u)},r.nice=function(t,n){function e(e){return!isNaN(e)&&!t.range(e,$u(+e+1),n).length}var o=r.domain(),u=eo(o),a=null==t?i(u,10):"number"==typeof t&&i(u,t);return a&&(t=a[0],n=a[1]),r.domain(oo(o,n>1?{floor:function(n){for(;e(n=t.floor(n));)n=$u(n-1);return n},ceil:function(n){for(;e(n=t.ceil(n));)n=$u(+n+1);return n}}:t))},r.ticks=function(t,n){var e=eo(r.domain()),o=null==t?i(e,10):"number"==typeof t?i(e,t):!t.range&&[{range:t},n];return o&&(t=o[0],n=o[1]),t.range(e[0],$u(+e[1]+1),1>n?1:n)},r.tickFormat=function(){return e},r.copy=function(){return Bu(t.copy(),n,e)},co(r,t)}function $u(t){return new Date(t)}function Ku(t){return function(n){for(var e=t.length-1,r=t[e];!r[1](n);)r=t[--e];return r[0](n)}}function Yu(t){return JSON.parse(t.responseText)}function Wu(t){var n=Qu.createRange();return n.selectNode(Qu.body),n.createContextualFragment(t.responseText)}var Zu={version:"3.3.13"};Date.now||(Date.now=function(){return+new Date});var Xu=[].slice,Gu=function(t){return Xu.call(t)},Qu=document,Ju=Qu.documentElement,ta=window;try{Gu(Ju.childNodes)[0].nodeType}catch(na){Gu=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}try{Qu.createElement("div").style.setProperty("opacity",0,"")}catch(ea){var ra=ta.Element.prototype,ia=ra.setAttribute,oa=ra.setAttributeNS,ua=ta.CSSStyleDeclaration.prototype,aa=ua.setProperty;ra.setAttribute=function(t,n){ia.call(this,t,n+"")},ra.setAttributeNS=function(t,n,e){oa.call(this,t,n,e+"")},ua.setProperty=function(t,n,e){aa.call(this,t,n+"",e)}}Zu.ascending=function(t,n){return n>t?-1:t>n?1:t>=n?0:0/0},Zu.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:0/0},Zu.min=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(e=t[i])&&e>=e);)e=void 0;for(;++i<o;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<o&&!(null!=(e=n.call(t,t[i],i))&&e>=e);)e=void 0;for(;++i<o;)null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}return e},Zu.max=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(e=t[i])&&e>=e);)e=void 0;for(;++i<o;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<o&&!(null!=(e=n.call(t,t[i],i))&&e>=e);)e=void 0;for(;++i<o;)null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}return e},Zu.extent=function(t,n){var e,r,i,o=-1,u=t.length;if(1===arguments.length){for(;++o<u&&!(null!=(e=i=t[o])&&e>=e);)e=i=void 0;for(;++o<u;)null!=(r=t[o])&&(e>r&&(e=r),r>i&&(i=r))}else{for(;++o<u&&!(null!=(e=i=n.call(t,t[o],o))&&e>=e);)e=void 0;for(;++o<u;)null!=(r=n.call(t,t[o],o))&&(e>r&&(e=r),r>i&&(i=r))}return[e,i]},Zu.sum=function(t,n){var e,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(e=+t[o])||(r+=e);else for(;++o<i;)isNaN(e=+n.call(t,t[o],o))||(r+=e);return r},Zu.mean=function(n,e){var r,i=n.length,o=0,u=-1,a=0;if(1===arguments.length)for(;++u<i;)t(r=n[u])&&(o+=(r-o)/++a);else for(;++u<i;)t(r=e.call(n,n[u],u))&&(o+=(r-o)/++a);return a?o:void 0},Zu.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],o=e-r;return o?i+o*(t[r]-i):i},Zu.median=function(n,e){return arguments.length>1&&(n=n.map(e)),n=n.filter(t),n.length?Zu.quantile(n.sort(Zu.ascending),.5):void 0},Zu.bisector=function(t){return{left:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);i>r;){var o=r+i>>>1;t.call(n,n[o],o)<e?r=o+1:i=o}return r},right:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);i>r;){var o=r+i>>>1;e<t.call(n,n[o],o)?i=o:r=o+1}return r}}};var sa=Zu.bisector(function(t){return t});Zu.bisectLeft=sa.left,Zu.bisect=Zu.bisectRight=sa.right,Zu.shuffle=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t},Zu.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},Zu.pairs=function(t){for(var n,e=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>e;)o[e]=[n=i,i=t[++e]];return o},Zu.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=Zu.min(arguments,n),r=new Array(e);++t<e;)for(var i,o=-1,u=r[t]=new Array(i);++o<i;)u[o]=arguments[o][t];return r},Zu.transpose=function(t){return Zu.zip.apply(Zu,t)},Zu.keys=function(t){var n=[];for(var e in t)n.push(e);return n},Zu.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},Zu.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Zu.merge=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--u]=r[n];return e};var ca=Math.abs;Zu.range=function(t,n,r){if(arguments.length<3&&(r=1,arguments.length<2&&(n=t,t=0)),(n-t)/r===1/0)throw new Error("infinite range");var i,o=[],u=e(ca(r)),a=-1;if(t*=u,n*=u,r*=u,0>r)for(;(i=t+r*++a)>n;)o.push(i/u);else for(;(i=t+r*++a)<n;)o.push(i/u);return o},Zu.map=function(t){var n=new i;if(t instanceof i)t.forEach(function(t,e){n.set(t,e)});else for(var e in t)n.set(e,t[e]);return n},r(i,{has:function(t){return la+t in this},get:function(t){return this[la+t]},set:function(t,n){return this[la+t]=n},remove:function(t){return t=la+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(n){t.push(n)}),t},values:function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},entries:function(){var t=[];return this.forEach(function(n,e){t.push({key:n,value:e})}),t},forEach:function(t){for(var n in this)n.charCodeAt(0)===fa&&t.call(this,n.substring(1),this[n])}});var la="\x00",fa=la.charCodeAt(0);Zu.nest=function(){function t(n,a,s){if(s>=u.length)return r?r.call(o,a):e?a.sort(e):a;for(var c,l,f,h,p=-1,d=a.length,g=u[s++],v=new i;++p<d;)(h=v.get(c=g(l=a[p])))?h.push(l):v.set(c,[l]);return n?(l=n(),f=function(e,r){l.set(e,t(n,r,s))}):(l={},f=function(e,r){l[e]=t(n,r,s)}),v.forEach(f),l}function n(t,e){if(e>=u.length)return t;var r=[],i=a[e++];return t.forEach(function(t,i){r.push({key:t,values:n(i,e)})}),i?r.sort(function(t,n){return i(t.key,n.key)}):r}var e,r,o={},u=[],a=[];return o.map=function(n,e){return t(e,n,0)},o.entries=function(e){return n(t(Zu.map,e,0),0)},o.key=function(t){return u.push(t),o},o.sortKeys=function(t){return a[u.length-1]=t,o},o.sortValues=function(t){return e=t,o},o.rollup=function(t){return r=t,o},o},Zu.set=function(t){var n=new o;if(t)for(var e=0,r=t.length;r>e;++e)n.add(t[e]);return n},r(o,{has:function(t){return la+t in this},add:function(t){return this[la+t]=!0,t},remove:function(t){return t=la+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(n){t.push(n)}),t},forEach:function(t){for(var n in this)n.charCodeAt(0)===fa&&t.call(this,n.substring(1))}}),Zu.behavior={},Zu.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=u(t,n,n[e]);return t};var ha=["webkit","ms","moz","Moz","o","O"];Zu.dispatch=function(){for(var t=new c,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=l(t);return t},c.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.substring(e+1),t=t.substring(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Zu.event=null,Zu.requote=function(t){return t.replace(pa,"\\$&")};var pa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,da={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},ga=function(t,n){return n.querySelector(t)},va=function(t,n){return n.querySelectorAll(t)},ya=Ju[a(Ju,"matchesSelector")],ma=function(t,n){return ya.call(t,n)};"function"==typeof Sizzle&&(ga=function(t,n){return Sizzle(t,n)[0]||null},va=function(t,n){return Sizzle.uniqueSort(Sizzle(t,n))},ma=Sizzle.matchesSelector),Zu.selection=function(){return wa};var _a=Zu.selection.prototype=[];_a.select=function(t){var n,e,r,i,o=[];t=g(t);for(var u=-1,a=this.length;++u<a;){o.push(n=[]),n.parentNode=(r=this[u]).parentNode;for(var s=-1,c=r.length;++s<c;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,u)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return d(o)},_a.selectAll=function(t){var n,e,r=[];t=v(t);for(var i=-1,o=this.length;++i<o;)for(var u=this[i],a=-1,s=u.length;++a<s;)(e=u[a])&&(r.push(n=Gu(t.call(e,e.__data__,a,i))),n.parentNode=e);return d(r)};var ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Zu.ns={prefix:ba,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.substring(0,n),t=t.substring(n+1)),ba.hasOwnProperty(e)?{space:ba[e],local:t}:t}},_a.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=Zu.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(y(n,t[n]));return this}return this.each(y(t,n))},_a.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=b(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!_(t[i]).test(n))return!1;return!0}for(n in t)this.each(x(n,t[n]));return this}return this.each(x(t,n))},_a.style=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(e in t)this.each(M(e,t[e],n));return this}if(2>r)return ta.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each(M(t,n,e))},_a.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(j(n,t[n]));return this}return this.each(j(t,n))},_a.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},_a.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},_a.append=function(t){return t=E(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},_a.insert=function(t,n){return t=E(t),n=g(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},_a.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},_a.data=function(t,n){function e(t,e){var r,o,u,a=t.length,f=e.length,h=Math.min(a,f),p=new Array(f),d=new Array(f),g=new Array(a);if(n){var v,y=new i,m=new i,_=[];for(r=-1;++r<a;)v=n.call(o=t[r],o.__data__,r),y.has(v)?g[r]=o:y.set(v,o),_.push(v);for(r=-1;++r<f;)v=n.call(e,u=e[r],r),(o=y.get(v))?(p[r]=o,o.__data__=u):m.has(v)||(d[r]=k(u)),m.set(v,u),y.remove(v);for(r=-1;++r<a;)y.has(_[r])&&(g[r]=t[r])}else{for(r=-1;++r<h;)o=t[r],u=e[r],o?(o.__data__=u,p[r]=o):d[r]=k(u);for(;f>r;++r)d[r]=k(e[r]);for(;a>r;++r)g[r]=t[r]}d.update=p,d.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(d),c.push(p),l.push(g)}var r,o,u=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++u<a;)(o=r[u])&&(t[u]=o.__data__);return t}var s=T([]),c=d([]),l=d([]);if("function"==typeof t)for(;++u<a;)e(r=this[u],t.call(r,r.parentNode.__data__,u));else for(;++u<a;)e(r=this[u],t);return c.enter=function(){return s},c.exit=function(){return l},c},_a.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},_a.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=A(t));for(var o=0,u=this.length;u>o;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,o)&&n.push(r)}return d(i)},_a.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];--i>=0;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},_a.sort=function(t){t=S.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},_a.each=function(t){return C(this,function(n,e,r){t.call(n,n.__data__,e,r)})},_a.call=function(t){var n=Gu(arguments);return t.apply(n[0]=this,n),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],r=0,i=e.length;i>r;r++){var o=e[r];if(o)return o}return null},_a.size=function(){var t=0;return this.each(function(){++t}),t};var xa=[];Zu.selection.enter=T,Zu.selection.enter.prototype=xa,xa.append=_a.append,xa.empty=_a.empty,xa.node=_a.node,xa.call=_a.call,xa.size=_a.size,xa.select=function(t){for(var n,e,r,i,o,u=[],a=-1,s=this.length;++a<s;){r=(i=this[a]).update,u.push(n=[]),n.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(n.push(r[c]=e=t.call(i.parentNode,o.__data__,c,a)),e.__data__=o.__data__):n.push(null)}return d(u)},xa.insert=function(t,n){return arguments.length<2&&(n=F(this)),_a.insert.call(this,t,n)},_a.transition=function(){for(var t,n,e=kc||++Fc,r=[],i=Ac||{time:Date.now(),ease:qr,delay:0,duration:250},o=-1,u=this.length;++o<u;){r.push(t=[]);for(var a=this[o],s=-1,c=a.length;++s<c;)(n=a[s])&&au(n,s,e,i),t.push(n)}return iu(r,e)},_a.interrupt=function(){return this.each(P)},Zu.select=function(t){var n=["string"==typeof t?ga(t,Qu):t];return n.parentNode=Ju,d([n])},Zu.selectAll=function(t){var n=Gu("string"==typeof t?va(t,Qu):t);return n.parentNode=Ju,d([n])};var wa=Zu.select(Ju);_a.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t)this.each(R(e,t[e],n));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(R(t,n,e))};var Ma=Zu.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ma.forEach(function(t){"on"+t in Qu&&Ma.remove(t)});var ja="onselectstart"in Qu?null:a(Ju.style,"userSelect"),Ea=0;Zu.mouse=function(t){return L(t,h())};var ka=/WebKit/.test(ta.navigator.userAgent)?-1:0;Zu.touches=function(t,n){return arguments.length<2&&(n=h().touches),n?Gu(n).map(function(n){var e=L(t,n);return e.identifier=n.identifier,e}):[]},Zu.behavior.drag=function(){function t(){this.on("mousedown.drag",u).on("touchstart.drag",a)}function n(){return Zu.event.changedTouches[0].identifier}function e(t,n){return Zu.touches(t).filter(function(t){return t.identifier===n})[0]}function r(t,n,e,r){return function(){function u(){var t=n(l,p),e=t[0]-g[0],r=t[1]-g[1];v|=e|r,g=t,f({type:"drag",x:t[0]+s[0],y:t[1]+s[1],dx:e,dy:r})}function a(){y.on(e+"."+d,null).on(r+"."+d,null),m(v&&Zu.event.target===h),f({type:"dragend"})}var s,c=this,l=c.parentNode,f=i.of(c,arguments),h=Zu.event.target,p=t(),d=null==p?"drag":"drag-"+p,g=n(l,p),v=0,y=Zu.select(ta).on(e+"."+d,u).on(r+"."+d,a),m=D();o?(s=o.apply(c,arguments),s=[s.x-g[0],s.y-g[1]]):s=[0,0],f({type:"dragstart"})}}var i=p(t,"drag","dragstart","dragend"),o=null,u=r(s,Zu.mouse,"mousemove","mouseup"),a=r(n,e,"touchmove","touchend");return t.origin=function(n){return arguments.length?(o=n,t):o},Zu.rebind(t,i,"on")};var Aa=Math.PI,Sa=2*Aa,Ca=Aa/2,Ta=1e-6,Fa=Ta*Ta,Pa=Aa/180,Ra=180/Aa,Na=Math.SQRT2,Oa=2,Da=4;Zu.interpolateZoom=function(t,n){function e(t){var n=t*m;if(y){var e=z(g),u=o/(Oa*h)*(e*V(Na*n+g)-q(g));return[r+u*c,i+u*l,o*e/z(Na*n+g)]}return[r+t*c,i+t*l,o*Math.exp(Na*n)]}var r=t[0],i=t[1],o=t[2],u=n[0],a=n[1],s=n[2],c=u-r,l=a-i,f=c*c+l*l,h=Math.sqrt(f),p=(s*s-o*o+Da*f)/(2*o*Oa*h),d=(s*s-o*o-Da*f)/(2*s*Oa*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(d*d+1)-d),y=v-g,m=(y||Math.log(s/o))/Na;return e.duration=1e3*m,e},Zu.behavior.zoom=function(){function t(t){t.on(A,c).on(Ia+".zoom",h).on(S,d).on("dblclick.zoom",g).on(T,l)}function n(t){return[(t[0]-j.x)/j.k,(t[1]-j.y)/j.k]}function e(t){return[t[0]*j.k+j.x,t[1]*j.k+j.y]}function r(t){j.k=Math.max(k[0],Math.min(k[1],t))}function i(t,n){n=e(n),j.x+=t[0]-n[0],j.y+=t[1]-n[1]}function o(){x&&x.domain(b.range().map(function(t){return(t-j.x)/j.k}).map(b.invert)),M&&M.domain(w.range().map(function(t){return(t-j.y)/j.k}).map(w.invert))}function u(t){t({type:"zoomstart"})}function a(t){o(),t({type:"zoom",scale:j.k,translate:[j.x,j.y]})}function s(t){t({type:"zoomend"})}function c(){function t(){l=1,i(Zu.mouse(r),h),a(o)}function e(){f.on(S,ta===r?d:null).on(C,null),p(l&&Zu.event.target===c),s(o)}var r=this,o=F.of(r,arguments),c=Zu.event.target,l=0,f=Zu.select(ta).on(S,t).on(C,e),h=n(Zu.mouse(r)),p=D();P.call(r),u(o)}function l(){function t(){var t=Zu.touches(d);return p=j.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=n(t))}),t}function e(){for(var n=Zu.event.changedTouches,e=0,o=n.length;o>e;++e)v[n[e].identifier]=null;var u=t(),s=Date.now();if(1===u.length){if(500>s-_){var c=u[0],l=v[c.identifier];r(2*j.k),i(c,l),f(),a(g)}_=s}else if(u.length>1){var c=u[0],h=u[1],p=c[0]-h[0],d=c[1]-h[1];y=p*p+d*d}}function o(){for(var t,n,e,o,u=Zu.touches(d),s=0,c=u.length;c>s;++s,o=null)if(e=u[s],o=v[e.identifier]){if(n)break;t=e,n=o}if(o){var l=(l=e[0]-t[0])*l+(l=e[1]-t[1])*l,f=y&&Math.sqrt(l/y);t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+o[0])/2,(n[1]+o[1])/2],r(f*p)}_=null,i(t,n),a(g)}function h(){if(Zu.event.touches.length){for(var n=Zu.event.changedTouches,e=0,r=n.length;r>e;++e)delete v[n[e].identifier];for(var i in v)return void t()}w.on(b,null).on(x,null),M.on(A,c).on(T,l),E(),s(g)}var p,d=this,g=F.of(d,arguments),v={},y=0,m=Zu.event.changedTouches[0].identifier,b="touchmove.zoom-"+m,x="touchend.zoom-"+m,w=Zu.select(ta).on(b,o).on(x,h),M=Zu.select(d).on(A,null).on(T,e),E=D();P.call(d),e(),u(g)}function h(){var t=F.of(this,arguments);m?clearTimeout(m):(P.call(this),u(t)),m=setTimeout(function(){m=null,s(t)},50),f();var e=y||Zu.mouse(this);v||(v=n(e)),r(Math.pow(2,.002*La())*j.k),i(e,v),a(t)}function d(){v=null}function g(){var t=F.of(this,arguments),e=Zu.mouse(this),o=n(e),c=Math.log(j.k)/Math.LN2;u(t),r(Math.pow(2,Zu.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),i(e,o),a(t),s(t)}var v,y,m,_,b,x,w,M,j={x:0,y:0,k:1},E=[960,500],k=Ua,A="mousedown.zoom",S="mousemove.zoom",C="mouseup.zoom",T="touchstart.zoom",F=p(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=F.of(this,arguments),n=j;kc?Zu.select(this).transition().each("start.zoom",function(){j=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=e/2,o=r/2,u=Zu.interpolateZoom([(i-j.x)/j.k,(o-j.y)/j.k,e/j.k],[(i-n.x)/n.k,(o-n.y)/n.k,e/n.k]);return function(n){var r=u(n),s=e/r[2];this.__chart__=j={x:i-r[0]*s,y:o-r[1]*s,k:s},a(t)}}).each("end.zoom",function(){s(t)}):(this.__chart__=j,u(t),a(t),s(t))})},t.translate=function(n){return arguments.length?(j={x:+n[0],y:+n[1],k:j.k},o(),t):[j.x,j.y]},t.scale=function(n){return arguments.length?(j={x:j.x,y:j.y,k:+n},o(),t):j.k},t.scaleExtent=function(n){return arguments.length?(k=null==n?Ua:[+n[0],+n[1]],t):k},t.center=function(n){return arguments.length?(y=n&&[+n[0],+n[1]],t):y},t.size=function(n){return arguments.length?(E=n&&[+n[0],+n[1]],t):E},t.x=function(n){return arguments.length?(x=n,b=n.copy(),j={x:0,y:0,k:1},t):x},t.y=function(n){return arguments.length?(M=n,w=n.copy(),j={x:0,y:0,k:1},t):M},Zu.rebind(t,F,"on")};var La,Ua=[0,1/0],Ia="onwheel"in Qu?(La=function(){return-Zu.event.deltaY*(Zu.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qu?(La=function(){return Zu.event.wheelDelta},"mousewheel"):(La=function(){return-Zu.event.detail},"MozMousePixelScroll");$.prototype.toString=function(){return this.rgb()+""},Zu.hsl=function(t,n,e){return 1===arguments.length?t instanceof Y?K(t.h,t.s,t.l):fn(""+t,hn,K):K(+t,+n,+e)};var Ha=Y.prototype=new $;Ha.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),K(this.h,this.s,this.l/t)},Ha.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),K(this.h,this.s,t*this.l)},Ha.rgb=function(){return W(this.h,this.s,this.l)},Zu.hcl=function(t,n,e){return 1===arguments.length?t instanceof X?Z(t.h,t.c,t.l):t instanceof J?nn(t.l,t.a,t.b):nn((t=pn((t=Zu.rgb(t)).r,t.g,t.b)).l,t.a,t.b):Z(+t,+n,+e)};var qa=X.prototype=new $;qa.brighter=function(t){return Z(this.h,this.c,Math.min(100,this.l+za*(arguments.length?t:1)))},qa.darker=function(t){return Z(this.h,this.c,Math.max(0,this.l-za*(arguments.length?t:1)))},qa.rgb=function(){return G(this.h,this.c,this.l).rgb()},Zu.lab=function(t,n,e){return 1===arguments.length?t instanceof J?Q(t.l,t.a,t.b):t instanceof X?G(t.l,t.c,t.h):pn((t=Zu.rgb(t)).r,t.g,t.b):Q(+t,+n,+e)};var za=18,Va=.95047,Ba=1,$a=1.08883,Ka=J.prototype=new $;Ka.brighter=function(t){return Q(Math.min(100,this.l+za*(arguments.length?t:1)),this.a,this.b)},Ka.darker=function(t){return Q(Math.max(0,this.l-za*(arguments.length?t:1)),this.a,this.b)},Ka.rgb=function(){return tn(this.l,this.a,this.b)},Zu.rgb=function(t,n,e){return 1===arguments.length?t instanceof cn?sn(t.r,t.g,t.b):fn(""+t,sn,W):sn(~~t,~~n,~~e)};var Ya=cn.prototype=new $;Ya.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;return n||e||r?(n&&i>n&&(n=i),e&&i>e&&(e=i),r&&i>r&&(r=i),sn(Math.min(255,~~(n/t)),Math.min(255,~~(e/t)),Math.min(255,~~(r/t)))):sn(i,i,i)},Ya.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),sn(~~(t*this.r),~~(t*this.g),~~(t*this.b))},Ya.hsl=function(){return hn(this.r,this.g,this.b)},Ya.toString=function(){return"#"+ln(this.r)+ln(this.g)+ln(this.b)};var Wa=Zu.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wa.forEach(function(t,n){Wa.set(t,un(n))}),Zu.functor=vn,Zu.xhr=mn(yn),Zu.dsv=function(t,n){function e(t,e,o){arguments.length<3&&(o=e,e=null);var u=_n(t,n,null==e?r:i(e),o);return u.row=function(t){return arguments.length?u.response(null==(e=t)?r:i(t)):e},u}function r(t){return e.parse(t.responseText)}function i(t){return function(n){return e.parse(n.responseText,t)}}function u(n){return n.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return e.parse=function(t,n){var r;return e.parseRows(t,function(t,e){if(r)return r(t,e-1);var i=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");r=n?function(t,e){return n(i(t),e)}:i})},e.parseRows=function(t,n){function e(){if(l>=s)return u;if(i)return i=!1,o;var n=l;if(34===t.charCodeAt(n)){for(var e=n;e++<s;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}l=e+2;var r=t.charCodeAt(e+1);return 13===r?(i=!0,10===t.charCodeAt(e+2)&&++l):10===r&&(i=!0),t.substring(n+1,e).replace(/""/g,'"')}for(;s>l;){var r=t.charCodeAt(l++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&(++l,++a);else if(r!==c)continue;return t.substring(n,l-a)}return t.substring(n)}for(var r,i,o={},u={},a=[],s=t.length,l=0,f=0;(r=e())!==u;){for(var h=[];r!==o&&r!==u;)h.push(r),r=e();(!n||(h=n(h,f++)))&&a.push(h)}return a},e.format=function(n){if(Array.isArray(n[0]))return e.formatRows(n);var r=new o,i=[];return n.forEach(function(t){for(var n in t)r.has(n)||i.push(r.add(n))}),[i.map(a).join(t)].concat(n.map(function(n){return i.map(function(t){return a(n[t])}).join(t)})).join("\n")},e.formatRows=function(t){return t.map(u).join("\n")},e},Zu.csv=Zu.dsv(",","text/csv"),Zu.tsv=Zu.dsv("	","text/tab-separated-values");var Za,Xa,Ga,Qa,Ja,ts=ta[a(ta,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Zu.timer=function(t,n,e){var r=arguments.length;2>r&&(n=0),3>r&&(e=Date.now());var i=e+n,o={c:t,t:i,f:!1,n:null};Xa?Xa.n=o:Za=o,Xa=o,Ga||(Qa=clearTimeout(Qa),Ga=1,ts(xn))},Zu.timer.flush=function(){wn(),Mn()};var ns=".",es=",",rs=[3,3],is="$",os=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(jn);Zu.formatPrefix=function(t,n){var e=0;return t&&(0>t&&(t*=-1),n&&(t=Zu.round(t,En(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),os[8+e/3]},Zu.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)},Zu.format=function(t){var n=us.exec(t),e=n[1]||" ",r=n[2]||">",i=n[3]||"",o=n[4]||"",u=n[5],a=+n[6],s=n[7],c=n[8],l=n[9],f=1,h="",p=!1;switch(c&&(c=+c.substring(1)),(u||"0"===e&&"="===r)&&(u=e="0",r="=",s&&(a-=Math.floor((a-1)/4))),l){case"n":s=!0,l="g";break;case"%":f=100,h="%",l="f";break;case"p":f=100,h="%",l="r";break;case"b":case"o":case"x":case"X":"#"===o&&(o="0"+l.toLowerCase());case"c":case"d":p=!0,c=0;break;case"s":f=-1,l="r"}"#"===o?o="":"$"===o&&(o=is),"r"!=l||c||(l="g"),null!=c&&("g"==l?c=Math.max(1,Math.min(21,c)):("e"==l||"f"==l)&&(c=Math.max(0,Math.min(20,c)))),l=as.get(l)||kn;var d=u&&s;return function(t){if(p&&t%1)return"";var n=0>t||0===t&&0>1/t?(t=-t,"-"):i;if(0>f){var g=Zu.formatPrefix(t,c);t=g.scale(t),h=g.symbol}else t*=f;t=l(t,c);var v=t.lastIndexOf("."),y=0>v?t:t.substring(0,v),m=0>v?"":ns+t.substring(v+1);!u&&s&&(y=ss(y));var _=o.length+y.length+m.length+(d?0:n.length),b=a>_?new Array(_=a-_+1).join(e):"";return d&&(y=ss(b+y)),n+=o,t=y+m,("<"===r?n+t+b:">"===r?b+n+t:"^"===r?b.substring(0,_>>=1)+n+t+b.substring(_):n+(d?t:b+t))+h}};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,as=Zu.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=Zu.round(t,En(t,n))).toFixed(Math.max(0,Math.min(20,En(t*(1+1e-15),n))))}}),ss=yn;if(rs){var cs=rs.length;ss=function(t){for(var n=t.length,e=[],r=0,i=rs[0];n>0&&i>0;)e.push(t.substring(n-=i,n+i)),i=rs[r=(r+1)%cs];return e.reverse().join(es)}}Zu.geo={},An.prototype={s:0,t:0,add:function(t){Sn(t,this.t,ls),Sn(ls.s,this.s,this),this.s?this.t+=ls.t:this.s=ls.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ls=new An;Zu.geo.stream=function(t,n){t&&fs.hasOwnProperty(t.type)?fs[t.type](t,n):Cn(t,n)};var fs={Feature:function(t,n){Cn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Cn(e[r].geometry,n)}},hs={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Tn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Tn(e[r],n,0)},Polygon:function(t,n){Fn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Fn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Cn(e[r],n)}};Zu.geo.area=function(t){return ps=0,Zu.geo.stream(t,gs),ps};var ps,ds=new An,gs={sphere:function(){ps+=4*Aa},point:s,lineStart:s,lineEnd:s,polygonStart:function(){ds.reset(),gs.lineStart=Pn},polygonEnd:function(){var t=2*ds;ps+=0>t?4*Aa+t:t,gs.lineStart=gs.lineEnd=gs.point=s}};Zu.geo.bounds=function(){function t(t,n){_.push(b=[l=t,h=t]),f>n&&(f=n),n>p&&(p=n)}function n(n,e){var r=Rn([n*Pa,e*Pa]);if(y){var i=On(y,r),o=[i[1],-i[0],0],u=On(o,i);Un(u),u=In(u);var s=n-d,c=s>0?1:-1,g=u[0]*Ra*c,v=ca(s)>180;if(v^(g>c*d&&c*n>g)){var m=u[1]*Ra;
m>p&&(p=m)}else if(g=(g+360)%360-180,v^(g>c*d&&c*n>g)){var m=-u[1]*Ra;f>m&&(f=m)}else f>e&&(f=e),e>p&&(p=e);v?d>n?a(l,n)>a(l,h)&&(h=n):a(n,h)>a(l,h)&&(l=n):h>=l?(l>n&&(l=n),n>h&&(h=n)):n>d?a(l,n)>a(l,h)&&(h=n):a(n,h)>a(l,h)&&(l=n)}else t(n,e);y=r,d=n}function e(){x.point=n}function r(){b[0]=l,b[1]=h,x.point=t,y=null}function i(t,e){if(y){var r=t-d;m+=ca(r)>180?r+(r>0?360:-360):r}else g=t,v=e;gs.point(t,e),n(t,e)}function o(){gs.lineStart()}function u(){i(g,v),gs.lineEnd(),ca(m)>Ta&&(l=-(h=180)),b[0]=l,b[1]=h,y=null}function a(t,n){return(n-=t)<0?n+360:n}function s(t,n){return t[0]-n[0]}function c(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var l,f,h,p,d,g,v,y,m,_,b,x={point:t,lineStart:e,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=u,m=0,gs.polygonStart()},polygonEnd:function(){gs.polygonEnd(),x.point=t,x.lineStart=e,x.lineEnd=r,0>ds?(l=-(h=180),f=-(p=90)):m>Ta?p=90:-Ta>m&&(f=-90),b[0]=l,b[1]=h}};return function(t){p=h=-(l=f=1/0),_=[],Zu.geo.stream(t,x);var n=_.length;if(n){_.sort(s);for(var e,r=1,i=_[0],o=[i];n>r;++r)e=_[r],c(e[0],i)||c(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(var u,e,d=-1/0,n=o.length-1,r=0,i=o[n];n>=r;i=e,++r)e=o[r],(u=a(i[1],e[0]))>d&&(d=u,l=e[0],h=i[1])}return _=b=null,1/0===l||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[l,f],[h,p]]}}(),Zu.geo.centroid=function(t){vs=ys=ms=_s=bs=xs=ws=Ms=js=Es=ks=0,Zu.geo.stream(t,As);var n=js,e=Es,r=ks,i=n*n+e*e+r*r;return Fa>i&&(n=xs,e=ws,r=Ms,Ta>ys&&(n=ms,e=_s,r=bs),i=n*n+e*e+r*r,Fa>i)?[0/0,0/0]:[Math.atan2(e,n)*Ra,H(r/Math.sqrt(i))*Ra]};var vs,ys,ms,_s,bs,xs,ws,Ms,js,Es,ks,As={sphere:s,point:qn,lineStart:Vn,lineEnd:Bn,polygonStart:function(){As.lineStart=$n},polygonEnd:function(){As.lineStart=Vn}},Ss=Xn(Kn,ne,re,[-Aa,-Aa/2]),Cs=1e9;Zu.geo.clipExtent=function(){var t,n,e,r,i,o,u={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(a){return arguments.length?(o=ue(t=+a[0][0],n=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),u):[[t,n],[e,r]]}};return u.extent([[0,0],[960,500]])},(Zu.geo.conicEqualArea=function(){return se(ce)}).raw=ce,Zu.geo.albers=function(){return Zu.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Zu.geo.albersUsa=function(){function t(t){var o=t[0],u=t[1];return n=null,e(o,u),n||(r(o,u),n)||i(o,u),n}var n,e,r,i,o=Zu.geo.albers(),u=Zu.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Zu.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){n=[t,e]}};return t.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?u:i>=.166&&.234>i&&r>=-.214&&-.115>r?a:o).invert(t)},t.stream=function(t){var n=o.stream(t),e=u.stream(t),r=a.stream(t);return{point:function(t,i){n.point(t,i),e.point(t,i),r.point(t,i)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},t.precision=function(n){return arguments.length?(o.precision(n),u.precision(n),a.precision(n),t):o.precision()},t.scale=function(n){return arguments.length?(o.scale(n),u.scale(.35*n),a.scale(n),t.translate(o.translate())):o.scale()},t.translate=function(n){if(!arguments.length)return o.translate();var c=o.scale(),l=+n[0],f=+n[1];return e=o.translate(n).clipExtent([[l-.455*c,f-.238*c],[l+.455*c,f+.238*c]]).stream(s).point,r=u.translate([l-.307*c,f+.201*c]).clipExtent([[l-.425*c+Ta,f+.12*c+Ta],[l-.214*c-Ta,f+.234*c-Ta]]).stream(s).point,i=a.translate([l-.205*c,f+.212*c]).clipExtent([[l-.214*c+Ta,f+.166*c+Ta],[l-.115*c-Ta,f+.234*c-Ta]]).stream(s).point,t},t.scale(1070)};var Ts,Fs,Ps,Rs,Ns,Os,Ds={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Fs=0,Ds.lineStart=le},polygonEnd:function(){Ds.lineStart=Ds.lineEnd=Ds.point=s,Ts+=ca(Fs/2)}},Ls={point:fe,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s},Us={point:de,lineStart:ge,lineEnd:ve,polygonStart:function(){Us.lineStart=ye},polygonEnd:function(){Us.point=de,Us.lineStart=ge,Us.lineEnd=ve}};Zu.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),u&&u.valid||(u=i(o)),Zu.geo.stream(t,u)),o.result()}function n(){return u=null,t}var e,r,i,o,u,a=4.5;return t.area=function(t){return Ts=0,Zu.geo.stream(t,i(Ds)),Ts},t.centroid=function(t){return ms=_s=bs=xs=ws=Ms=js=Es=ks=0,Zu.geo.stream(t,i(Us)),ks?[js/ks,Es/ks]:Ms?[xs/Ms,ws/Ms]:bs?[ms/bs,_s/bs]:[0/0,0/0]},t.bounds=function(t){return Ns=Os=-(Ps=Rs=1/0),Zu.geo.stream(t,i(Ls)),[[Ps,Rs],[Ns,Os]]},t.projection=function(t){return arguments.length?(i=(e=t)?t.stream||be(t):yn,n()):e},t.context=function(t){return arguments.length?(o=null==(r=t)?new he:new me(t),"function"!=typeof a&&o.pointRadius(a),n()):r},t.pointRadius=function(n){return arguments.length?(a="function"==typeof n?n:(o.pointRadius(+n),+n),t):a},t.projection(Zu.geo.albersUsa()).context(null)},Zu.geo.transform=function(t){return{stream:function(n){var e=new xe(n);for(var r in t)e[r]=t[r];return e}}},xe.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Zu.geo.projection=Me,Zu.geo.projectionMutator=je,(Zu.geo.equirectangular=function(){return Me(ke)}).raw=ke.invert=ke,Zu.geo.rotation=function(t){function n(n){return n=t(n[0]*Pa,n[1]*Pa),n[0]*=Ra,n[1]*=Ra,n}return t=Se(t[0]%360*Pa,t[1]*Pa,t.length>2?t[2]*Pa:0),n.invert=function(n){return n=t.invert(n[0]*Pa,n[1]*Pa),n[0]*=Ra,n[1]*=Ra,n},n},Ae.invert=ke,Zu.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,n=Se(-t[0]*Pa,-t[1]*Pa,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ra,t[1]*=Ra}}),{type:"Polygon",coordinates:[i]}}var n,e,r=[0,0],i=6;return t.origin=function(n){return arguments.length?(r=n,t):r},t.angle=function(r){return arguments.length?(e=Pe((n=+r)*Pa,i*Pa),t):n},t.precision=function(r){return arguments.length?(e=Pe(n*Pa,(i=+r)*Pa),t):i},t.angle(90)},Zu.geo.distance=function(t,n){var e,r=(n[0]-t[0])*Pa,i=t[1]*Pa,o=n[1]*Pa,u=Math.sin(r),a=Math.cos(r),s=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((e=f*u)*e+(e=c*l-s*f*a)*e),s*l+c*f*a)},Zu.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Zu.range(Math.ceil(o/v)*v,i,v).map(h).concat(Zu.range(Math.ceil(c/y)*y,s,y).map(p)).concat(Zu.range(Math.ceil(r/d)*d,e,d).filter(function(t){return ca(t%v)>Ta}).map(l)).concat(Zu.range(Math.ceil(a/g)*g,u,g).filter(function(t){return ca(t%y)>Ta}).map(f))}var e,r,i,o,u,a,s,c,l,f,h,p,d=10,g=d,v=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(s).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],c=+n[0][1],s=+n[1][1],o>i&&(n=o,o=i,i=n),c>s&&(n=c,c=s,s=n),t.precision(m)):[[o,c],[i,s]]},t.minorExtent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(m)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(v=+n[0],y=+n[1],t):[v,y]},t.minorStep=function(n){return arguments.length?(d=+n[0],g=+n[1],t):[d,g]},t.precision=function(n){return arguments.length?(m=+n,l=Ne(a,u,90),f=Oe(r,e,m),h=Ne(c,s,90),p=Oe(o,i,m),t):m},t.majorExtent([[-180,-90+Ta],[180,90-Ta]]).minorExtent([[-180,-80-Ta],[180,80+Ta]])},Zu.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||i.apply(this,arguments)]}}var n,e,r=De,i=Le;return t.distance=function(){return Zu.geo.distance(n||r.apply(this,arguments),e||i.apply(this,arguments))},t.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.target=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.precision=function(){return arguments.length?t:0},t},Zu.geo.interpolate=function(t,n){return Ue(t[0]*Pa,t[1]*Pa,n[0]*Pa,n[1]*Pa)},Zu.geo.length=function(t){return Is=0,Zu.geo.stream(t,Hs),Is};var Is,Hs={sphere:s,point:s,lineStart:Ie,lineEnd:s,polygonStart:s,polygonEnd:s},qs=He(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Zu.geo.azimuthalEqualArea=function(){return Me(qs)}).raw=qs;var zs=He(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},yn);(Zu.geo.azimuthalEquidistant=function(){return Me(zs)}).raw=zs,(Zu.geo.conicConformal=function(){return se(qe)}).raw=qe,(Zu.geo.conicEquidistant=function(){return se(ze)}).raw=ze;var Vs=He(function(t){return 1/t},Math.atan);(Zu.geo.gnomonic=function(){return Me(Vs)}).raw=Vs,Ve.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Ca]},(Zu.geo.mercator=function(){return Be(Ve)}).raw=Ve;var Bs=He(function(){return 1},Math.asin);(Zu.geo.orthographic=function(){return Me(Bs)}).raw=Bs;var $s=He(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Zu.geo.stereographic=function(){return Me($s)}).raw=$s,$e.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Ca]},(Zu.geo.transverseMercator=function(){var t=Be($e),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[-t[1],t[0]])},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=$e,Zu.geom={},Zu.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,i,o,u,a,s,c,l,f,h,p,d,g=vn(e),v=vn(r),y=t.length,m=y-1,_=[],b=[],x=0;if(g===Ke&&r===Ye)n=t;else for(o=0,n=[];y>o;++o)n.push([+g.call(this,i=t[o],o),+v.call(this,i,o)]);for(o=1;y>o;++o)(n[o][1]<n[x][1]||n[o][1]==n[x][1]&&n[o][0]<n[x][0])&&(x=o);for(o=0;y>o;++o)o!==x&&(s=n[o][1]-n[x][1],a=n[o][0]-n[x][0],_.push({angle:Math.atan2(s,a),index:o}));for(_.sort(function(t,n){return t.angle-n.angle}),p=_[0].angle,h=_[0].index,f=0,o=1;m>o;++o){if(u=_[o].index,p==_[o].angle){if(a=n[h][0]-n[x][0],s=n[h][1]-n[x][1],c=n[u][0]-n[x][0],l=n[u][1]-n[x][1],a*a+s*s>=c*c+l*l){_[o].index=-1;continue}_[f].index=-1}p=_[o].angle,f=o,h=u}for(b.push(x),o=0,u=0;2>o;++u)_[u].index>-1&&(b.push(_[u].index),o++);for(d=b.length;m>u;++u)if(!(_[u].index<0)){for(;!We(b[d-2],b[d-1],_[u].index,n);)--d;b[d++]=_[u].index}var w=[];for(o=d-1;o>=0;--o)w.push(t[b[o]]);return w}var e=Ke,r=Ye;return arguments.length?n(t):(n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n)},Zu.geom.polygon=function(t){return da(t,Ks),t};var Ks=Zu.geom.polygon.prototype=[];Ks.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],i=0;++n<e;)t=r,r=this[n],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ks.centroid=function(t){var n,e,r=-1,i=this.length,o=0,u=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)n=a,a=this[r],e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[o*t,u*t]},Ks.clip=function(t){for(var n,e,r,i,o,u,a=Ge(t),s=-1,c=this.length-Ge(this),l=this[c-1];++s<c;){for(n=t.slice(),t.length=0,i=this[s],o=n[(r=n.length-a)-1],e=-1;++e<r;)u=n[e],Ze(u,l,i)?(Ze(o,l,i)||t.push(Xe(o,u,l,i)),t.push(u)):Ze(o,l,i)&&t.push(Xe(o,u,l,i)),o=u;a&&t.push(t[0]),l=i}return t};var Ys,Ws,Zs,Xs,Gs,Qs=[],Js=[];or.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)t=n[e].edge,t.b&&t.a||n.splice(e,1);return n.sort(ar),n.length},yr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},mr.prototype={insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=wr(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(br(this,e),t=e,e=t.U),e.C=!1,r.C=!0,xr(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(xr(this,e),t=e,e=t.U),e.C=!1,r.C=!0,br(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?wr(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,br(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,xr(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,br(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,xr(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,br(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,xr(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Zu.geom.voronoi=function(t){function n(t){var n=new Array(t.length),r=a[0][0],i=a[0][1],o=a[1][0],u=a[1][1];return Mr(e(t),a).cells.forEach(function(e,a){var s=e.edges,c=e.site,l=n[a]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=u?[[r,u],[o,u],[o,i],[r,i]]:[];l.point=t[a]}),n}function e(t){return t.map(function(t,n){return{x:Math.round(o(t,n)/Ta)*Ta,y:Math.round(u(t,n)/Ta)*Ta,i:n}})}var r=Ke,i=Ye,o=r,u=i,a=tc;return t?n(t):(n.links=function(t){return Mr(e(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return Mr(e(t)).cells.forEach(function(e,r){for(var i,o,u=e.site,a=e.edges.sort(ar),s=-1,c=a.length,l=a[c-1].edge,f=l.l===u?l.r:l.l;++s<c;)i=l,o=f,l=a[s].edge,f=l.l===u?l.r:l.l,r<o.i&&r<f.i&&Er(u,o,f)<0&&n.push([t[r],t[o.i],t[f.i]])}),n},n.x=function(t){return arguments.length?(o=vn(r=t),n):r},n.y=function(t){return arguments.length?(u=vn(i=t),n):i},n.clipExtent=function(t){return arguments.length?(a=null==t?tc:t,n):a===tc?null:a},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):a===tc?null:a&&a[1]},n)};var tc=[[-1e6,-1e6],[1e6,1e6]];Zu.geom.delaunay=function(t){return Zu.geom.voronoi().triangles(t)},Zu.geom.quadtree=function(t,n,e,r,i){function o(t){function o(t,n,e,r,i,o,u,a){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var s=t.x,l=t.y;if(null!=s)if(ca(s-e)+ca(l-r)<.01)c(t,n,e,r,i,o,u,a);else{var f=t.point;t.x=t.y=t.point=null,c(t,f,s,l,i,o,u,a),c(t,n,e,r,i,o,u,a)}else t.x=e,t.y=r,t.point=n}else c(t,n,e,r,i,o,u,a)}function c(t,n,e,r,i,u,a,s){var c=.5*(i+a),l=.5*(u+s),f=e>=c,h=r>=l,p=(h<<1)+f;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=Sr()),f?i=c:a=c,h?u=l:s=l,o(t,n,e,r,i,u,a,s)}var l,f,h,p,d,g,v,y,m,_=vn(a),b=vn(s);if(null!=n)g=n,v=e,y=r,m=i;else if(y=m=-(g=v=1/0),f=[],h=[],d=t.length,u)for(p=0;d>p;++p)l=t[p],l.x<g&&(g=l.x),l.y<v&&(v=l.y),l.x>y&&(y=l.x),l.y>m&&(m=l.y),f.push(l.x),h.push(l.y);else for(p=0;d>p;++p){var x=+_(l=t[p],p),w=+b(l,p);g>x&&(g=x),v>w&&(v=w),x>y&&(y=x),w>m&&(m=w),f.push(x),h.push(w)}var M=y-g,j=m-v;M>j?m=v+M:y=g+j;var E=Sr();if(E.add=function(t){o(E,t,+_(t,++p),+b(t,p),g,v,y,m)},E.visit=function(t){Cr(t,E,g,v,y,m)},p=-1,null==n){for(;++p<d;)o(E,t[p],f[p],h[p],g,v,y,m);--p}else t.forEach(E.add);return f=h=t=l=null,E}var u,a=Ke,s=Ye;return(u=arguments.length)?(a=kr,s=Ar,3===u&&(i=e,r=n,e=n=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(s=t,o):s},o.extent=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==n?null:[[n,e],[r,i]]},o.size=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=e=0,r=+t[0],i=+t[1]),o):null==n?null:[r-n,i-e]},o)},Zu.interpolateRgb=Tr,Zu.interpolateObject=Fr,Zu.interpolateNumber=Pr,Zu.interpolateString=Rr;var nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Zu.interpolate=Nr,Zu.interpolators=[function(t,n){var e=typeof n;return("string"===e?Wa.has(n)||/^(#|rgb\(|hsl\()/.test(n)?Tr:Rr:n instanceof $?Tr:"object"===e?Array.isArray(n)?Or:Fr:Pr)(t,n)}],Zu.interpolateArray=Or;var ec=function(){return yn},rc=Zu.map({linear:ec,poly:zr,quad:function(){return Ir},cubic:function(){return Hr},sin:function(){return Vr},exp:function(){return Br},circle:function(){return $r},elastic:Kr,back:Yr,bounce:function(){return Wr}}),ic=Zu.map({"in":yn,out:Lr,"in-out":Ur,"out-in":function(t){return Ur(Lr(t))}});Zu.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.substring(0,n):t,r=n>=0?t.substring(n+1):"in";return e=rc.get(e)||ec,r=ic.get(r)||yn,Dr(r(e.apply(null,Xu.call(arguments,1))))},Zu.interpolateHcl=Zr,Zu.interpolateHsl=Xr,Zu.interpolateLab=Gr,Zu.interpolateRound=Qr,Zu.transform=function(t){var n=Qu.createElementNS(Zu.ns.prefix.svg,"g");return(Zu.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Jr(e?e.matrix:oc)})(t)},Jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oc={a:1,b:0,c:0,d:1,e:0,f:0};Zu.interpolateTransform=ri,Zu.layout={},Zu.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(ui(t[e]));return n}},Zu.layout.chord=function(){function t(){var t,c,f,h,p,d={},g=[],v=Zu.range(o),y=[];for(e=[],r=[],t=0,h=-1;++h<o;){for(c=0,p=-1;++p<o;)c+=i[h][p];g.push(c),y.push(Zu.range(o)),t+=c}for(u&&v.sort(function(t,n){return u(g[t],g[n])}),a&&y.forEach(function(t,n){t.sort(function(t,e){return a(i[n][t],i[n][e])})}),t=(Sa-l*o)/t,c=0,h=-1;++h<o;){for(f=c,p=-1;++p<o;){var m=v[h],_=y[m][p],b=i[m][_],x=c,w=c+=b*t;d[m+"-"+_]={index:m,subindex:_,startAngle:x,endAngle:w,value:b}}r[m]={index:m,startAngle:f,endAngle:c,value:(c-f)/t},c+=l}for(h=-1;++h<o;)for(p=h-1;++p<o;){var M=d[h+"-"+p],j=d[p+"-"+h];(M.value||j.value)&&e.push(M.value<j.value?{source:j,target:M}:{source:M,target:j})}s&&n()}function n(){e.sort(function(t,n){return s((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var e,r,i,o,u,a,s,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,e=r=null,c):i},c.padding=function(t){return arguments.length?(l=t,e=r=null,c):l},c.sortGroups=function(t){return arguments.length?(u=t,e=r=null,c):u},c.sortSubgroups=function(t){return arguments.length?(a=t,e=null,c):a},c.sortChords=function(t){return arguments.length?(s=t,e&&n(),c):s},c.chords=function(){return e||t(),e},c.groups=function(){return r||t(),r},c},Zu.layout.force=function(){function t(t){return function(n,e,r,i){if(n.point!==t){var o=n.cx-t.x,u=n.cy-t.y,a=1/Math.sqrt(o*o+u*u);if(g>(i-e)*a){var s=n.charge*a*a;return t.px-=o*s,t.py-=u*s,!0}if(n.point&&isFinite(a)){var s=n.pointCharge*a*a;t.px-=o*s,t.py-=u*s}}return!n.charge}}function n(t){t.px=Zu.event.x,t.py=Zu.event.y,a.resume()}var e,r,i,o,u,a={},s=Zu.dispatch("start","tick","end"),c=[1,1],l=.9,f=uc,h=ac,p=-30,d=.1,g=.8,v=[],y=[];return a.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var n,e,a,f,h,g,m,_,b,x=v.length,w=y.length;for(e=0;w>e;++e)a=y[e],f=a.source,h=a.target,_=h.x-f.x,b=h.y-f.y,(g=_*_+b*b)&&(g=r*o[e]*((g=Math.sqrt(g))-i[e])/g,_*=g,b*=g,h.x-=_*(m=f.weight/(h.weight+f.weight)),h.y-=b*m,f.x+=_*(m=1-m),f.y+=b*m);if((m=r*d)&&(_=c[0]/2,b=c[1]/2,e=-1,m))for(;++e<x;)a=v[e],a.x+=(_-a.x)*m,a.y+=(b-a.y)*m;if(p)for(pi(n=Zu.geom.quadtree(v),r,u),e=-1;++e<x;)(a=v[e]).fixed||n.visit(t(a));for(e=-1;++e<x;)a=v[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*l,a.y-=(a.py-(a.py=a.y))*l);s.tick({type:"tick",alpha:r})},a.nodes=function(t){return arguments.length?(v=t,a):v},a.links=function(t){return arguments.length?(y=t,a):y},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.friction=function(t){return arguments.length?(l=+t,a):l},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.gravity=function(t){return arguments.length?(d=+t,a):d},a.theta=function(t){return arguments.length?(g=+t,a):g},a.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),Zu.timer(a.tick)),a):r},a.start=function(){function t(t,r){if(!e){for(e=new Array(s),a=0;s>a;++a)e[a]=[];for(a=0;c>a;++a){var i=y[a];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,u=e[n],a=-1,c=u.length;++a<c;)if(!isNaN(o=u[a][t]))return o;return Math.random()*r}var n,e,r,s=v.length,l=y.length,d=c[0],g=c[1];for(n=0;s>n;++n)(r=v[n]).index=n,r.weight=0;for(n=0;l>n;++n)r=y[n],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(n=0;s>n;++n)r=v[n],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(n=0;l>n;++n)i[n]=+f.call(this,y[n],n);else for(n=0;l>n;++n)i[n]=f;if(o=[],"function"==typeof h)for(n=0;l>n;++n)o[n]=+h.call(this,y[n],n);else for(n=0;l>n;++n)o[n]=h;if(u=[],"function"==typeof p)for(n=0;s>n;++n)u[n]=+p.call(this,v[n],n);else for(n=0;s>n;++n)u[n]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Zu.behavior.drag().origin(yn).on("dragstart.force",ci).on("drag.force",n).on("dragend.force",li)),arguments.length?void this.on("mouseover.force",fi).on("mouseout.force",hi).call(e):e},Zu.rebind(a,s,"on")};var uc=20,ac=1;Zu.layout.hierarchy=function(){function t(n,u,a){var s=i.call(e,n,u);if(n.depth=u,a.push(n),s&&(c=s.length)){for(var c,l,f=-1,h=n.children=new Array(c),p=0,d=u+1;++f<c;)l=h[f]=t(s[f],d,a),l.parent=n,p+=l.value;r&&h.sort(r),o&&(n.value=p)}else delete n.children,o&&(n.value=+o.call(e,n,u)||0);return n}function n(t,r){var i=t.children,u=0;if(i&&(a=i.length))for(var a,s=-1,c=r+1;++s<a;)u+=n(i[s],c);else o&&(u=+o.call(e,t,r)||0);return o&&(t.value=u),u}function e(n){var e=[];return t(n,0,e),e}var r=yi,i=gi,o=vi;return e.sort=function(t){return arguments.length?(r=t,e):r},e.children=function(t){return arguments.length?(i=t,e):i},e.value=function(t){return arguments.length?(o=t,e):o},e.revalue=function(t){return n(t,0),t},e},Zu.layout.partition=function(){function t(n,e,r,i){var o=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,o&&(u=o.length)){var u,a,s,c=-1;for(r=n.value?r/n.value:0;++c<u;)t(a=o[c],e,s=a.value*r,i),e+=s}}function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,n(e[o]));return 1+r}function e(e,o){var u=r.call(this,e,o);return t(u[0],0,i[0],i[1]/n(u[0])),u}var r=Zu.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},di(e,r)},Zu.layout.pie=function(){function t(o){var u=o.map(function(e,r){return+n.call(t,e,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof i?i.apply(this,arguments):i)-a)/Zu.sum(u),c=Zu.range(o.length);null!=e&&c.sort(e===sc?function(t,n){return u[n]-u[t]}:function(t,n){return e(o[t],o[n])});var l=[];return c.forEach(function(t){var n;l[t]={data:o[t],value:n=u[t],startAngle:a,endAngle:a+=n*s}}),l}var n=Number,e=sc,r=0,i=Sa;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(i=n,t):i},t};var sc={};Zu.layout.stack=function(){function t(a,s){var c=a.map(function(e,r){return n.call(t,e,r)}),l=c.map(function(n){return n.map(function(n,e){return[o.call(t,n,e),u.call(t,n,e)]})}),f=e.call(t,l,s);c=Zu.permute(c,f),l=Zu.permute(l,f);var h,p,d,g=r.call(t,l,s),v=c.length,y=c[0].length;for(p=0;y>p;++p)for(i.call(t,c[0][p],d=g[p],l[0][p][1]),h=1;v>h;++h)i.call(t,c[h][p],d+=l[h-1][p][1],l[h][p][1]);return a}var n=yn,e=wi,r=Mi,i=xi,o=_i,u=bi;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:cc.get(n)||wi,t):e},t.offset=function(n){return arguments.length?(r="function"==typeof n?n:lc.get(n)||Mi,t):r},t.x=function(n){return arguments.length?(o=n,t):o},t.y=function(n){return arguments.length?(u=n,t):u},t.out=function(n){return arguments.length?(i=n,t):i},t};var cc=Zu.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(ji),o=t.map(Ei),u=Zu.range(r).sort(function(t,n){return i[t]-i[n]}),a=0,s=0,c=[],l=[];for(n=0;r>n;++n)e=u[n],s>a?(a+=o[e],c.push(e)):(s+=o[e],l.push(e));return l.reverse().concat(c)},reverse:function(t){return Zu.range(t.length).reverse()},"default":wi}),lc=Zu.map({silhouette:function(t){var n,e,r,i=t.length,o=t[0].length,u=[],a=0,s=[];for(e=0;o>e;++e){for(n=0,r=0;i>n;n++)r+=t[n][e][1];r>a&&(a=r),u.push(r)}for(e=0;o>e;++e)s[e]=(a-u[e])/2;return s},wiggle:function(t){var n,e,r,i,o,u,a,s,c,l=t.length,f=t[0],h=f.length,p=[];for(p[0]=s=c=0,e=1;h>e;++e){for(n=0,i=0;l>n;++n)i+=t[n][e][1];for(n=0,o=0,a=f[e][0]-f[e-1][0];l>n;++n){for(r=0,u=(t[n][e][1]-t[n][e-1][1])/(2*a);n>r;++r)u+=(t[r][e][1]-t[r][e-1][1])/a;o+=u*t[n][e][1]}p[e]=s-=i?o/i*a:0,c>s&&(c=s)}for(e=0;h>e;++e)p[e]-=c;return p},expand:function(t){var n,e,r,i=t.length,o=t[0].length,u=1/i,a=[];for(e=0;o>e;++e){for(n=0,r=0;i>n;n++)r+=t[n][e][1];if(r)for(n=0;i>n;n++)t[n][e][1]/=r;else for(n=0;i>n;n++)t[n][e][1]=u}for(e=0;o>e;++e)a[e]=0;return a},zero:Mi});Zu.layout.histogram=function(){function t(t,o){for(var u,a,s=[],c=t.map(e,this),l=r.call(this,c,o),f=i.call(this,l,c,o),o=-1,h=c.length,p=f.length-1,d=n?1:1/h;++o<p;)u=s[o]=[],u.dx=f[o+1]-(u.x=f[o]),u.y=0;if(p>0)for(o=-1;++o<h;)a=c[o],a>=l[0]&&a<=l[1]&&(u=s[Zu.bisect(f,a,1,p)-1],u.y+=d,u.push(t[o]));return s}var n=!0,e=Number,r=Ci,i=Ai;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(r=vn(n),t):r},t.bins=function(n){return arguments.length?(i="number"==typeof n?function(t){return Si(t,n)}:vn(n),t):i},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},Zu.layout.tree=function(){function t(t,o){function u(t,n){var r=t.children,i=t._tree;if(r&&(o=r.length)){for(var o,a,c,l=r[0],f=l,h=-1;++h<o;)c=r[h],u(c,a),f=s(c,a,f),a=c;Ui(t);var p=.5*(l._tree.prelim+c._tree.prelim);n?(i.prelim=n._tree.prelim+e(t,n),i.mod=i.prelim-p):i.prelim=p}else n&&(i.prelim=n._tree.prelim+e(t,n))}function a(t,n){t.x=t._tree.prelim+n;var e=t.children;if(e&&(r=e.length)){var r,i=-1;for(n+=t._tree.mod;++i<r;)a(e[i],n)}}function s(t,n,r){if(n){for(var i,o=t,u=t,a=n,s=t.parent.children[0],c=o._tree.mod,l=u._tree.mod,f=a._tree.mod,h=s._tree.mod;a=Pi(a),o=Fi(o),a&&o;)s=Fi(s),u=Pi(u),u._tree.ancestor=t,i=a._tree.prelim+f-o._tree.prelim-c+e(a,o),i>0&&(Ii(Hi(a,t,r),t,i),c+=i,l+=i),f+=a._tree.mod,c+=o._tree.mod,h+=s._tree.mod,l+=u._tree.mod;a&&!Pi(u)&&(u._tree.thread=a,u._tree.mod+=f-l),o&&!Fi(s)&&(s._tree.thread=o,s._tree.mod+=c-h,r=t)}return r}var c=n.call(this,t,o),l=c[0];Li(l,function(t,n){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:n?n._tree.number+1:0}}),u(l),a(l,-l._tree.prelim);var f=Ri(l,Oi),h=Ri(l,Ni),p=Ri(l,Di),d=f.x-e(f,h)/2,g=h.x+e(h,f)/2,v=p.depth||1;return Li(l,i?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-d)/(g-d)*r[0],t.y=t.depth/v*r[1],delete t._tree}),c}var n=Zu.layout.hierarchy().sort(null).value(null),e=Ti,r=[1,1],i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(i=null==(r=n),t):i?null:r},t.nodeSize=function(n){return arguments.length?(i=null!=(r=n),t):i?r:null},di(t,n)},Zu.layout.pack=function(){function t(t,o){var u=e.call(this,t,o),a=u[0],s=i[0],c=i[1],l=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(a.x=a.y=0,Li(a,function(t){t.r=+l(t.value)}),Li(a,$i),r){var f=r*(n?1:Math.max(2*a.r/s,2*a.r/c))/2;Li(a,function(t){t.r+=f}),Li(a,$i),Li(a,function(t){t.r-=f})}return Wi(a,s/2,c/2,n?1:1/Math.max(2*a.r/s,2*a.r/c)),u}var n,e=Zu.layout.hierarchy().sort(qi),r=0,i=[1,1];return t.size=function(n){return arguments.length?(i=n,t):i},t.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,t):n},t.padding=function(n){return arguments.length?(r=+n,t):r},di(t,e)},Zu.layout.cluster=function(){function t(t,o){var u,a=n.call(this,t,o),s=a[0],c=0;Li(s,function(t){var n=t.children;n&&n.length?(t.x=Gi(n),t.y=Xi(n)):(t.x=u?c+=e(t,u):0,t.y=0,u=t)});var l=Qi(s),f=Ji(s),h=l.x-e(l,f)/2,p=f.x+e(f,l)/2;return Li(s,i?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),a}var n=Zu.layout.hierarchy().sort(null).value(null),e=Ti,r=[1,1],i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(i=null==(r=n),t):i?null:r},t.nodeSize=function(n){return arguments.length?(i=null!=(r=n),t):i?r:null},di(t,n)},Zu.layout.treemap=function(){function t(t,n){for(var e,r,i=-1,o=t.length;++i<o;)r=(e=t[i]).value*(0>n?0:n),e.area=isNaN(r)||0>=r?0:r}function n(e){var o=e.children;if(o&&o.length){var u,a,s,c=f(e),l=[],h=o.slice(),d=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(h,c.dx*c.dy/e.value),l.area=0;(s=h.length)>0;)l.push(u=h[s-1]),l.area+=u.area,"squarify"!==p||(a=r(l,g))<=d?(h.pop(),d=a):(l.area-=l.pop().area,i(l,g,c,!1),g=Math.min(c.dx,c.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,g,c,!0),l.length=l.area=0),o.forEach(n)}}function e(n){var r=n.children;if(r&&r.length){var o,u=f(n),a=r.slice(),s=[];for(t(a,u.dx*u.dy/n.value),s.area=0;o=a.pop();)s.push(o),s.area+=o.area,null!=o.z&&(i(s,o.z?u.dx:u.dy,u,!a.length),s.length=s.area=0);r.forEach(e)}}function r(t,n){for(var e,r=t.area,i=0,o=1/0,u=-1,a=t.length;++u<a;)(e=t[u].area)&&(o>e&&(o=e),e>i&&(i=e));return r*=r,n*=n,r?Math.max(n*i*d/r,r/(n*o*d)):1/0}function i(t,n,e,r){var i,o=-1,u=t.length,a=e.x,c=e.y,l=n?s(t.area/n):0;if(n==e.dx){for((r||l>e.dy)&&(l=e.dy);++o<u;)i=t[o],i.x=a,i.y=c,i.dy=l,a+=i.dx=Math.min(e.x+e.dx-a,l?s(i.area/l):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=l,e.dy-=l}else{for((r||l>e.dx)&&(l=e.dx);++o<u;)i=t[o],i.x=a,i.y=c,i.dx=l,c+=i.dy=Math.min(e.y+e.dy-c,l?s(i.area/l):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=l,e.dx-=l}}function o(r){var i=u||a(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],u&&a.revalue(o),t([o],o.dx*o.dy/o.value),(u?e:n)(o),h&&(u=i),i}var u,a=Zu.layout.hierarchy(),s=Math.round,c=[1,1],l=null,f=to,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function n(n){var e=t.call(o,n,n.depth);return null==e?to(n):no(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return no(n,t)}if(!arguments.length)return l;var r;return f=null==(l=t)?to:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,o},o.round=function(t){return arguments.length?(s=t?Math.round:Number,o):s!=Number},o.sticky=function(t){return arguments.length?(h=t,u=null,o):h},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},di(o,a)},Zu.random={normal:function(t,n){var e=arguments.length;return 2>e&&(n=1),1>e&&(t=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Zu.random.normal.apply(Zu,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=Zu.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;t>e;e++)n+=Math.random();return n}}},Zu.scale={};var fc={floor:yn,ceil:yn};Zu.scale.linear=function(){return so([0,1],[0,1],Nr,!1)};var hc={s:1,g:1,p:1,r:1,e:1};
Zu.scale.log=function(){return yo(Zu.scale.linear().domain([0,1]),10,!0,[1,10])};var pc=Zu.format(".0e"),dc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Zu.scale.pow=function(){return mo(Zu.scale.linear(),1,[0,1])},Zu.scale.sqrt=function(){return Zu.scale.pow().exponent(.5)},Zu.scale.ordinal=function(){return bo([],{t:"range",a:[[]]})},Zu.scale.category10=function(){return Zu.scale.ordinal().range(gc)},Zu.scale.category20=function(){return Zu.scale.ordinal().range(vc)},Zu.scale.category20b=function(){return Zu.scale.ordinal().range(yc)},Zu.scale.category20c=function(){return Zu.scale.ordinal().range(mc)};var gc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(an),vc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(an),yc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(an),mc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(an);Zu.scale.quantile=function(){return xo([],[])},Zu.scale.quantize=function(){return wo(0,1,[0,1])},Zu.scale.threshold=function(){return Mo([.5],[0,1])},Zu.scale.identity=function(){return jo([0,1])},Zu.svg={},Zu.svg.arc=function(){function t(){var t=n.apply(this,arguments),o=e.apply(this,arguments),u=r.apply(this,arguments)+_c,a=i.apply(this,arguments)+_c,s=(u>a&&(s=u,u=a,a=s),a-u),c=Aa>s?"0":"1",l=Math.cos(u),f=Math.sin(u),h=Math.cos(a),p=Math.sin(a);return s>=bc?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*l+","+o*f+"A"+o+","+o+" 0 "+c+",1 "+o*h+","+o*p+"L"+t*h+","+t*p+"A"+t+","+t+" 0 "+c+",0 "+t*l+","+t*f+"Z":"M"+o*l+","+o*f+"A"+o+","+o+" 0 "+c+",1 "+o*h+","+o*p+"L0,0Z"}var n=Eo,e=ko,r=Ao,i=So;return t.innerRadius=function(e){return arguments.length?(n=vn(e),t):n},t.outerRadius=function(n){return arguments.length?(e=vn(n),t):e},t.startAngle=function(n){return arguments.length?(r=vn(n),t):r},t.endAngle=function(n){return arguments.length?(i=vn(n),t):i},t.centroid=function(){var t=(n.apply(this,arguments)+e.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+_c;return[Math.cos(o)*t,Math.sin(o)*t]},t};var _c=-Ca,bc=Sa-Ta;Zu.svg.line=function(){return Co(yn)};var xc=Zu.map({linear:To,"linear-closed":Fo,step:Po,"step-before":Ro,"step-after":No,basis:Ho,"basis-open":qo,"basis-closed":zo,bundle:Vo,cardinal:Lo,"cardinal-open":Oo,"cardinal-closed":Do,monotone:Zo});xc.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var wc=[0,2/3,1/3,0],Mc=[0,1/3,2/3,0],jc=[0,1/6,2/3,1/6];Zu.svg.line.radial=function(){var t=Co(Xo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ro.reverse=No,No.reverse=Ro,Zu.svg.area=function(){return Go(yn)},Zu.svg.area.radial=function(){var t=Go(Xo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Zu.svg.chord=function(){function t(t,a){var s=n(this,o,t,a),c=n(this,u,t,a);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(e(s,c)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,s.r,s.p0))+"Z"}function n(t,n,e,r){var i=n.call(t,e,r),o=a.call(t,i,r),u=s.call(t,i,r)+_c,l=c.call(t,i,r)+_c;return{r:o,a0:u,a1:l,p0:[o*Math.cos(u),o*Math.sin(u)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function e(t,n){return t.a0==n.a0&&t.a1==n.a1}function r(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Aa)+",1 "+n}function i(t,n,e,r){return"Q 0,0 "+r}var o=De,u=Le,a=Qo,s=Ao,c=So;return t.radius=function(n){return arguments.length?(a=vn(n),t):a},t.source=function(n){return arguments.length?(o=vn(n),t):o},t.target=function(n){return arguments.length?(u=vn(n),t):u},t.startAngle=function(n){return arguments.length?(s=vn(n),t):s},t.endAngle=function(n){return arguments.length?(c=vn(n),t):c},t},Zu.svg.diagonal=function(){function t(t,i){var o=n.call(this,t,i),u=e.call(this,t,i),a=(o.y+u.y)/2,s=[o,{x:o.x,y:a},{x:u.x,y:a},u];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var n=De,e=Le,r=Jo;return t.source=function(e){return arguments.length?(n=vn(e),t):n},t.target=function(n){return arguments.length?(e=vn(n),t):e},t.projection=function(n){return arguments.length?(r=n,t):r},t},Zu.svg.diagonal.radial=function(){var t=Zu.svg.diagonal(),n=Jo,e=t.projection;return t.projection=function(t){return arguments.length?e(tu(n=t)):n},t},Zu.svg.symbol=function(){function t(t,r){return(Ec.get(n.call(this,t,r))||ru)(e.call(this,t,r))}var n=eu,e=nu;return t.type=function(e){return arguments.length?(n=vn(e),t):n},t.size=function(n){return arguments.length?(e=vn(n),t):e},t};var Ec=Zu.map({circle:ru,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Cc)),e=n*Cc;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Sc),e=n*Sc/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Sc),e=n*Sc/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});Zu.svg.symbolTypes=Ec.keys();var kc,Ac,Sc=Math.sqrt(3),Cc=Math.tan(30*Pa),Tc=[],Fc=0;Tc.call=_a.call,Tc.empty=_a.empty,Tc.node=_a.node,Tc.size=_a.size,Zu.transition=function(t){return arguments.length?kc?t.transition():t:wa.transition()},Zu.transition.prototype=Tc,Tc.select=function(t){var n,e,r,i=this.id,o=[];t=g(t);for(var u=-1,a=this.length;++u<a;){o.push(n=[]);for(var s=this[u],c=-1,l=s.length;++c<l;)(r=s[c])&&(e=t.call(r,r.__data__,c,u))?("__data__"in r&&(e.__data__=r.__data__),au(e,c,i,r.__transition__[i]),n.push(e)):n.push(null)}return iu(o,i)},Tc.selectAll=function(t){var n,e,r,i,o,u=this.id,a=[];t=v(t);for(var s=-1,c=this.length;++s<c;)for(var l=this[s],f=-1,h=l.length;++f<h;)if(r=l[f]){o=r.__transition__[u],e=t.call(r,r.__data__,f,s),a.push(n=[]);for(var p=-1,d=e.length;++p<d;)(i=e[p])&&au(i,p,u,o),n.push(i)}return iu(a,u)},Tc.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=A(t));for(var o=0,u=this.length;u>o;o++){i.push(n=[]);for(var e=this[o],a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,o)&&n.push(r)}return iu(i,this.id)},Tc.tween=function(t,n){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(t):C(this,null==n?function(n){n.__transition__[e].tween.remove(t)}:function(r){r.__transition__[e].tween.set(t,n)})},Tc.attr=function(t,n){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(a);return e!==t&&(n=u(e,t),function(t){this.setAttribute(a,n(t))})})}function o(t){return null==t?r:(t+="",function(){var n,e=this.getAttributeNS(a.space,a.local);return e!==t&&(n=u(e,t),function(t){this.setAttributeNS(a.space,a.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var u="transform"==t?ri:Nr,a=Zu.ns.qualify(t);return ou(this,"attr."+t,n,a.local?o:i)},Tc.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Zu.ns.qualify(t);return this.tween("attr."+t,i.local?r:e)},Tc.style=function(t,n,e){function r(){this.style.removeProperty(t)}function i(n){return null==n?r:(n+="",function(){var r,i=ta.getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(r=Nr(i,n),function(n){this.style.setProperty(t,r(n),e)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(e in t)this.style(e,t[e],n);return this}e=""}return ou(this,"style."+t,n,i)},Tc.styleTween=function(t,n,e){function r(r,i){var o=n.call(this,r,i,ta.getComputedStyle(this,null).getPropertyValue(t));return o&&function(n){this.style.setProperty(t,o(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,r)},Tc.text=function(t){return ou(this,"text",t,uu)},Tc.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tc.ease=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:("function"!=typeof t&&(t=Zu.ease.apply(Zu,arguments)),C(this,function(e){e.__transition__[n].ease=t}))},Tc.delay=function(t){var n=this.id;return C(this,"function"==typeof t?function(e,r,i){e.__transition__[n].delay=+t.call(e,e.__data__,r,i)}:(t=+t,function(e){e.__transition__[n].delay=t}))},Tc.duration=function(t){var n=this.id;return C(this,"function"==typeof t?function(e,r,i){e.__transition__[n].duration=Math.max(1,t.call(e,e.__data__,r,i))}:(t=Math.max(1,t),function(e){e.__transition__[n].duration=t}))},Tc.each=function(t,n){var e=this.id;if(arguments.length<2){var r=Ac,i=kc;kc=e,C(this,function(n,r,i){Ac=n.__transition__[e],t.call(n,n.__data__,r,i)}),Ac=r,kc=i}else C(this,function(r){var i=r.__transition__[e];(i.event||(i.event=Zu.dispatch("start","end"))).on(t,n)});return this},Tc.transition=function(){for(var t,n,e,r,i=this.id,o=++Fc,u=[],a=0,s=this.length;s>a;a++){u.push(t=[]);for(var n=this[a],c=0,l=n.length;l>c;c++)(e=n[c])&&(r=Object.create(e.__transition__[i]),r.delay+=r.duration,au(e,c,o,r)),t.push(e)}return iu(u,o)},Zu.svg.axis=function(){function t(t){t.each(function(){var t,c=Zu.select(this),l=this.__chart__||e,f=this.__chart__=e.copy(),h=null==s?f.ticks?f.ticks.apply(f,a):f.domain():s,p=null==n?f.tickFormat?f.tickFormat.apply(f,a):yn:n,d=c.selectAll(".tick").data(h,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Ta),v=Zu.transition(d.exit()).style("opacity",Ta).remove(),y=Zu.transition(d).style("opacity",1),m=ro(f),_=c.selectAll(".domain").data([0]),b=(_.enter().append("path").attr("class","domain"),Zu.transition(_));g.append("line"),g.append("text");var x=g.select("line"),w=y.select("line"),M=d.select("text").text(p),j=g.select("text"),E=y.select("text");switch(r){case"bottom":t=su,x.attr("y2",i),j.attr("y",Math.max(i,0)+u),w.attr("x2",0).attr("y2",i),E.attr("x",0).attr("y",Math.max(i,0)+u),M.attr("dy",".71em").style("text-anchor","middle"),b.attr("d","M"+m[0]+","+o+"V0H"+m[1]+"V"+o);break;case"top":t=su,x.attr("y2",-i),j.attr("y",-(Math.max(i,0)+u)),w.attr("x2",0).attr("y2",-i),E.attr("x",0).attr("y",-(Math.max(i,0)+u)),M.attr("dy","0em").style("text-anchor","middle"),b.attr("d","M"+m[0]+","+-o+"V0H"+m[1]+"V"+-o);break;case"left":t=cu,x.attr("x2",-i),j.attr("x",-(Math.max(i,0)+u)),w.attr("x2",-i).attr("y2",0),E.attr("x",-(Math.max(i,0)+u)).attr("y",0),M.attr("dy",".32em").style("text-anchor","end"),b.attr("d","M"+-o+","+m[0]+"H0V"+m[1]+"H"+-o);break;case"right":t=cu,x.attr("x2",i),j.attr("x",Math.max(i,0)+u),w.attr("x2",i).attr("y2",0),E.attr("x",Math.max(i,0)+u).attr("y",0),M.attr("dy",".32em").style("text-anchor","start"),b.attr("d","M"+o+","+m[0]+"H0V"+m[1]+"H"+o)}if(f.rangeBand){var k=f,A=k.rangeBand()/2;l=f=function(t){return k(t)+A}}else l.rangeBand?l=f:v.call(t,f);g.call(t,l),y.call(t,f)})}var n,e=Zu.scale.linear(),r=Pc,i=6,o=6,u=3,a=[10],s=null;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(r=n in Rc?n+"":Pc,t):r},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(n){return arguments.length?(s=n,t):s},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n){var e=arguments.length;return e?(i=+n,o=+arguments[e-1],t):i},t.innerTickSize=function(n){return arguments.length?(i=+n,t):i},t.outerTickSize=function(n){return arguments.length?(o=+n,t):o},t.tickPadding=function(n){return arguments.length?(u=+n,t):u},t.tickSubdivide=function(){return arguments.length&&t},t};var Pc="bottom",Rc={top:1,right:1,bottom:1,left:1};Zu.svg.brush=function(){function t(o){o.each(function(){var o=Zu.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),u=o.selectAll(".background").data([0]);u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=o.selectAll(".resize").data(v,yn);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Nc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var l,f=Zu.transition(o),h=Zu.transition(u);s&&(l=ro(s),h.attr("x",l[0]).attr("width",l[1]-l[0]),e(f)),c&&(l=ro(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function e(t){t.select(".extent").attr("x",l[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==Zu.event.keyCode&&(S||(_=null,T[0]-=l[1],T[1]-=h[1],S=2),f())}function p(){32==Zu.event.keyCode&&2==S&&(T[0]+=l[1],T[1]+=h[1],S=0,f())}function v(){var t=Zu.mouse(x),i=!1;b&&(t[0]+=b[0],t[1]+=b[1]),S||(Zu.event.altKey?(_||(_=[(l[0]+l[1])/2,(h[0]+h[1])/2]),T[0]=l[+(t[0]<_[0])],T[1]=h[+(t[1]<_[1])]):_=null),k&&y(t,s,0)&&(e(j),i=!0),A&&y(t,c,1)&&(r(j),i=!0),i&&(n(j),M({type:"brush",mode:S?"move":"resize"}))}function y(t,n,e){var r,i,a=ro(n),s=a[0],c=a[1],f=T[e],p=e?h:l,v=p[1]-p[0];return S&&(s-=f,c-=v+f),r=(e?g:d)?Math.max(s,Math.min(c,t[e])):t[e],S?i=(r+=f)+v:(_&&(f=Math.max(s,Math.min(c,2*_[e]-r))),r>f?(i=r,r=f):i=f),p[0]!=r||p[1]!=i?(e?u=null:o=null,p[0]=r,p[1]=i,!0):void 0}function m(){v(),j.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Zu.select("body").style("cursor",null),F.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),M({type:"brushend"})}var _,b,x=this,w=Zu.select(Zu.event.target),M=a.of(x,arguments),j=Zu.select(x),E=w.datum(),k=!/^(n|s)$/.test(E)&&s,A=!/^(e|w)$/.test(E)&&c,S=w.classed("extent"),C=D(),T=Zu.mouse(x),F=Zu.select(ta).on("keydown.brush",i).on("keyup.brush",p);if(Zu.event.changedTouches?F.on("touchmove.brush",v).on("touchend.brush",m):F.on("mousemove.brush",v).on("mouseup.brush",m),j.interrupt().selectAll("*").interrupt(),S)T[0]=l[0]-T[0],T[1]=h[0]-T[1];else if(E){var P=+/w$/.test(E),R=+/^n/.test(E);b=[l[1-P]-T[0],h[1-R]-T[1]],T[0]=l[P],T[1]=h[R]}else Zu.event.altKey&&(_=T.slice());j.style("pointer-events","none").selectAll(".resize").style("display",null),Zu.select("body").style("cursor",w.style("cursor")),M({type:"brushstart"}),v()}var o,u,a=p(t,"brushstart","brush","brushend"),s=null,c=null,l=[0,0],h=[0,0],d=!0,g=!0,v=Oc[0];return t.event=function(t){t.each(function(){var t=a.of(this,arguments),n={x:l,y:h,i:o,j:u},e=this.__chart__||n;this.__chart__=n,kc?Zu.select(this).transition().each("start.brush",function(){o=e.i,u=e.j,l=e.x,h=e.y,t({type:"brushstart"})}).tween("brush:brush",function(){var e=Or(l,n.x),r=Or(h,n.y);return o=u=null,function(i){l=n.x=e(i),h=n.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=n.i,u=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(s=n,v=Oc[!s<<1|!c],t):s},t.y=function(n){return arguments.length?(c=n,v=Oc[!s<<1|!c],t):c},t.clamp=function(n){return arguments.length?(s&&c?(d=!!n[0],g=!!n[1]):s?d=!!n:c&&(g=!!n),t):s&&c?[d,g]:s?d:c?g:null},t.extent=function(n){var e,r,i,a,f;return arguments.length?(s&&(e=n[0],r=n[1],c&&(e=e[0],r=r[0]),o=[e,r],s.invert&&(e=s(e),r=s(r)),e>r&&(f=e,e=r,r=f),(e!=l[0]||r!=l[1])&&(l=[e,r])),c&&(i=n[0],a=n[1],s&&(i=i[1],a=a[1]),u=[i,a],c.invert&&(i=c(i),a=c(a)),i>a&&(f=i,i=a,a=f),(i!=h[0]||a!=h[1])&&(h=[i,a])),t):(s&&(o?(e=o[0],r=o[1]):(e=l[0],r=l[1],s.invert&&(e=s.invert(e),r=s.invert(r)),e>r&&(f=e,e=r,r=f))),c&&(u?(i=u[0],a=u[1]):(i=h[0],a=h[1],c.invert&&(i=c.invert(i),a=c.invert(a)),i>a&&(f=i,i=a,a=f))),s&&c?[[e,i],[r,a]]:s?[e,r]:c&&[i,a])},t.clear=function(){return t.empty()||(l=[0,0],h=[0,0],o=u=null),t},t.empty=function(){return!!s&&l[0]==l[1]||!!c&&h[0]==h[1]},Zu.rebind(t,a,"on")};var Nc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Oc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Dc=Zu.time={},Lc=Date,Uc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];lu.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ic.setUTCDate.apply(this._,arguments)},setDay:function(){Ic.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ic.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ic.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ic.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ic.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ic.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ic.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ic.setTime.apply(this._,arguments)}};var Ic=Date.prototype,Hc="%a %b %e %X %Y",qc="%m/%d/%Y",zc="%H:%M:%S",Vc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$c=["January","February","March","April","May","June","July","August","September","October","November","December"],Kc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Dc.year=fu(function(t){return t=Dc.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),Dc.years=Dc.year.range,Dc.years.utc=Dc.year.utc.range,Dc.day=fu(function(t){var n=new Lc(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),Dc.days=Dc.day.range,Dc.days.utc=Dc.day.utc.range,Dc.dayOfYear=function(t){var n=Dc.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},Uc.forEach(function(t,n){t=t.toLowerCase(),n=7-n;var e=Dc[t]=fu(function(t){return(t=Dc.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var e=Dc.year(t).getDay();return Math.floor((Dc.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Dc[t+"s"]=e.range,Dc[t+"s"].utc=e.utc.range,Dc[t+"OfYear"]=function(t){var e=Dc.year(t).getDay();return Math.floor((Dc.dayOfYear(t)+(e+n)%7)/7)}}),Dc.week=Dc.sunday,Dc.weeks=Dc.sunday.range,Dc.weeks.utc=Dc.sunday.utc.range,Dc.weekOfYear=Dc.sundayOfYear,Dc.format=pu;var Yc=gu(Vc),Wc=vu(Vc),Zc=gu(Bc),Xc=vu(Bc),Gc=gu($c),Qc=vu($c),Jc=gu(Kc),tl=vu(Kc),nl=/^%/,el={"-":"",_:" ",0:"0"},rl={a:function(t){return Bc[t.getDay()]},A:function(t){return Vc[t.getDay()]},b:function(t){return Kc[t.getMonth()]},B:function(t){return $c[t.getMonth()]},c:pu(Hc),d:function(t,n){return yu(t.getDate(),n,2)},e:function(t,n){return yu(t.getDate(),n,2)},H:function(t,n){return yu(t.getHours(),n,2)},I:function(t,n){return yu(t.getHours()%12||12,n,2)},j:function(t,n){return yu(1+Dc.dayOfYear(t),n,3)},L:function(t,n){return yu(t.getMilliseconds(),n,3)},m:function(t,n){return yu(t.getMonth()+1,n,2)},M:function(t,n){return yu(t.getMinutes(),n,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,n){return yu(t.getSeconds(),n,2)},U:function(t,n){return yu(Dc.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return yu(Dc.mondayOfYear(t),n,2)},x:pu(qc),X:pu(zc),y:function(t,n){return yu(t.getFullYear()%100,n,2)},Y:function(t,n){return yu(t.getFullYear()%1e4,n,4)},Z:Hu,"%":function(){return"%"}},il={a:mu,A:_u,b:Mu,B:ju,c:Eu,d:Ru,e:Ru,H:Ou,I:Ou,j:Nu,L:Uu,m:Pu,M:Du,p:Iu,S:Lu,U:xu,w:bu,W:wu,x:ku,X:Au,y:Cu,Y:Su,Z:Tu,"%":qu},ol=/^\s*\d+/,ul=Zu.map({am:0,pm:1});pu.utc=zu;var al=zu("%Y-%m-%dT%H:%M:%S.%LZ");pu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vu:al,Vu.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Vu.toString=al.toString,Dc.second=fu(function(t){return new Lc(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),Dc.seconds=Dc.second.range,Dc.seconds.utc=Dc.second.utc.range,Dc.minute=fu(function(t){return new Lc(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),Dc.minutes=Dc.minute.range,Dc.minutes.utc=Dc.minute.utc.range,Dc.hour=fu(function(t){var n=t.getTimezoneOffset()/60;return new Lc(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),Dc.hours=Dc.hour.range,Dc.hours.utc=Dc.hour.utc.range,Dc.month=fu(function(t){return t=Dc.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),Dc.months=Dc.month.range,Dc.months.utc=Dc.month.utc.range;var sl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],cl=[[Dc.second,1],[Dc.second,5],[Dc.second,15],[Dc.second,30],[Dc.minute,1],[Dc.minute,5],[Dc.minute,15],[Dc.minute,30],[Dc.hour,1],[Dc.hour,3],[Dc.hour,6],[Dc.hour,12],[Dc.day,1],[Dc.day,2],[Dc.week,1],[Dc.month,1],[Dc.month,3],[Dc.year,1]],ll=[[pu("%Y"),Kn],[pu("%B"),function(t){return t.getMonth()}],[pu("%b %d"),function(t){return 1!=t.getDate()}],[pu("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[pu("%I %p"),function(t){return t.getHours()}],[pu("%I:%M"),function(t){return t.getMinutes()}],[pu(":%S"),function(t){return t.getSeconds()}],[pu(".%L"),function(t){return t.getMilliseconds()}]],fl=Ku(ll);cl.year=Dc.year,Dc.scale=function(){return Bu(Zu.scale.linear(),cl,fl)};var hl={range:function(t,n,e){return Zu.range(+t,+n,e).map($u)},floor:yn,ceil:yn},pl=cl.map(function(t){return[t[0].utc,t[1]]}),dl=[[zu("%Y"),Kn],[zu("%B"),function(t){return t.getUTCMonth()}],[zu("%b %d"),function(t){return 1!=t.getUTCDate()}],[zu("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[zu("%I %p"),function(t){return t.getUTCHours()}],[zu("%I:%M"),function(t){return t.getUTCMinutes()}],[zu(":%S"),function(t){return t.getUTCSeconds()}],[zu(".%L"),function(t){return t.getUTCMilliseconds()}]],gl=Ku(dl);return pl.year=Dc.year.utc,Dc.scale.utc=function(){return Bu(Zu.scale.linear(),pl,gl)},Zu.text=mn(function(t){return t.responseText}),Zu.json=function(t,n){return _n(t,"application/json",Yu,n)},Zu.html=function(t,n){return _n(t,"text/html",Wu,n)},Zu.xml=mn(function(t){return t.responseXML}),Zu}()},{}],39:[function(t,n){var e=t("synthetic-dom-events"),r=function(t,n,e,r){return t.addEventListener(n,e,r||!1)},i=function(t,n,e,r){return t.removeEventListener(n,e,r||!1)},o=function(t,n,e,o){function u(r){i(t,n,u,o),e(r)}r(t,n,u,o)},u=function(t,n,r){var i=e(n,r);t.dispatchEvent(i)};document.addEventListener||(r=function(t,n,e){return t.attachEvent("on"+n,e)}),document.removeEventListener||(i=function(t,n,e){return t.detachEvent("on"+n,e)}),document.dispatchEvent||(u=function(t,n,r){var i=e(n,r);return t.fireEvent("on"+i.type,i)}),n.exports={on:r,off:i,once:o,emit:u}},{"synthetic-dom-events":40}],40:[function(t,n){function e(t,n){return(t.ctrlKey!=(n.ctrlKey||!1)||t.altKey!=(n.altKey||!1)||t.shiftKey!=(n.shiftKey||!1)||t.metaKey!=(n.metaKey||!1)||t.keyCode!=(n.keyCode||0)||t.charCode!=(n.charCode||0))&&(t=document.createEvent("Event"),t.initEvent(n.type,n.bubbles,n.cancelable),t.ctrlKey=n.ctrlKey||!1,t.altKey=n.altKey||!1,t.shiftKey=n.shiftKey||!1,t.metaKey=n.metaKey||!1,t.keyCode=n.keyCode||0,t.charCode=n.charCode||0),t}var r=document||{},i=(r.documentElement||{},!0);try{r.createEvent("KeyEvents")}catch(o){i=!1}var u=function(t,n){n=n||{};var o=l(t),u=o;"KeyboardEvent"===o&&i&&(o="KeyEvents",u="KeyEvent");var a=r.createEvent(o),c="init"+u,f="function"==typeof a[c]?c:"initEvent",h=s[f],p=[],d={};n.type=t;for(var g=0;g<h.length;++g){var v=h[g],y=n[v];void 0===y&&(y=a[v]),d[v]=!0,p.push(y)}a[f].apply(a,p),"KeyboardEvent"===o&&(a=e(a,n));for(var v in n)d[v]||(a[v]=n[v]);return a},a=function(t,n){n=n||{};var e=r.createEventObject();e.type=t;for(var i in n)void 0!==n[i]&&(e[i]=n[i]);return e};n.exports=r.createEvent?u:a;var s=t("./init.json"),c=t("./types.json"),l=function(){var t={};for(var n in c)for(var e=c[n],r=0;r<e.length;r++)t[e[r]]=n;return function(n){return t[n]||"Event"}}()},{"./init.json":41,"./types.json":42}],41:[function(t,n){n.exports={initEvent:["type","bubbles","cancelable"],initUIEvent:["type","bubbles","cancelable","view","detail"],initMouseEvent:["type","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initMutationEvent:["type","bubbles","cancelable","relatedNode","prevValue","newValue","attrName","attrChange"],initKeyboardEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initKeyEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"]}},{}],42:[function(t,n){n.exports={MouseEvent:["click","mousedown","mouseup","mouseover","mousemove","mouseout"],KeyboardEvent:["keydown","keyup","keypress"],MutationEvent:["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],HTMLEvents:["load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"],UIEvent:["DOMFocusIn","DOMFocusOut","DOMActivate"]}},{}],43:[function(t,n){!function(t,e){"undefined"!=typeof n?n.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):this[t]=e()}("domready",function(){var t,n=[],e=document,r=e.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(e.readyState);return o||e.addEventListener(i,t=function(){for(e.removeEventListener(i,t),o=1;t=n.shift();)t()}),function(t){o?t():n.push(t)}})},{}],44:[function(t,n){n.exports=t("./lib/heap")},{"./lib/heap":45}],45:[function(t,n){(function(){var t,e,r,i,o,u,a,s,c,l,f,h,p,d,g;r=Math.floor,l=Math.min,e=function(t,n){return n>t?-1:t>n?1:0},c=function(t,n,i,o,u){var a;if(null==i&&(i=0),null==u&&(u=e),0>i)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);o>i;)a=r((i+o)/2),u(n,t[a])<0?o=a:i=a+1;return[].splice.apply(t,[i,i-i].concat(n)),n},u=function(t,n,r){return null==r&&(r=e),t.push(n),d(t,0,t.length-1,r)},o=function(t,n){var r,i;return null==n&&(n=e),r=t.pop(),t.length?(i=t[0],t[0]=r,g(t,0,n)):i=r,i},s=function(t,n,r){var i;return null==r&&(r=e),i=t[0],t[0]=n,g(t,0,r),i},a=function(t,n,r){var i;return null==r&&(r=e),t.length&&r(t[0],n)<0&&(i=[t[0],n],n=i[0],t[0]=i[1],g(t,0,r)),n},i=function(t,n){var i,o,u,a,s,c;for(null==n&&(n=e),a=function(){c=[];for(var n=0,e=r(t.length/2);e>=0?e>n:n>e;e>=0?n++:n--)c.push(n);return c}.apply(this).reverse(),s=[],o=0,u=a.length;u>o;o++)i=a[o],s.push(g(t,i,n));return s},p=function(t,n,r){var i;return null==r&&(r=e),i=t.indexOf(n),-1!==i?(d(t,0,i,r),g(t,i,r)):void 0},f=function(t,n,r){var o,u,s,c,l;if(null==r&&(r=e),u=t.slice(0,n),!u.length)return u;for(i(u,r),l=t.slice(n),s=0,c=l.length;c>s;s++)o=l[s],a(u,o,r);return u.sort(r).reverse()},h=function(t,n,r){var u,a,s,f,h,p,d,g,v,y;if(null==r&&(r=e),10*n<=t.length){if(f=t.slice(0,n).sort(r),!f.length)return f;for(s=f[f.length-1],g=t.slice(n),h=0,d=g.length;d>h;h++)u=g[h],r(u,s)<0&&(c(f,u,0,null,r),f.pop(),s=f[f.length-1]);return f}for(i(t,r),y=[],a=p=0,v=l(n,t.length);v>=0?v>p:p>v;a=v>=0?++p:--p)y.push(o(t,r));return y},d=function(t,n,r,i){var o,u,a;for(null==i&&(i=e),o=t[r];r>n&&(a=r-1>>1,u=t[a],i(o,u)<0);)t[r]=u,r=a;return t[r]=o},g=function(t,n,r){var i,o,u,a,s;for(null==r&&(r=e),o=t.length,s=n,u=t[n],i=2*n+1;o>i;)a=i+1,o>a&&!(r(t[i],t[a])<0)&&(i=a),t[n]=t[i],n=i,i=2*n+1;return t[n]=u,d(t,s,n,r)},t=function(){function t(t){this.cmp=null!=t?t:e,this.nodes=[]}return t.push=u,t.pop=o,t.replace=s,t.pushpop=a,t.heapify=i,t.updateItem=p,t.nlargest=f,t.nsmallest=h,t.prototype.push=function(t){return u(this.nodes,t,this.cmp)},t.prototype.pop=function(){return o(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return p(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var n;return n=new t,n.nodes=this.nodes.slice(0),n},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),("undefined"!=typeof n&&null!==n?n.exports:void 0)?n.exports=t:window.Heap=t}).call(this)},{}],46:[function(t,n,e){!function(t,n){if("object"==typeof e&&e)n(e);else{var r={};n(r),"function"==typeof define&&define.amd?define(r):t.Mustache=r}}(this,function(t){function n(t,n){return p.call(t,n)}function e(t){return!n(d,t)}function r(t){return"function"==typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t){return String(t).replace(/[&<>"'\/]/g,function(t){return y[t]})}function u(t){if(!v(t)||2!==t.length)throw new Error("Invalid tags: "+t);return[new RegExp(i(t[0])+"\\s*"),new RegExp("\\s*"+i(t[1]))]}function a(n,r){function o(){if(k&&!A)for(;E.length;)delete j[E.pop()];else E=[];k=!1,A=!1}r=r||t.tags,n=n||"","string"==typeof r&&(r=r.split(_));for(var a,f,h,p,d,g,v=u(r),y=new l(n),M=[],j=[],E=[],k=!1,A=!1;!y.eos();){if(a=y.pos,h=y.scanUntil(v[0]))for(var S=0,C=h.length;C>S;++S)p=h.charAt(S),e(p)?E.push(j.length):A=!0,j.push(["text",p,a,a+1]),a+=1,"\n"===p&&o();if(!y.scan(v[0]))break;if(k=!0,f=y.scan(w)||"name",y.scan(m),"="===f?(h=y.scanUntil(b),y.scan(b),y.scanUntil(v[1])):"{"===f?(h=y.scanUntil(new RegExp("\\s*"+i("}"+r[1]))),y.scan(x),y.scanUntil(v[1]),f="&"):h=y.scanUntil(v[1]),!y.scan(v[1]))throw new Error("Unclosed tag at "+y.pos);if(d=[f,h,a,y.pos],j.push(d),"#"===f||"^"===f)M.push(d);else if("/"===f){if(g=M.pop(),!g)throw new Error('Unopened section "'+h+'" at '+a);if(g[1]!==h)throw new Error('Unclosed section "'+g[1]+'" at '+a)}else"name"===f||"{"===f||"&"===f?A=!0:"="===f&&(v=u(r=h.split(_)))}if(g=M.pop())throw new Error('Unclosed section "'+g[1]+'" at '+y.pos);return c(s(j))}function s(t){for(var n,e,r=[],i=0,o=t.length;o>i;++i)n=t[i],n&&("text"===n[0]&&e&&"text"===e[0]?(e[1]+=n[1],e[3]=n[3]):(r.push(n),e=n));
return r}function c(t){for(var n,e,r=[],i=r,o=[],u=0,a=t.length;a>u;++u)switch(n=t[u],n[0]){case"#":case"^":i.push(n),o.push(n),i=n[4]=[];break;case"/":e=o.pop(),e[5]=n[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(n)}return r}function l(t){this.string=t,this.tail=t,this.pos=0}function f(t,n){this.view=null==t?{}:t,this.cache={".":this.view},this.parent=n}function h(){this.cache={}}var p=RegExp.prototype.test,d=/\S/,g=Object.prototype.toString,v=Array.isArray||function(t){return"[object Array]"===g.call(t)},y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},m=/\s*/,_=/\s+/,b=/\s*=/,x=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(t){var n=this.tail.match(t);if(n&&0===n.index){var e=n[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e}return""},l.prototype.scanUntil=function(t){var n,e=this.tail.search(t);switch(e){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=n.length,n},f.prototype.push=function(t){return new f(t,this)},f.prototype.lookup=function(t){var n;if(t in this.cache)n=this.cache[t];else{for(var e=this;e;){if(t.indexOf(".")>0){n=e.view;for(var i=t.split("."),o=0;null!=n&&o<i.length;)n=n[i[o++]]}else n=e.view[t];if(null!=n)break;e=e.parent}this.cache[t]=n}return r(n)&&(n=n.call(this.view)),n},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(t,n){var e=this.cache,r=e[t];return null==r&&(r=e[t]=a(t,n)),r},h.prototype.render=function(t,n,e){var r=this.parse(t),i=n instanceof f?n:new f(n);return this.renderTokens(r,i,e,t)},h.prototype.renderTokens=function(n,e,i,o){function u(t){return l.render(t,e,i)}for(var a,s,c="",l=this,f=0,h=n.length;h>f;++f)switch(a=n[f],a[0]){case"#":if(s=e.lookup(a[1]),!s)continue;if(v(s))for(var p=0,d=s.length;d>p;++p)c+=this.renderTokens(a[4],e.push(s[p]),i,o);else if("object"==typeof s||"string"==typeof s)c+=this.renderTokens(a[4],e.push(s),i,o);else if(r(s)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");s=s.call(e.view,o.slice(a[3],a[5]),u),null!=s&&(c+=s)}else c+=this.renderTokens(a[4],e,i,o);break;case"^":s=e.lookup(a[1]),(!s||v(s)&&0===s.length)&&(c+=this.renderTokens(a[4],e,i,o));break;case">":if(!i)continue;s=r(i)?i(a[1]):i[a[1]],null!=s&&(c+=this.renderTokens(this.parse(s),e,i,s));break;case"&":s=e.lookup(a[1]),null!=s&&(c+=s);break;case"name":s=e.lookup(a[1]),null!=s&&(c+=t.escape(s));break;case"text":c+=a[1]}return c},t.name="mustache.js",t.version="0.8.1",t.tags=["{{","}}"];var M=new h;t.clearCache=function(){return M.clearCache()},t.parse=function(t,n){return M.parse(t,n)},t.render=function(t,n,e){return M.render(t,n,e)},t.to_html=function(n,e,i,o){var u=t.render(n,e,i);return r(o)?void o(u):u},t.escape=o,t.Scanner=l,t.Context=f,t.Writer=h})},{}],47:[function(t,n){"use strict";var e=t("./parser"),r=0,i=document.__counter=(parseInt(document.__counter||-1,36)+1).toString(36),o="uid:"+i,u=function(t,n){if(t===window)return"window";if(t===document)return"document";if(t===document.documentElement)return"html";if(n){var e=t.getAttribute(o);return e||(e=(r++).toString(36),t.setAttribute(o,e)),e}return t[o]||(t[o]=(r++).toString(36))},a=function(t){return u(t,!0)},s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=0,l={GET_ELEMENT_BY_ID:function(t,n){return n="slick_"+c++,t.innerHTML='<a id="'+n+'"></a>',!!this.getElementById(n)},QUERY_SELECTOR:function(t){return t.innerHTML="_<style>:nth-child(2){}</style>",t.innerHTML='<a class="MiX"></a>',1===t.querySelectorAll(".MiX").length},EXPANDOS:function(t,n){return n="slick_"+c++,t._custom_property_=n,t._custom_property_===n},MATCHES_SELECTOR:function(t){t.className="MiX";var n=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector;if(n)try{n.call(t,":slick")}catch(e){return n.call(t,".MiX")?n:!1}return!1},GET_ELEMENTS_BY_CLASS_NAME:function(t){return t.innerHTML='<a class="f"></a><a class="b"></a>',1!==t.getElementsByClassName("b").length?!1:(t.firstChild.className="b",2!==t.getElementsByClassName("b").length?!1:(t.innerHTML='<a class="a"></a><a class="f b a"></a>',2!==t.getElementsByClassName("a").length?!1:!0))},GET_ATTRIBUTE:function(t){var n="fus ro dah";return t.innerHTML='<a class="'+n+'"></a>',t.firstChild.getAttribute("class")===n}},f=function(t){this.document=t;var n=this.root=t.documentElement;this.tested={},this.uniqueID=this.has("EXPANDOS")?u:a,this.getAttribute=this.has("GET_ATTRIBUTE")?function(t,n){return t.getAttribute(n)}:function(t,n){return t=t.getAttributeNode(n),t&&t.specified?t.value:null},this.hasAttribute=n.hasAttribute?function(t,n){return t.hasAttribute(n)}:function(t,n){return t=t.getAttributeNode(n),!(!t||!t.specified)},this.contains=t.contains&&n.contains?function(t,n){return t.contains(n)}:n.compareDocumentPosition?function(t,n){return t===n||!!(16&t.compareDocumentPosition(n))}:function(t,n){do if(n===t)return!0;while(n=n.parentNode);return!1},this.sorter=n.compareDocumentPosition?function(t,n){return t.compareDocumentPosition&&n.compareDocumentPosition?4&t.compareDocumentPosition(n)?-1:t===n?0:1:0}:"sourceIndex"in n?function(t,n){return t.sourceIndex&&n.sourceIndex?t.sourceIndex-n.sourceIndex:0}:t.createRange?function(t,n){if(!t.ownerDocument||!n.ownerDocument)return 0;var e=t.ownerDocument.createRange(),r=n.ownerDocument.createRange();return e.setStart(t,0),e.setEnd(t,0),r.setStart(n,0),r.setEnd(n,0),e.compareBoundaryPoints(Range.START_TO_END,r)}:null,this.failed={};var e=this.has("MATCHES_SELECTOR");e&&(this.matchesSelector=function(t,n){if(this.failed[n])return null;try{return e.call(t,n)}catch(r){return v.debug&&console.warn("matchesSelector failed on "+n),this.failed[n]=!0,null}}),this.has("QUERY_SELECTOR")&&(this.querySelectorAll=function(t,n){if(this.failed[n])return!0;var e,r,i,o,u;if(t!==this.document&&(o=n[0].combinator,r=t.getAttribute("id"),i=n,r||(u=t,r="__slick__",u.setAttribute("id",r)),n="#"+r+" "+i,(o.indexOf("~")>-1||o.indexOf("+")>-1)&&(t=t.parentNode,t||(e=!0))),!e)try{e=t.querySelectorAll(n.toString())}catch(a){v.debug&&console.warn("querySelectorAll failed on "+(i||n)),e=this.failed[i||n]=!0}return u&&u.removeAttribute("id"),e})};f.prototype.has=function(t){var n=this.tested,e=n[t];if(null!=e)return e;var r=this.root,i=this.document,o=i.createElement("div");o.setAttribute("style","display: none;"),r.appendChild(o);var u=l[t],a=!1;if(u)try{a=u.call(i,o)}catch(s){}return v.debug&&!a&&console.warn("document has no "+t),r.removeChild(o),n[t]=a};var h={" ":function(t,n,e){var r,i,o=!n.id,u=!n.tag,a=!n.classes;if(n.id&&t.getElementById&&this.has("GET_ELEMENT_BY_ID")&&(r=t.getElementById(n.id),r&&r.getAttribute("id")===n.id&&(i=[r],o=!0,"*"===n.tag&&(u=!0))),!i&&(n.classes&&t.getElementsByClassName&&this.has("GET_ELEMENTS_BY_CLASS_NAME")?(i=t.getElementsByClassName(n.classList),a=!0,"*"===n.tag&&(u=!0)):(i=t.getElementsByTagName(n.tag),"*"!==n.tag&&(u=!0)),!i||!i.length))return!1;for(var s=0;r=i[s++];)(u&&o&&a&&!n.attributes&&!n.pseudos||this.match(r,n,u,o,a))&&e(r);return!0},">":function(t,n,e){if(t=t.firstChild)do 1==t.nodeType&&this.match(t,n)&&e(t);while(t=t.nextSibling)},"+":function(t,n,e){for(;t=t.nextSibling;)if(1==t.nodeType){this.match(t,n)&&e(t);break}},"^":function(t,n,e){t=t.firstChild,t&&(1===t.nodeType?this.match(t,n)&&e(t):h["+"].call(this,t,n,e))},"~":function(t,n,e){for(;t=t.nextSibling;)1===t.nodeType&&this.match(t,n)&&e(t)},"++":function(t,n,e){h["+"].call(this,t,n,e),h["!+"].call(this,t,n,e)},"~~":function(t,n,e){h["~"].call(this,t,n,e),h["!~"].call(this,t,n,e)},"!":function(t,n,e){for(;t=t.parentNode;)t!==this.document&&this.match(t,n)&&e(t)},"!>":function(t,n,e){t=t.parentNode,t!==this.document&&this.match(t,n)&&e(t)},"!+":function(t,n,e){for(;t=t.previousSibling;)if(1==t.nodeType){this.match(t,n)&&e(t);break}},"!^":function(t,n,e){t=t.lastChild,t&&(1==t.nodeType?this.match(t,n)&&e(t):h["!+"].call(this,t,n,e))},"!~":function(t,n,e){for(;t=t.previousSibling;)1===t.nodeType&&this.match(t,n)&&e(t)}};f.prototype.search=function(t,n,r){t?!t.nodeType&&t.document&&(t=t.document):t=this.document;var i=e(n);if(!i||!i.length)throw new Error("invalid expression");r||(r=[]);var o,a=s(r)?function(t){r[r.length]=t}:function(t){r[r.length++]=t};if(i.length>1){o={};var c=a;a=function(t){var n=u(t);o[n]||(o[n]=!0,c(t))}}var l,f,p;t:for(var d=0;n=i[d++];)if(v.noQSA||!this.querySelectorAll||(f=this.querySelectorAll(t,n),f===!0))if(1===n.length)p=n[0],h[p.combinator].call(this,t,p,a);else{for(var g,y,m,_=[t],b=function(t){var n=u(t);m[n]||(m[n]=!0,y[y.length]=t)},x=0;p=n[x++];){y=[],m={};for(var w=0;g=_[w++];)h[p.combinator].call(this,g,p,b);if(!y.length)continue t;_=y}if(0===d)r=y;else for(var M=0;M<y.length;M++)a(y[M])}else if(f&&f.length)for(var x=0;l=f[x++];)l.nodeName>"@"&&a(l);return o&&r&&r.length>1&&this.sort(r),r},f.prototype.sort=function(t){return this.sorter?Array.prototype.sort.call(t,this.sorter):t};var p={empty:function(){return!(this&&1===this.nodeType||(this.innerText||this.textContent||"").length)},not:function(t){return!v.match(this,t)},contains:function(t){return(this.innerText||this.textContent||"").indexOf(t)>-1},"first-child":function(){for(var t=this;t=t.previousSibling;)if(1==t.nodeType)return!1;return!0},"last-child":function(){for(var t=this;t=t.nextSibling;)if(1==t.nodeType)return!1;return!0},"only-child":function(){for(var t=this;t=t.previousSibling;)if(1==t.nodeType)return!1;for(var n=this;n=n.nextSibling;)if(1==n.nodeType)return!1;return!0},"first-of-type":function(){for(var t=this,n=t.nodeName;t=t.previousSibling;)if(t.nodeName==n)return!1;return!0},"last-of-type":function(){for(var t=this,n=t.nodeName;t=t.nextSibling;)if(t.nodeName==n)return!1;return!0},"only-of-type":function(){for(var t=this,n=this.nodeName;t=t.previousSibling;)if(t.nodeName==n)return!1;for(var e=this;e=e.nextSibling;)if(e.nodeName==n)return!1;return!0},enabled:function(){return!this.disabled},disabled:function(){return this.disabled},checked:function(){return this.checked||this.selected},selected:function(){return this.selected},focus:function(){var t=this.ownerDocument;return t.activeElement===this&&(this.href||this.type||v.hasAttribute(this,"tabindex"))},root:function(){return this===this.ownerDocument.documentElement}};f.prototype.match=function(t,n,e,r,i){if(!v.noQSA&&this.matchesSelector){var o=this.matchesSelector(t,n);if(null!==o)return o}if(!e&&n.tag){var u=t.nodeName.toLowerCase();if("*"===n.tag){if("@">u)return!1}else if(u!=n.tag)return!1}if(!r&&n.id&&t.getAttribute("id")!==n.id)return!1;var a,s;if(!i&&n.classes){var c=this.getAttribute(t,"class");if(!c)return!1;for(s in n.classes)if(!RegExp("(^|\\s)"+n.classes[s]+"(\\s|$)").test(c))return!1}var l,f;if(n.attributes)for(a=0;s=n.attributes[a++];){var h=s.operator,d=s.escapedValue;if(l=s.name,f=s.value,h){var g=this.getAttribute(t,l);if(null==g)return!1;switch(h){case"^=":if(!RegExp("^"+d).test(g))return!1;break;case"$=":if(!RegExp(d+"$").test(g))return!1;break;case"~=":if(!RegExp("(^|\\s)"+d+"(\\s|$)").test(g))return!1;break;case"|=":if(!RegExp("^"+d+"(-|$)").test(g))return!1;break;case"=":if(g!==f)return!1;break;case"*=":if(-1===g.indexOf(f))return!1;break;default:return!1}}else if(!this.hasAttribute(t,l))return!1}if(n.pseudos)for(a=0;s=n.pseudos[a++];){if(l=s.name,f=s.value,p[l])return p[l].call(t,f);if(null!=f){if(this.getAttribute(t,l)!==f)return!1}else if(!this.hasAttribute(t,l))return!1}return!0},f.prototype.matches=function(t,n){var r=e(n);if(1===r.length&&1===r[0].length)return this.match(t,r[0][0]);if(!v.noQSA&&this.matchesSelector){var i=this.matchesSelector(t,r);if(null!==i)return i}for(var o,u=this.search(this.document,n,{length:0}),a=0;o=u[a++];)if(t===o)return!0;return!1};var d={},g=function(t){var n=t||document;if(n.ownerDocument?n=n.ownerDocument:n.document&&(n=n.document),9!==n.nodeType)throw new TypeError("invalid document");var e=u(n);return d[e]||(d[e]=new f(n))},v=function(t,n){return v.search(t,n)};v.search=function(t,n,e){return g(n).search(n,t,e)},v.find=function(t,n){return g(n).search(n,t)[0]||null},v.getAttribute=function(t,n){return g(t).getAttribute(t,n)},v.hasAttribute=function(t,n){return g(t).hasAttribute(t,n)},v.contains=function(t,n){return g(t).contains(t,n)},v.matches=function(t,n){return g(t).matches(t,n)},v.sort=function(t){return t&&t.length>1&&g(t[0]).sort(t),t},v.parse=e,n.exports=v},{"./parser":49}],48:[function(t,n){(function(e){"use strict";n.exports="document"in e?t("./finder"):{parse:t("./parser")}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./finder":47,"./parser":49}],49:[function(t,n){"use strict";var e=/([-.*+?^${}()|[\]\/\\])/g,r=/\\/g,i=function(t){return(t+"").replace(e,"\\$1")},o=function(t){return(t+"").replace(r,"")},u=RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+i(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),a=function(t){this.combinator=t||" ",this.tag="*"};a.prototype.toString=function(){if(!this.raw){var t,n,e="";if(e+=this.tag||"*",this.id&&(e+="#"+this.id),this.classes&&(e+="."+this.classList.join(".")),this.attributes)for(t=0;n=this.attributes[t++];)e+="["+n.name+(n.operator?n.operator+'"'+n.value+'"':"")+"]";if(this.pseudos)for(t=0;n=this.pseudos[t++];)e+=":"+n.name,n.value&&(e+="("+n.value+")");this.raw=e}return this.raw};var s=function(){this.length=0};s.prototype.toString=function(){if(!this.raw){for(var t,n="",e=0;t=this[e++];)1!==e&&(n+=" ")," "!==t.combinator&&(n+=t.combinator+" "),n+=t;this.raw=n}return this.raw};var c=function(t,n,e,r,u,c,l,f,h,p,d,g,v,y,m,_){var b,x;if((n||!this.length)&&(b=this[this.length++]=new s,n))return"";if(b||(b=this[this.length-1]),(e||r||!b.length)&&(x=b[b.length++]=new a(e)),x||(x=b[b.length-1]),u)x.tag=o(u);else if(c)x.id=o(c);else if(l){var w=o(l),M=x.classes||(x.classes={});if(!M[w]){M[w]=i(l);var j=x.classList||(x.classList=[]);j.push(w),j.sort()}}else v?(_=_||m,(x.pseudos||(x.pseudos=[])).push({type:1==g.length?"class":"element",name:o(v),escapedName:i(v),value:_?o(_):null,escapedValue:_?i(_):null})):f&&(d=d?i(d):null,(x.attributes||(x.attributes=[])).push({operator:h,name:o(f),escapedName:i(f),value:d?o(d):null,escapedValue:d?i(d):null}));return""},l=function(t){this.length=0;for(var n,e=this,r=t;t;){if(n=t.replace(u,function(){return c.apply(e,arguments)}),n===t)throw new Error(r+" is an invalid expression");t=n}};l.prototype.toString=function(){if(!this.raw){for(var t,n=[],e=0;t=this[e++];)n.push(t);this.raw=n.join(", ")}return this.raw};var f={},h=function(t){return null==t?null:(t=(""+t).replace(/^\s+|\s+$/g,""),f[t]||(f[t]=new l(t)))};n.exports=h},{}],50:[function(t,n,e){(function(){var t=this,r=t._,i={},o=Array.prototype,u=Object.prototype,a=Function.prototype,s=o.push,c=o.slice,l=o.concat,f=u.toString,h=u.hasOwnProperty,p=o.forEach,d=o.map,g=o.reduce,v=o.reduceRight,y=o.filter,m=o.every,_=o.some,b=o.indexOf,x=o.lastIndexOf,w=Array.isArray,M=Object.keys,j=a.bind,E=function(t){return t instanceof E?t:this instanceof E?void(this._wrapped=t):new E(t)};"undefined"!=typeof e?("undefined"!=typeof n&&n.exports&&(e=n.exports=E),e._=E):t._=E,E.VERSION="1.6.0";var k=E.each=E.forEach=function(t,n,e){if(null==t)return t;if(p&&t.forEach===p)t.forEach(n,e);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(n.call(e,t[r],r,t)===i)return}else for(var u=E.keys(t),r=0,o=u.length;o>r;r++)if(n.call(e,t[u[r]],u[r],t)===i)return;return t};E.map=E.collect=function(t,n,e){var r=[];return null==t?r:d&&t.map===d?t.map(n,e):(k(t,function(t,i,o){r.push(n.call(e,t,i,o))}),r)};var A="Reduce of empty array with no initial value";E.reduce=E.foldl=E.inject=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(n=E.bind(n,r)),i?t.reduce(n,e):t.reduce(n);if(k(t,function(t,o,u){i?e=n.call(r,e,t,o,u):(e=t,i=!0)}),!i)throw new TypeError(A);return e},E.reduceRight=E.foldr=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return r&&(n=E.bind(n,r)),i?t.reduceRight(n,e):t.reduceRight(n);var o=t.length;if(o!==+o){var u=E.keys(t);o=u.length}if(k(t,function(a,s,c){s=u?u[--o]:--o,i?e=n.call(r,e,t[s],s,c):(e=t[s],i=!0)}),!i)throw new TypeError(A);return e},E.find=E.detect=function(t,n,e){var r;return S(t,function(t,i,o){return n.call(e,t,i,o)?(r=t,!0):void 0}),r},E.filter=E.select=function(t,n,e){var r=[];return null==t?r:y&&t.filter===y?t.filter(n,e):(k(t,function(t,i,o){n.call(e,t,i,o)&&r.push(t)}),r)},E.reject=function(t,n,e){return E.filter(t,function(t,r,i){return!n.call(e,t,r,i)},e)},E.every=E.all=function(t,n,e){n||(n=E.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(n,e):(k(t,function(t,o,u){return(r=r&&n.call(e,t,o,u))?void 0:i}),!!r)};var S=E.some=E.any=function(t,n,e){n||(n=E.identity);var r=!1;return null==t?r:_&&t.some===_?t.some(n,e):(k(t,function(t,o,u){return r||(r=n.call(e,t,o,u))?i:void 0}),!!r)};E.contains=E.include=function(t,n){return null==t?!1:b&&t.indexOf===b?-1!=t.indexOf(n):S(t,function(t){return t===n})},E.invoke=function(t,n){var e=c.call(arguments,2),r=E.isFunction(n);return E.map(t,function(t){return(r?n:t[n]).apply(t,e)})},E.pluck=function(t,n){return E.map(t,E.property(n))},E.where=function(t,n){return E.filter(t,E.matches(n))},E.findWhere=function(t,n){return E.find(t,E.matches(n))},E.max=function(t,n,e){if(!n&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return k(t,function(t,o,u){var a=n?n.call(e,t,o,u):t;a>i&&(r=t,i=a)}),r},E.min=function(t,n,e){if(!n&&E.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return k(t,function(t,o,u){var a=n?n.call(e,t,o,u):t;i>a&&(r=t,i=a)}),r},E.shuffle=function(t){var n,e=0,r=[];return k(t,function(t){n=E.random(e++),r[e-1]=r[n],r[n]=t}),r},E.sample=function(t,n,e){return null==n||e?(t.length!==+t.length&&(t=E.values(t)),t[E.random(t.length-1)]):E.shuffle(t).slice(0,Math.max(0,n))};var C=function(t){return null==t?E.identity:E.isFunction(t)?t:E.property(t)};E.sortBy=function(t,n,e){return n=C(n),E.pluck(E.map(t,function(t,r,i){return{value:t,index:r,criteria:n.call(e,t,r,i)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var T=function(t){return function(n,e,r){var i={};return e=C(e),k(n,function(o,u){var a=e.call(r,o,u,n);t(i,a,o)}),i}};E.groupBy=T(function(t,n,e){E.has(t,n)?t[n].push(e):t[n]=[e]}),E.indexBy=T(function(t,n,e){t[n]=e}),E.countBy=T(function(t,n){E.has(t,n)?t[n]++:t[n]=1}),E.sortedIndex=function(t,n,e,r){e=C(e);for(var i=e.call(r,n),o=0,u=t.length;u>o;){var a=o+u>>>1;e.call(r,t[a])<i?o=a+1:u=a}return o},E.toArray=function(t){return t?E.isArray(t)?c.call(t):t.length===+t.length?E.map(t,E.identity):E.values(t):[]},E.size=function(t){return null==t?0:t.length===+t.length?t.length:E.keys(t).length},E.first=E.head=E.take=function(t,n,e){return null==t?void 0:null==n||e?t[0]:0>n?[]:c.call(t,0,n)},E.initial=function(t,n,e){return c.call(t,0,t.length-(null==n||e?1:n))},E.last=function(t,n,e){return null==t?void 0:null==n||e?t[t.length-1]:c.call(t,Math.max(t.length-n,0))},E.rest=E.tail=E.drop=function(t,n,e){return c.call(t,null==n||e?1:n)},E.compact=function(t){return E.filter(t,E.identity)};var F=function(t,n,e){return n&&E.every(t,E.isArray)?l.apply(e,t):(k(t,function(t){E.isArray(t)||E.isArguments(t)?n?s.apply(e,t):F(t,n,e):e.push(t)}),e)};E.flatten=function(t,n){return F(t,n,[])},E.without=function(t){return E.difference(t,c.call(arguments,1))},E.partition=function(t,n){var e=[],r=[];return k(t,function(t){(n(t)?e:r).push(t)}),[e,r]},E.uniq=E.unique=function(t,n,e,r){E.isFunction(n)&&(r=e,e=n,n=!1);var i=e?E.map(t,e,r):t,o=[],u=[];return k(i,function(e,r){(n?r&&u[u.length-1]===e:E.contains(u,e))||(u.push(e),o.push(t[r]))}),o},E.union=function(){return E.uniq(E.flatten(arguments,!0))},E.intersection=function(t){var n=c.call(arguments,1);return E.filter(E.uniq(t),function(t){return E.every(n,function(n){return E.contains(n,t)})})},E.difference=function(t){var n=l.apply(o,c.call(arguments,1));return E.filter(t,function(t){return!E.contains(n,t)})},E.zip=function(){for(var t=E.max(E.pluck(arguments,"length").concat(0)),n=new Array(t),e=0;t>e;e++)n[e]=E.pluck(arguments,""+e);return n},E.object=function(t,n){if(null==t)return{};for(var e={},r=0,i=t.length;i>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},E.indexOf=function(t,n,e){if(null==t)return-1;var r=0,i=t.length;if(e){if("number"!=typeof e)return r=E.sortedIndex(t,n),t[r]===n?r:-1;r=0>e?Math.max(0,i+e):e}if(b&&t.indexOf===b)return t.indexOf(n,e);for(;i>r;r++)if(t[r]===n)return r;return-1},E.lastIndexOf=function(t,n,e){if(null==t)return-1;var r=null!=e;if(x&&t.lastIndexOf===x)return r?t.lastIndexOf(n,e):t.lastIndexOf(n);for(var i=r?e:t.length;i--;)if(t[i]===n)return i;return-1},E.range=function(t,n,e){arguments.length<=1&&(n=t||0,t=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=e;return o};var P=function(){};E.bind=function(t,n){var e,r;if(j&&t.bind===j)return j.apply(t,c.call(arguments,1));if(!E.isFunction(t))throw new TypeError;return e=c.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(n,e.concat(c.call(arguments)));P.prototype=t.prototype;var i=new P;P.prototype=null;var o=t.apply(i,e.concat(c.call(arguments)));return Object(o)===o?o:i}},E.partial=function(t){var n=c.call(arguments,1);return function(){for(var e=0,r=n.slice(),i=0,o=r.length;o>i;i++)r[i]===E&&(r[i]=arguments[e++]);for(;e<arguments.length;)r.push(arguments[e++]);return t.apply(this,r)}},E.bindAll=function(t){var n=c.call(arguments,1);if(0===n.length)throw new Error("bindAll must be passed function names");return k(n,function(n){t[n]=E.bind(t[n],t)}),t},E.memoize=function(t,n){var e={};return n||(n=E.identity),function(){var r=n.apply(this,arguments);return E.has(e,r)?e[r]:e[r]=t.apply(this,arguments)}},E.delay=function(t,n){var e=c.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},E.defer=function(t){return E.delay.apply(E,[t,1].concat(c.call(arguments,1)))},E.throttle=function(t,n,e){var r,i,o,u=null,a=0;e||(e={});var s=function(){a=e.leading===!1?0:E.now(),u=null,o=t.apply(r,i),r=i=null};return function(){var c=E.now();a||e.leading!==!1||(a=c);var l=n-(c-a);return r=this,i=arguments,0>=l?(clearTimeout(u),u=null,a=c,o=t.apply(r,i),r=i=null):u||e.trailing===!1||(u=setTimeout(s,l)),o}},E.debounce=function(t,n,e){var r,i,o,u,a,s=function(){var c=E.now()-u;n>c?r=setTimeout(s,n-c):(r=null,e||(a=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,u=E.now();var c=e&&!r;return r||(r=setTimeout(s,n)),c&&(a=t.apply(o,i),o=i=null),a}},E.once=function(t){var n,e=!1;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}},E.wrap=function(t,n){return E.partial(n,t)},E.compose=function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},E.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},E.keys=function(t){if(!E.isObject(t))return[];if(M)return M(t);var n=[];for(var e in t)E.has(t,e)&&n.push(e);return n},E.values=function(t){for(var n=E.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=t[n[i]];return r},E.pairs=function(t){for(var n=E.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=[n[i],t[n[i]]];return r},E.invert=function(t){for(var n={},e=E.keys(t),r=0,i=e.length;i>r;r++)n[t[e[r]]]=e[r];return n},E.functions=E.methods=function(t){var n=[];for(var e in t)E.isFunction(t[e])&&n.push(e);return n.sort()},E.extend=function(t){return k(c.call(arguments,1),function(n){if(n)for(var e in n)t[e]=n[e]}),t},E.pick=function(t){var n={},e=l.apply(o,c.call(arguments,1));return k(e,function(e){e in t&&(n[e]=t[e])}),n},E.omit=function(t){var n={},e=l.apply(o,c.call(arguments,1));for(var r in t)E.contains(e,r)||(n[r]=t[r]);return n},E.defaults=function(t){return k(c.call(arguments,1),function(n){if(n)for(var e in n)void 0===t[e]&&(t[e]=n[e])}),t},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,n){return n(t),t};var R=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof E&&(t=t._wrapped),n instanceof E&&(n=n._wrapped);var i=f.call(t);if(i!=f.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=e.length;o--;)if(e[o]==t)return r[o]==n;var u=t.constructor,a=n.constructor;if(u!==a&&!(E.isFunction(u)&&u instanceof u&&E.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in n)return!1;e.push(t),r.push(n);var s=0,c=!0;if("[object Array]"==i){if(s=t.length,c=s==n.length)for(;s--&&(c=R(t[s],n[s],e,r)););}else{for(var l in t)if(E.has(t,l)&&(s++,!(c=E.has(n,l)&&R(t[l],n[l],e,r))))break;if(c){for(l in n)if(E.has(n,l)&&!s--)break;c=!s}}return e.pop(),r.pop(),c};E.isEqual=function(t,n){return R(t,n,[],[])},E.isEmpty=function(t){if(null==t)return!0;if(E.isArray(t)||E.isString(t))return 0===t.length;for(var n in t)if(E.has(t,n))return!1;return!0},E.isElement=function(t){return!(!t||1!==t.nodeType)},E.isArray=w||function(t){return"[object Array]"==f.call(t)},E.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){E["is"+t]=function(n){return f.call(n)=="[object "+t+"]"}}),E.isArguments(arguments)||(E.isArguments=function(t){return!(!t||!E.has(t,"callee"))}),"function"!=typeof/./&&(E.isFunction=function(t){return"function"==typeof t}),E.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},E.isNaN=function(t){return E.isNumber(t)&&t!=+t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==f.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,n){return h.call(t,n)},E.noConflict=function(){return t._=r,this},E.identity=function(t){return t},E.constant=function(t){return function(){return t}},E.property=function(t){return function(n){return n[t]}},E.matches=function(t){return function(n){if(n===t)return!0;for(var e in t)if(t[e]!==n[e])return!1;return!0}},E.times=function(t,n,e){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=n.call(e,i);return r},E.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},E.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=E.invert(N.escape);var O={escape:new RegExp("["+E.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+E.keys(N.unescape).join("|")+")","g")};E.each(["escape","unescape"],function(t){E[t]=function(n){return null==n?"":(""+n).replace(O[t],function(n){return N[t][n]})}}),E.result=function(t,n){if(null==t)return void 0;var e=t[n];return E.isFunction(e)?e.call(t):e},E.mixin=function(t){k(E.functions(t),function(n){var e=E[n]=t[n];E.prototype[n]=function(){var t=[this._wrapped];return s.apply(t,arguments),H.call(this,e.apply(E,t))}})};var D=0;E.uniqueId=function(t){var n=++D+"";return t?t+n:n},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;E.template=function(t,n,e){var r;e=E.defaults({},e,E.templateSettings);var i=new RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(i,function(n,e,r,i,a){return u+=t.slice(o,a).replace(I,function(t){return"\\"+U[t]}),e&&(u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(u+="';\n"+i+"\n__p+='"),o=a+n.length,n}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{r=new Function(e.variable||"obj","_",u)}catch(a){throw a.source=u,a}if(n)return r(n,E);var s=function(t){return r.call(this,t,E)};return s.source="function("+(e.variable||"obj")+"){\n"+u+"}",s},E.chain=function(t){return E(t).chain()};var H=function(t){return this._chain?E(t).chain():t};E.mixin(E),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=o[t];E.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!=t&&"splice"!=t||0!==e.length||delete e[0],H.call(this,e)}}),k(["concat","join","slice"],function(t){var n=o[t];E.prototype[t]=function(){return H.call(this,n.apply(this._wrapped,arguments))}}),E.extend(E.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return E})}).call(this)},{}],51:[function(t){"use strict";var n=t("domready"),e=t("./dgua"),r=t("slick");n(function(){if(r.find("#dgu-analytics")){var t=new e.Application("#dgu-analytics","data/");t.init()}})},{"./dgua":52,domready:43,slick:48}],52:[function(t,n){"use strict";n.exports={Application:t("./dgua/application")}},{"./dgua/application":53}],53:[function(t,n){"use strict";var e=t("./components"),r=t("./data"),i=t("./util/bind"),o=t("underscore"),u=t("./util/color_key"),a=t("./util/with_visit_proportions"),s=function(t,n){this._selector=t,this._dataPath=n,this._messageHandlers={}};s.prototype={_nToDisplay:5,init:function(){r.Repository.loadDataSources(this._dataPath,i(this,function(t){var n=a(this._topN(t.getPublishersByVisits()),t.getTotalPublisherVisits()),r=a(this._topN(t.getDatasetsByVisits()),t.getTotalDatasetVisits()),i=new u(o.map(n,function(t){return t.id()}));n=o.map(n,function(t){return i.withColor(t,t.id())}),r=o.map(r,function(t){return i.withColor(t,t.publisher().id())});var s=new e.VisitableList(this,r),c=new e.VisitableList(this,n),l=new e.VisitablePie(this,n),f=new e.PublishersColumn(this,l,c),h=new e.PublishersDatasets(this,f,s,i,this._nToDisplay);h.render(this._selector)}))},registerMessageHandler:function(t,n){this._messageHandlers[t]||(this._messageHandlers[t]=[]),this._messageHandlers[t].push(n)},sendMessage:function(){var t=Array.prototype.slice.apply(arguments),n=t.shift();this._messageHandlers[n]&&this._messageHandlers[n].forEach(function(n){n.apply(null,t)})},_topN:function(t){return o.first(t,this._nToDisplay)}},n.exports=s},{"./components":54,"./data":59,"./util/bind":64,"./util/color_key":65,"./util/with_visit_proportions":69,underscore:50}],54:[function(t,n){"use strict";n.exports={PublishersDatasets:t("./components/publishers_datasets"),PublishersColumn:t("./components/publishers_column"),VisitableList:t("./components/visitable_list"),VisitablePie:t("./components/visitable_pie")}},{"./components/publishers_column":55,"./components/publishers_datasets":56,"./components/visitable_list":57,"./components/visitable_pie":58}],55:[function(t,n){"use strict";var e=t("../util/render"),r=function(t,n,e){this._app=t,this._pieChart=n,this._list=e};r.prototype={_template:'<div class="pie_container">\n</div>\n<div class="list_container">\n</div>\n',_pieChartSelector:".pie_container",_listSelector:".list_container",render:function(t){e.toSelector(this._template,t),this._pieChart.render(t+" "+this._pieChartSelector),this._list.render(t+" "+this._listSelector)}},n.exports=r
},{"../util/render":68}],56:[function(t,n){"use strict";var e=t("../util/render"),r=t("underscore"),i=t("../util/bind"),o=function(t,n,e,r,o){this._app=t,this._publishersColumn=n,this._datasetsColumn=e,this._publishersColorKey=r,this._topN=o,console.log(this,this._publishersColorKey),this._app.registerMessageHandler("selectPublisher",i(this,this._onSelectPublisher))};o.prototype={_template:'<div class="pure-g">\n  <div class="pure-u-1-2 pure-u-md-1-2">\n    <h2>Publishers</h2>\n    <div class="publishers">\n    </div>\n  </div>\n  <div class="pure-u-1-2 pure-u-md-1-2">\n    <h2>Datasets</h2>\n    <div class="datasets">\n    </div>\n  </div>\n</div>\n',_publishersColumnSelector:".publishers",_datasetsColumnSelector:".datasets",render:function(t){e.toSelector(this._template,t),this._publishersColumn.render(t+"  "+this._publishersColumnSelector),this._datasetsColumn.render(t+"  "+this._datasetsColumnSelector)},_onSelectPublisher:function(t){this._datasetsColumn.update(r.map(r.first(t.datasets(),this._topN),i(this,function(t){return console.log(this,this._publishersColorKey),this._publishersColorKey.withColor(t,t.publisher().id())})))}},n.exports=o},{"../util/bind":64,"../util/render":68,underscore:50}],57:[function(t,n){"use strict";var e=t("../util/bind"),r=t("../util/render"),i=t("ampersand-dom"),o=t("slick"),u=t("underscore"),a=t("dom-events"),s=function(t,n){this._app=t,this._visitables=n,this._app.registerMessageHandler("highlightPublisher",e(this,this._onHighlightPublisher))};s.prototype={_itemTemplate:'<li style="border-left-color: {{color}};" class="publisher-{{publisher_id}} visitable">\n  <div class="title">\n    {{title}}\n  </div>\n  <div class="subtitle">\n    {{subtitle}}\n  </div>\n  <ul class="stats">\n    <li class="visits_proportion">\n      <span class="n">{{visits_proportion}}</span> of all visits\n    </li>\n    <li class="visits">\n      <span class="n">{{visits}}</span> visits\n    </li>\n    <li class="views">\n      <span class="n">{{views}}</span> views\n    </li>\n  </ul>\n</li>\n',render:function(t){var n=o.find(t);this._element=document.createElement("ul"),i.addClass(this._element,"visitable_list"),n.appendChild(this._element),this._renderVisitables()},_renderVisitables:function(){i.text(this._element,""),u.each(this._visitables,e(this,function(t){var n=r.toNode(this._itemTemplate,this._templateParameters(t));this._element.appendChild(n),a.on(n,"mouseover",e(this,function(){this._onHover(t)})),a.on(n,"click",e(this,function(n){n.preventDefault(),this._onClick(t)}))}))},_templateParameters:function(t){return{title:t.title(),subtitle:t.subtitle(),visits_proportion:(100*t.visitsProportion()).toFixed(1)+"%",visits:t.visits(),views:t.views(),color:t.color(),publisher_id:t.publisher().id()}},update:function(t){this._visitables=t,this._renderVisitables()},_onClick:function(t){this._app.sendMessage("selectPublisher",t.publisher())},_onHover:function(t){this._app.sendMessage("highlightPublisher",t.publisher())},_onHighlightPublisher:function(t){var n=o.search(".visitable",this._element);u.each(n,function(n){i.removeClass(n,"highlighted"),i.removeClass(n,"not-highlighted"),t&&(i.hasClass(n,"publisher-"+t.id())?i.addClass(n,"highlighted"):i.addClass(n,"not-highlighted"))})}},n.exports=s},{"../util/bind":64,"../util/render":68,"ampersand-dom":1,"dom-events":39,slick:48,underscore:50}],58:[function(t,n){"use strict";var e=t("slick"),r=t("d3-browserify"),i=t("ampersand-dom"),o=t("../util/bind"),u=function(t,n){this._app=t,this._visitables=n,this._app.registerMessageHandler("highlightPublisher",o(this,this._onHighlightPublisher))};u.prototype={_leftMargin:50,_rightMargin:150,_highlightedRadiusCoeff:1,_notHighlightedRadiusCoeff:.3,render:function(t){this._element=e.find(t);var n=this._element.offsetWidth-this._leftMargin-this._rightMargin;i.setAttribute(this._element,"style","height:"+n+"px;"),this._radius=n/2;var u=r.select(this._element).append("svg").attr("width",n+this._leftMargin+this._rightMargin).attr("height",n).append("g").attr("transform","translate("+(n/2+this._leftMargin)+","+n/2+")");this._layout=r.layout.pie().sort(null).value(function(t){return t.visits()}),this._arc=r.svg.arc().outerRadius(this._radius).innerRadius(0),this._slice=u.datum(this._visitables).selectAll("path").data(this._layout).enter().append("path").style("fill",function(t){return t.data.color()}).style("stroke","#fff").style("stroke-width",1).attr("d",this._arc).on("mouseover",o(this,this._onMouseOver)).on("mouseout",o(this,this._onMouseOut))},_onHighlightPublisher:function(t){this._arc.outerRadius(t?o(this,function(n){var e=this._highlightedRadiusCoeff*this._radius,r=this._notHighlightedRadiusCoeff*this._radius;return t.id()==n.data.id()?e:r}):this._radius),this._slice.attr("d",this._arc)},_onMouseOver:function(t){this._app.sendMessage("highlightPublisher",t.data)},_onMouseOut:function(){this._app.sendMessage("highlightPublisher",null)}},n.exports=u},{"../util/bind":64,"ampersand-dom":1,"d3-browserify":38,slick:48}],59:[function(t,n){"use strict";n.exports={Repository:t("./data/repository")}},{"./data/repository":60}],60:[function(t,n){"use strict";var e=t("d3-browserify"),r=t("../util/bind"),i=t("bluebird"),o=t("../util/promises"),u=t("underscore"),a=t("../models"),s=t("heap"),c=function(t){this._basePath=t,this._datasetsById={},this._datasetsByPublisher={},this._datasetsByVisits=new s(function(t,n){return n.visits()-t.visits()}),this._publishersById={},this._publishersByVisits=new s(function(t,n){return n.visits()-t.visits()}),this._datasetPublisherIdsMapping={}};c.prototype={_datasetsFilename:"datasets_all_all.csv",_publishersFilename:"publishers_all.csv",_mappingFilename:"datasets_publishers_mapping.csv",loadSources:function(t){var n=this._loadCsvPromise(this._datasetsFilename),e=this._loadCsvPromise(this._publishersFilename),i=this._loadCsvPromise(this._mappingFilename);o.fanIn([n,e,i],r(this,function(n){u.each(n[2],r(this,this._loadMapping)),u.each(n[1],r(this,this._loadPublisher)),u.each(n[0],r(this,this._loadDataset)),t(this)}))},getTotalDatasetVisits:function(){return u.reduce(this.getDatasetsByVisits(),function(t,n){return t+n.visits()},0)},getTotalPublisherVisits:function(){return u.reduce(this.getPublishersByVisits(),function(t,n){return t+n.visits()},0)},getDatasetById:function(t){return this._datasetsById[t]},getPublisherById:function(t){return this._publishersById[t]},getDatasetsByVisits:function(){return this._datasetsByVisits.toArray()},getPublishersByVisits:function(){return this._publishersByVisits.toArray()},_getDatasetsForPublisher:function(t){var n=this._datasetsByPublisher[t.id()];return n?n.toArray():void 0},_getPublisherForDataset:function(t){var n=this._datasetPublisherIdsMapping[t.id()];return n?this.getPublisherById(n):void 0},_loadMapping:function(t){this._datasetPublisherIdsMapping[t["Dataset Name"]]=t["Publisher Name"]},_loadDataset:function(t){var n=new a.Dataset(t,r(this,this._getPublisherForDataset)),e=n.id();n.publisher()&&this._datasetsByPublisher[n.publisher().id()].push(n),this._datasetsByVisits.push(n),this._datasetsById[e]=n},_loadPublisher:function(t){var n=new a.Publisher(t,r(this,this._getDatasetsForPublisher)),e=n.id();this._publishersByVisits.push(n),this._datasetsByPublisher[e]=new s(function(t,n){return n.visits()-t.visits()}),this._publishersById[e]=n},_loadCsvPromise:function(t){return new i(r(this,function(n,r){e.csv(this._basePath+t,function(t,e){t?r(t):n(e)})}))}},c.loadDataSources=function(t,n){var e=new c(t);e.loadSources(function(){n(e)})},n.exports=c},{"../models":61,"../util/bind":64,"../util/promises":67,bluebird:4,"d3-browserify":38,heap:44,underscore:50}],61:[function(t,n){"use strict";n.exports={Dataset:t("./models/dataset"),Publisher:t("./models/publisher")}},{"./models/dataset":62,"./models/publisher":63}],62:[function(t,n){"use strict";var e=function(t,n){this._data=t,this._getPublisher=n};e.prototype={id:function(){return this._data["Dataset Name"]},title:function(){return this._data["Dataset Title"]},subtitle:function(){return this.publisher().title()},visits:function(){return parseInt(this._data.Visits)},views:function(){return this._data.Views},publisher:function(){return this._getPublisher(this)}},n.exports=e},{}],63:[function(t,n){"use strict";var e=t("../util/with_visit_proportions"),r=function(t,n){this._data=t,this._getDatasets=n};r.prototype={id:function(){return this._data["Publisher Name"]},title:function(){return this._data["Publisher Title"]},subtitle:function(){return""},visits:function(){return parseInt(this._data.Visits)},views:function(){return this._data.Views},datasets:function(){return e(this._getDatasets(this),this.visits())},publisher:function(){return this}},n.exports=r},{"../util/with_visit_proportions":69}],64:[function(t,n){"use strict";n.exports=function(t,n){return function(){return n.apply(t,arguments)}}},{}],65:[function(t,n){"use strict";var e=t("underscore"),r=t("./decorate_with"),i=function(t,n){this._colors=n?n:this._defaultColors,this._items=t};i.prototype={_defaultColors:["#8bc658","#FFF300","#5140FF","#C42718","#856499","#56C8F9"],withColor:function(t,n){n||(n=t);var i=this._colors[e.indexOf(this._items,n)];return r(t,{color:function(){return i}})}},n.exports=i},{"./decorate_with":66,underscore:50}],66:[function(t,n){"use strict";var e=function(t,n){for(var e in t)this[e]=this._forward(t,t[e]);for(var r in n)this[r]=this._forward(this,n[r])};e.prototype={_forward:function(t,n){return function(){return n.apply(t,arguments)}}},n.exports=function(t,n){return new e(t,n)}},{}],67:[function(t,n){"use strict";var e=t("underscore"),r=t("bluebird"),i={fanIn:function(t,n){e.reduce(t,function(t,n){return new r(function(e){n.then(function(n){t.then(function(t){e(t.concat([n]))})})})},new r(function(t){t([])})).then(n)}};n.exports=i},{bluebird:4,underscore:50}],68:[function(t,n){"use strict";var e=t("mustache"),r=t("slick"),i=function(t,n){return n||(n={}),e.render(t,n)},o=function(t,n,e,r){var o=i(t,e),u=r?n.innerHTML+o:o;return n.innerHTML=u,n},u=function(t,n,e,i){var u=r.find(n);return o(t,u,e,i)},a=function(t,n){var e=i(t,n),r=document.createElement("div");return r.innerHTML=e,r.firstChild};n.exports={toSelector:u,toString:i,toElement:o,toNode:a}},{mustache:46,slick:48}],69:[function(t,n){"use strict";var e=t("underscore"),r=t("./decorate_with");n.exports=function(t,n){return e.map(t,function(t){return r(t,{visitsProportion:function(){return this.visits()/n}})})}},{"./decorate_with":66,underscore:50}]},{},[51]);
//# sourceMappingURL=application.js.map